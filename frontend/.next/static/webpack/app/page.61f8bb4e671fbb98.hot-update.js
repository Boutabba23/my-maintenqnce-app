"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/page",{

/***/ "(app-pages-browser)/./hooks/useAppLogic.ts":
/*!******************************!*\
  !*** ./hooks/useAppLogic.ts ***!
  \******************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   defaultCustomColors: function() { return /* binding */ defaultCustomColors; },\n/* harmony export */   useAppLogic: function() { return /* binding */ useAppLogic; }\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../types */ \"(app-pages-browser)/./types.ts\");\n/* harmony import */ var _utils_maintenance__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/maintenance */ \"(app-pages-browser)/./utils/maintenance.ts\");\n/* harmony import */ var _utils_supabase__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/supabase */ \"(app-pages-browser)/./utils/supabase.ts\");\n/* __next_internal_client_entry_do_not_use__ defaultCustomColors,useAppLogic auto */ \n\n\n\nconst loadFromStorage = (key, defaultValue)=>{\n    try {\n        // Check if we're in a browser environment\n        if ( false || typeof localStorage === \"undefined\") {\n            return defaultValue;\n        }\n        const storedValue = localStorage.getItem(key);\n        if (storedValue) {\n            try {\n                return JSON.parse(storedValue);\n            } catch (e) {\n                if (key === \"gestifiltres-theme\" && !storedValue.startsWith('\"')) {\n                    console.warn(\"Old theme format detected, migrating.\");\n                    return storedValue;\n                }\n                throw e;\n            }\n        }\n    } catch (error) {\n        console.error('Error processing localStorage key \"'.concat(key, '\":'), error);\n    }\n    return defaultValue;\n};\nconst defaultCustomColors = {\n    background: \"#f8fafc\",\n    foreground: \"#0f172a\",\n    foregroundSecondary: \"#64748b\",\n    card: \"#ffffff\",\n    cardForeground: \"#0f172a\",\n    primary: \"#f97316\",\n    primaryForeground: \"#f8fafc\",\n    accent: \"#f1f5f9\",\n    destructive: \"#ef4444\",\n    destructiveForeground: \"#f8fafc\",\n    border: \"#e2e8f0\",\n    input: \"#f1f5f9\",\n    ring: \"#f97316\",\n    cardBorders: [\n        \"#3b82f6\",\n        \"#10b981\",\n        \"#f59e0b\",\n        \"#ef4444\",\n        \"#8b5cf6\",\n        \"#0ea5e9\"\n    ]\n};\nconst useAppLogic = ()=>{\n    const [isLoading, setIsLoading] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(true);\n    const [currentView, setCurrentView] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(_types__WEBPACK_IMPORTED_MODULE_1__.View.DASHBOARD);\n    const [machines, setMachines] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]);\n    const [filterGroups, setFilterGroups] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]);\n    const [filterTypes, setFilterTypes] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]);\n    const [selectedMachine, setSelectedMachine] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [maintenanceRecords, setMaintenanceRecords] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]);\n    const [theme, _setTheme] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(()=>loadFromStorage(\"gestifiltres-theme\", \"default-light\"));\n    const [savedThemes, setSavedThemes] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(()=>loadFromStorage(\"gestifiltres-savedThemes\", []));\n    const [customColors, setCustomColors] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(()=>{\n        const saved = loadFromStorage(\"gestifiltres-customColors\", defaultCustomColors);\n        return {\n            ...defaultCustomColors,\n            ...saved\n        };\n    });\n    const [highlightedFilterGroupId, setHighlightedFilterGroupId] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [isSidebarOpen, setIsSidebarOpen] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [notifications, setNotifications] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]);\n    const [toasts, setToasts] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]);\n    const [isScannerOpen, setIsScannerOpen] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [isAIAssistantOpen, setIsAIAssistantOpen] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [isMachineModalOpen, setIsMachineModalOpen] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [editingMachine, setEditingMachine] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [isFilterGroupModalOpen, setIsFilterGroupModalOpen] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [editingFilterGroup, setEditingFilterGroup] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [isMaintenanceModalOpen, setIsMaintenanceModalOpen] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [editingMaintenanceRecord, setEditingMaintenanceRecord] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [isMaintenanceViewOnly, setIsMaintenanceViewOnly] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [isAddStockModalOpen, setIsAddStockModalOpen] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [stockUpdateInfo, setStockUpdateInfo] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [isThemeCustomizerOpen, setIsThemeCustomizerOpen] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [editingCustomTheme, setEditingCustomTheme] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [isImportModalOpen, setIsImportModalOpen] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [confirmationDialogConfig, setConfirmationDialogConfig] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({\n        isOpen: false,\n        title: \"\",\n        description: \"\",\n        onConfirm: ()=>{}\n    });\n    const addToast = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((toast)=>{\n        const id = \"toast-\".concat(Date.now());\n        setToasts((prev)=>[\n                ...prev,\n                {\n                    id,\n                    ...toast\n                }\n            ]);\n    }, []);\n    const fetchData = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(async ()=>{\n        try {\n            const [machinesRes, filterGroupsRes, filterTypesRes, maintenanceRecordsRes] = await Promise.all([\n                _utils_supabase__WEBPACK_IMPORTED_MODULE_3__.supabase.from(\"machines\").select(\"*\"),\n                _utils_supabase__WEBPACK_IMPORTED_MODULE_3__.supabase.from(\"filter_groups\").select(\"*\"),\n                _utils_supabase__WEBPACK_IMPORTED_MODULE_3__.supabase.from(\"filter_types\").select(\"*\"),\n                _utils_supabase__WEBPACK_IMPORTED_MODULE_3__.supabase.from(\"maintenance_records\").select(\"*\")\n            ]);\n            if (machinesRes.error) throw machinesRes.error;\n            if (filterGroupsRes.error) throw filterGroupsRes.error;\n            if (filterTypesRes.error) throw filterTypesRes.error;\n            if (maintenanceRecordsRes.error) throw maintenanceRecordsRes.error;\n            // Transform database results to match application types\n            const transformedMachines = (machinesRes.data || []).map((machine)=>({\n                    id: machine.id,\n                    code: machine.code,\n                    designation: machine.designation,\n                    marque: machine.marque,\n                    type: machine.type,\n                    serialNumber: machine.serial_number || \"\",\n                    registrationNumber: machine.registration_number || \"\",\n                    serviceHours: machine.service_hours,\n                    assignedFilters: machine.assigned_filters || []\n                }));\n            const transformedFilterGroups = (filterGroupsRes.data || []).map((group)=>({\n                    id: group.id,\n                    name: group.name,\n                    filterType: group.filter_type || \"\",\n                    originalReferenceId: group.original_reference_id,\n                    references: group[\"references\"] || []\n                }));\n            const transformedMaintenanceRecords = (maintenanceRecordsRes.data || []).map((record)=>({\n                    id: record.id,\n                    machineId: record.machine_id,\n                    maintenanceRange: record.maintenance_range,\n                    serviceHours: record.service_hours,\n                    date: record.date,\n                    filtersUsed: record.filters_used || []\n                }));\n            setMachines(transformedMachines);\n            setFilterGroups(transformedFilterGroups);\n            setFilterTypes(filterTypesRes.data || []);\n            setMaintenanceRecords(transformedMaintenanceRecords);\n        } catch (error) {\n            console.error(\"Failed to fetch data from Supabase:\", error);\n            addToast({\n                type: \"error\",\n                title: \"Erreur de chargement\",\n                description: error.message\n            });\n        } finally{\n            setIsLoading(false);\n        }\n    }, [\n        addToast\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        fetchData();\n    }, [\n        fetchData\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        if ( true && typeof localStorage !== \"undefined\") {\n            localStorage.setItem(\"gestifiltres-theme\", JSON.stringify(theme));\n        }\n    }, [\n        theme\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        if ( true && typeof localStorage !== \"undefined\") {\n            localStorage.setItem(\"gestifiltres-customColors\", JSON.stringify(customColors));\n        }\n    }, [\n        customColors\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        if ( true && typeof localStorage !== \"undefined\") {\n            localStorage.setItem(\"gestifiltres-savedThemes\", JSON.stringify(savedThemes));\n        }\n    }, [\n        savedThemes\n    ]);\n    const removeToast = (id)=>{\n        setToasts((prev)=>prev.filter((t)=>t.id !== id));\n    };\n    const navigateToFilterGroup = (groupId)=>{\n        setIsAIAssistantOpen(false);\n        setCurrentView(_types__WEBPACK_IMPORTED_MODULE_1__.View.FILTER_MANAGEMENT);\n        setHighlightedFilterGroupId(groupId);\n    };\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        const now = new Date().toISOString();\n        const currentValidAlerts = [];\n        const historyByMachine = new Map();\n        maintenanceRecords.forEach((rec)=>{\n            if (!historyByMachine.has(rec.machineId)) historyByMachine.set(rec.machineId, []);\n            historyByMachine.get(rec.machineId).push(rec);\n        });\n        machines.forEach((machine)=>{\n            const history = historyByMachine.get(machine.id) || [];\n            const nextMaint = (0,_utils_maintenance__WEBPACK_IMPORTED_MODULE_2__.calculateNextMaintenance)(machine, history);\n            if (nextMaint && nextMaint.dueIn <= 50) {\n                currentValidAlerts.push({\n                    id: \"maint-alert-\".concat(machine.id, \"-\").concat(nextMaint.hours),\n                    type: \"maintenance\",\n                    message: \"L'engin \".concat(machine.designation, \" (\").concat(machine.code, \") n\\xe9cessite une maintenance (Gamme \").concat(nextMaint.gamme, \") dans \").concat(nextMaint.dueIn, \"h.\"),\n                    entityId: machine.id\n                });\n            }\n        });\n        filterGroups.forEach((group)=>{\n            group.references.forEach((ref)=>{\n                if (ref.stock > 0 && ref.stock <= 5) {\n                    currentValidAlerts.push({\n                        id: \"stock-alert-\".concat(ref.id),\n                        type: \"stock\",\n                        message: \"Le stock pour le filtre \".concat(ref.reference, \" (\").concat(ref.manufacturer, \") est faible (\").concat(ref.stock, \" unit\\xe9s).\"),\n                        entityId: group.id\n                    });\n                }\n            });\n        });\n        setNotifications((prevNotifications)=>{\n            const prevMap = new Map(prevNotifications.map((n)=>[\n                    n.id,\n                    n\n                ]));\n            const nextNotifications = currentValidAlerts.map((alert)=>{\n                const prev = prevMap.get(alert.id);\n                if (prev) {\n                    return {\n                        ...prev,\n                        message: alert.message\n                    };\n                }\n                return {\n                    ...alert,\n                    read: false,\n                    createdAt: now\n                };\n            });\n            return nextNotifications;\n        });\n    }, [\n        machines,\n        filterGroups,\n        maintenanceRecords\n    ]);\n    const toggleSidebar = ()=>setIsSidebarOpen((prev)=>!prev);\n    const closeSidebar = ()=>setIsSidebarOpen(false);\n    const selectMachine = (machineId)=>{\n        const machine = machines.find((m)=>m.id === machineId);\n        if (machine) {\n            setSelectedMachine(machine);\n            setCurrentView(_types__WEBPACK_IMPORTED_MODULE_1__.View.MACHINE_DETAIL);\n        }\n    };\n    const assignFilterToMachine = async (machineId, filterTypeId, filterGroupId)=>{\n        const machineToUpdate = machines.find((m)=>m.id === machineId);\n        if (!machineToUpdate) return;\n        const newAssignedFilters = [\n            ...machineToUpdate.assignedFilters\n        ];\n        const existingIndex = newAssignedFilters.findIndex((af)=>af.filterTypeId === filterTypeId);\n        if (existingIndex > -1) {\n            newAssignedFilters[existingIndex] = {\n                ...newAssignedFilters[existingIndex],\n                filterGroupId\n            };\n        } else {\n            newAssignedFilters.push({\n                filterTypeId,\n                filterGroupId\n            });\n        }\n        const { error } = await _utils_supabase__WEBPACK_IMPORTED_MODULE_3__.supabase.from(\"machines\").update({\n            assigned_filters: newAssignedFilters\n        }).eq(\"id\", machineId);\n        if (error) {\n            addToast({\n                type: \"error\",\n                title: \"Erreur\",\n                description: error.message\n            });\n        } else {\n            fetchData();\n            if ((selectedMachine === null || selectedMachine === void 0 ? void 0 : selectedMachine.id) === machineId) {\n                const updatedMachine = {\n                    ...machineToUpdate,\n                    assignedFilters: newAssignedFilters\n                };\n                setSelectedMachine(updatedMachine);\n            }\n        }\n    };\n    const addFilterTypeToMachine = async (machineId, filterTypeId)=>{\n        const machineToUpdate = machines.find((m)=>m.id === machineId);\n        if (!machineToUpdate || machineToUpdate.assignedFilters.some((af)=>af.filterTypeId === filterTypeId)) return;\n        const newAssignedFilters = [\n            ...machineToUpdate.assignedFilters,\n            {\n                filterTypeId,\n                filterGroupId: null\n            }\n        ];\n        const { error } = await _utils_supabase__WEBPACK_IMPORTED_MODULE_3__.supabase.from(\"machines\").update({\n            assigned_filters: newAssignedFilters\n        }).eq(\"id\", machineId);\n        if (error) {\n            addToast({\n                type: \"error\",\n                title: \"Erreur\",\n                description: error.message\n            });\n        } else {\n            fetchData();\n            if ((selectedMachine === null || selectedMachine === void 0 ? void 0 : selectedMachine.id) === machineId) {\n                const updatedMachine = {\n                    ...machineToUpdate,\n                    assignedFilters: newAssignedFilters\n                };\n                setSelectedMachine(updatedMachine);\n            }\n        }\n    };\n    const removeFilterTypeFromMachine = async (machineId, filterTypeId)=>{\n        const machineToUpdate = machines.find((m)=>m.id === machineId);\n        if (!machineToUpdate) return;\n        const newAssignedFilters = machineToUpdate.assignedFilters.filter((af)=>af.filterTypeId !== filterTypeId);\n        const { error } = await _utils_supabase__WEBPACK_IMPORTED_MODULE_3__.supabase.from(\"machines\").update({\n            assigned_filters: newAssignedFilters\n        }).eq(\"id\", machineId);\n        if (error) {\n            addToast({\n                type: \"error\",\n                title: \"Erreur\",\n                description: error.message\n            });\n        } else {\n            fetchData();\n            if ((selectedMachine === null || selectedMachine === void 0 ? void 0 : selectedMachine.id) === machineId) {\n                const updatedMachine = {\n                    ...machineToUpdate,\n                    assignedFilters: newAssignedFilters\n                };\n                setSelectedMachine(updatedMachine);\n            }\n        }\n    };\n    const openConfirmationDialog = (config)=>{\n        setConfirmationDialogConfig({\n            ...config,\n            isOpen: true\n        });\n    };\n    const closeConfirmationDialog = ()=>{\n        setConfirmationDialogConfig((prev)=>({\n                ...prev,\n                isOpen: false\n            }));\n    };\n    const handleConfirm = ()=>{\n        confirmationDialogConfig.onConfirm();\n        closeConfirmationDialog();\n    };\n    const openMachineModal = (machine)=>{\n        setEditingMachine(machine);\n        setIsMachineModalOpen(true);\n    };\n    const closeMachineModal = ()=>setIsMachineModalOpen(false);\n    const saveMachine = async (machineData)=>{\n        // Prepare the machine data for insertion\n        const machineToSave = editingMachine ? {\n            id: editingMachine.id,\n            code: machineData.code,\n            designation: machineData.designation,\n            marque: machineData.marque,\n            type: machineData.type,\n            serial_number: machineData.serialNumber || null,\n            registration_number: machineData.registrationNumber || null,\n            service_hours: machineData.serviceHours,\n            assigned_filters: editingMachine.assignedFilters || []\n        } : {\n            id: \"m-\".concat(Date.now()),\n            code: machineData.code,\n            designation: machineData.designation,\n            marque: machineData.marque,\n            type: machineData.type,\n            serial_number: machineData.serialNumber || null,\n            registration_number: machineData.registrationNumber || null,\n            service_hours: machineData.serviceHours,\n            assigned_filters: []\n        };\n        const { error } = await _utils_supabase__WEBPACK_IMPORTED_MODULE_3__.supabase.from(\"machines\").upsert(machineToSave);\n        if (error) {\n            console.error(\"Error saving machine:\", error);\n            addToast({\n                type: \"error\",\n                title: \"Erreur\",\n                description: \"\\xc9chec de la sauvegarde de l'engin: \".concat(error.message)\n            });\n        } else {\n            fetchData();\n            const successMessage = editingMachine ? \"Engin Mis \\xe0 Jour\" : \"Engin Ajout\\xe9\";\n            addToast({\n                type: \"success\",\n                title: successMessage,\n                description: \"L'engin \".concat(machineToSave.designation, \" a \\xe9t\\xe9 sauvegard\\xe9.\")\n            });\n            if ((selectedMachine === null || selectedMachine === void 0 ? void 0 : selectedMachine.id) === machineToSave.id) {\n                // Transform database format to application format for state\n                const transformedMachine = {\n                    id: machineToSave.id,\n                    code: machineToSave.code,\n                    designation: machineToSave.designation,\n                    marque: machineToSave.marque,\n                    type: machineToSave.type,\n                    serialNumber: machineToSave.serial_number,\n                    registrationNumber: machineToSave.registration_number,\n                    serviceHours: machineToSave.service_hours,\n                    assignedFilters: machineToSave.assigned_filters\n                };\n                setSelectedMachine(transformedMachine);\n            }\n        }\n        closeMachineModal();\n    };\n    const deleteMachine = async (machineId)=>{\n        const { error } = await _utils_supabase__WEBPACK_IMPORTED_MODULE_3__.supabase.from(\"machines\").delete().eq(\"id\", machineId);\n        if (error) {\n            addToast({\n                type: \"error\",\n                title: \"Erreur\",\n                description: error.message\n            });\n        } else {\n            fetchData();\n            addToast({\n                type: \"info\",\n                title: \"Engin Supprim\\xe9\"\n            });\n        }\n    };\n    const closeImportModal = ()=>setIsImportModalOpen(false);\n    const importMachines = async (newMachinesData)=>{\n        const machinesToAdd = newMachinesData.map((nm)=>({\n                id: \"m-\".concat(Date.now(), \"-\").concat(Math.random().toString(36).substr(2, 9)),\n                code: nm.code,\n                designation: nm.designation,\n                marque: nm.marque,\n                type: nm.type,\n                serial_number: nm.serialNumber || null,\n                registration_number: nm.registrationNumber || null,\n                service_hours: nm.serviceHours,\n                assigned_filters: []\n            }));\n        // Filter out any records that might have invalid data\n        const validMachinesToAdd = machinesToAdd.filter((machine)=>machine.code && machine.designation && machine.marque && machine.type);\n        if (validMachinesToAdd.length === 0) {\n            addToast({\n                type: \"warning\",\n                title: \"Importation Annul\\xe9e\",\n                description: \"Aucun engin valide \\xe0 importer.\"\n            });\n            closeImportModal();\n            return;\n        }\n        const { error } = await _utils_supabase__WEBPACK_IMPORTED_MODULE_3__.supabase.from(\"machines\").insert(validMachinesToAdd);\n        if (error) {\n            console.error(\"Error importing machines:\", error);\n            addToast({\n                type: \"error\",\n                title: \"Erreur d'importation\",\n                description: \"\\xc9chec de l'importation des engins: \".concat(error.message)\n            });\n        } else {\n            fetchData();\n            addToast({\n                type: \"success\",\n                title: \"Importation R\\xe9ussie\",\n                description: \"\".concat(validMachinesToAdd.length, \" engins ont \\xe9t\\xe9 ajout\\xe9s.\")\n            });\n        }\n        closeImportModal();\n    };\n    const importMaintenanceRecords = async (newMaintenanceData)=>{\n        try {\n            // First, get all machines to match designations\n            const { data: machinesData, error: machinesError } = await _utils_supabase__WEBPACK_IMPORTED_MODULE_3__.supabase.from(\"machines\").select(\"id, code, designation\");\n            if (machinesError) {\n                throw machinesError;\n            }\n            // Create maps for quick lookup\n            const machineCodeToIdMap = new Map();\n            const machineDesignationToIdMap = new Map();\n            machinesData.forEach((machine)=>{\n                machineCodeToIdMap.set(machine.code, machine.id);\n                machineDesignationToIdMap.set(machine.designation.toLowerCase(), machine.id);\n            });\n            // Track records that couldn't be matched for better feedback\n            let unmatchedRecordsCount = 0;\n            const unmatchedRecords = [];\n            // Create maintenance records for each imported item\n            const maintenanceRecordsToAdd = newMaintenanceData.map((record)=>{\n                // Try to find the machine ID by designation\n                let machineId = undefined; // Use undefined instead of null\n                if (record.machineDesignation) {\n                    // First try exact match with designation\n                    machineId = machineDesignationToIdMap.get(record.machineDesignation.toLowerCase()) || undefined;\n                    // If not found, try partial match\n                    if (!machineId) {\n                        for (const [designation, id] of machineDesignationToIdMap.entries()){\n                            if (record.machineDesignation.toLowerCase().includes(designation) || designation.includes(record.machineDesignation.toLowerCase())) {\n                                machineId = id;\n                                break;\n                            }\n                        }\n                    }\n                    // If still not found, try to match with machine codes\n                    if (!machineId) {\n                        machineId = machineCodeToIdMap.get(record.machineDesignation) || undefined;\n                    }\n                    // If still not found, collect for feedback\n                    if (!machineId) {\n                        unmatchedRecordsCount++;\n                        unmatchedRecords.push(record.machineDesignation);\n                    }\n                } else {\n                    // No machine designation provided\n                    unmatchedRecordsCount++;\n                    unmatchedRecords.push(\"Aucune d\\xe9signation fournie\");\n                }\n                // Only include machine_id in the record if it's not undefined\n                const baseRecord = {\n                    id: \"maint-\".concat(Date.now(), \"-\").concat(Math.random().toString(36).substr(2, 9)),\n                    date: record.date,\n                    service_hours: record.serviceHours,\n                    maintenance_range: record.maintenanceRange,\n                    filters_used: []\n                };\n                // Add machine_id only if it's defined\n                if (machineId !== undefined) {\n                    return {\n                        ...baseRecord,\n                        machine_id: machineId\n                    };\n                } else {\n                    return baseRecord;\n                }\n            }).filter((record)=>record.date && record.date !== \"Invalid Date\"); // Filter out records with invalid dates\n            // Insert all records (including those without matched machines)\n            if (maintenanceRecordsToAdd.length > 0) {\n                const { data, error } = await _utils_supabase__WEBPACK_IMPORTED_MODULE_3__.supabase.from(\"maintenance_records\").insert(maintenanceRecordsToAdd) // Cast to any to avoid type issues\n                .select();\n                if (error) {\n                    throw error;\n                }\n                // Refresh data to show the new records\n                await fetchData();\n                // Show success message with details about unmatched records\n                let description = \"Donn\\xe9es de maintenance import\\xe9es avec succ\\xe8s. \".concat(maintenanceRecordsToAdd.length, \" enregistrements ont \\xe9t\\xe9 ajout\\xe9s \\xe0 la table de maintenance.\");\n                if (unmatchedRecordsCount > 0) {\n                    description += \" \".concat(unmatchedRecordsCount, \" enregistrement(s) n'ont pas pu \\xeatre associ\\xe9s \\xe0 un engin existant et seront import\\xe9s sans association.\");\n                }\n                addToast({\n                    type: \"success\",\n                    title: \"Importation de Maintenance\",\n                    description\n                });\n                console.log(\"Imported maintenance records:\", data);\n            } else {\n                // Show message if no records to import\n                addToast({\n                    type: \"info\",\n                    title: \"Importation de Maintenance\",\n                    description: \"Aucun enregistrement de maintenance \\xe0 importer.\"\n                });\n            }\n        } catch (error) {\n            console.error(\"Error importing maintenance records:\", error);\n            addToast({\n                type: \"error\",\n                title: \"Erreur d'importation\",\n                description: \"\\xc9chec de l'importation des donn\\xe9es de maintenance: \".concat(error.message)\n            });\n        }\n        // Log the data for debugging\n        console.log(\"Maintenance data to import:\", newMaintenanceData);\n        closeImportModal();\n    };\n    const openFilterGroupModal = (group)=>{\n        setEditingFilterGroup(group);\n        setIsFilterGroupModalOpen(true);\n    };\n    const closeFilterGroupModal = ()=>setIsFilterGroupModalOpen(false);\n    const saveFilterGroup = async (groupData)=>{\n        const groupToSave = \"id\" in groupData && groupData.id ? {\n            id: groupData.id,\n            name: groupData.name,\n            filter_type: groupData.filterType,\n            original_reference_id: groupData.originalReferenceId,\n            references: groupData.references\n        } : {\n            id: \"fg-\".concat(Date.now()),\n            name: groupData.name,\n            filter_type: groupData.filterType,\n            original_reference_id: groupData.originalReferenceId,\n            references: groupData.references\n        };\n        const { error } = await _utils_supabase__WEBPACK_IMPORTED_MODULE_3__.supabase.from(\"filter_groups\").upsert(groupToSave);\n        if (error) {\n            addToast({\n                type: \"error\",\n                title: \"Erreur\",\n                description: error.message\n            });\n        } else {\n            fetchData();\n            const successMessage = \"id\" in groupData && groupData.id ? \"Groupe Mis \\xe0 Jour\" : \"Groupe Cr\\xe9\\xe9\";\n            addToast({\n                type: \"success\",\n                title: successMessage,\n                description: \"Le groupe \".concat(groupToSave.name, \" a \\xe9t\\xe9 sauvegard\\xe9.\")\n            });\n        }\n        closeFilterGroupModal();\n    };\n    const deleteFilterGroup = async (groupId)=>{\n        const { error } = await _utils_supabase__WEBPACK_IMPORTED_MODULE_3__.supabase.from(\"filter_groups\").delete().eq(\"id\", groupId);\n        if (error) {\n            addToast({\n                type: \"error\",\n                title: \"Erreur\",\n                description: error.message\n            });\n        } else {\n            // Also need to un-assign from machines. This is a non-atomic operation for simplicity.\n            machines.forEach(async (m)=>{\n                if (m.assignedFilters.some((af)=>af.filterGroupId === groupId)) {\n                    const newAssigned = m.assignedFilters.map((af)=>af.filterGroupId === groupId ? {\n                            ...af,\n                            filterGroupId: null\n                        } : af);\n                    await _utils_supabase__WEBPACK_IMPORTED_MODULE_3__.supabase.from(\"machines\").update({\n                        assigned_filters: newAssigned\n                    }).eq(\"id\", m.id);\n                }\n            });\n            fetchData();\n            addToast({\n                type: \"info\",\n                title: \"Groupe Supprim\\xe9\"\n            });\n        }\n    };\n    const openMaintenanceModal = function(record) {\n        let viewOnly = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : false;\n        setEditingMaintenanceRecord(record);\n        setIsMaintenanceViewOnly(viewOnly);\n        setIsMaintenanceModalOpen(true);\n    };\n    const closeMaintenanceModal = ()=>setIsMaintenanceModalOpen(false);\n    const saveMaintenanceRecord = async (recordData)=>{\n        const recordToSave = \"id\" in recordData && recordData.id ? {\n            id: recordData.id,\n            machine_id: recordData.machineId,\n            date: recordData.date,\n            service_hours: recordData.serviceHours,\n            maintenance_range: recordData.maintenanceRange,\n            filters_used: recordData.filtersUsed\n        } : {\n            id: \"maint-\".concat(Date.now()),\n            machine_id: recordData.machineId,\n            date: recordData.date,\n            service_hours: recordData.serviceHours,\n            maintenance_range: recordData.maintenanceRange,\n            filters_used: recordData.filtersUsed\n        };\n        const { error } = await _utils_supabase__WEBPACK_IMPORTED_MODULE_3__.supabase.from(\"maintenance_records\").upsert(recordToSave);\n        if (error) {\n            addToast({\n                type: \"error\",\n                title: \"Erreur\",\n                description: error.message\n            });\n        } else {\n            const machine = machines.find((m)=>m.id === recordData.machineId);\n            if (machine && recordData.serviceHours > machine.serviceHours) {\n                await _utils_supabase__WEBPACK_IMPORTED_MODULE_3__.supabase.from(\"machines\").update({\n                    service_hours: recordData.serviceHours\n                }).eq(\"id\", machine.id);\n            }\n            fetchData();\n            const successMessage = \"id\" in recordData && recordData.id ? \"Maintenance Mise \\xe0 Jour\" : \"Maintenance Enregistr\\xe9e\";\n            addToast({\n                type: \"success\",\n                title: successMessage\n            });\n        }\n        closeMaintenanceModal();\n    };\n    const deleteMaintenanceRecord = async (recordId)=>{\n        const { error } = await _utils_supabase__WEBPACK_IMPORTED_MODULE_3__.supabase.from(\"maintenance_records\").delete().eq(\"id\", recordId);\n        if (error) {\n            addToast({\n                type: \"error\",\n                title: \"Erreur\",\n                description: error.message\n            });\n        } else {\n            fetchData();\n            addToast({\n                type: \"info\",\n                title: \"Enregistrement Supprim\\xe9\"\n            });\n        }\n    };\n    const handleNotificationClick = (notification)=>{\n        setNotifications((prev)=>prev.map((n)=>n.id === notification.id ? {\n                    ...n,\n                    read: true\n                } : n));\n        if (notification.type === \"maintenance\") {\n            selectMachine(notification.entityId);\n        } else if (notification.type === \"stock\") {\n            navigateToFilterGroup(notification.entityId);\n        }\n    };\n    const markAllNotificationsAsRead = ()=>{\n        setNotifications((prev)=>prev.map((n)=>({\n                    ...n,\n                    read: true\n                })));\n    };\n    const openAddStockModal = (info)=>{\n        setStockUpdateInfo(info);\n        setIsAddStockModalOpen(true);\n    };\n    const closeAddStockModal = ()=>setIsAddStockModalOpen(false);\n    const addStock = async (quantity)=>{\n        if (!stockUpdateInfo) return;\n        const { filterReference, filterGroupId } = stockUpdateInfo;\n        const groupToUpdate = filterGroups.find((g)=>g.id === filterGroupId);\n        if (!groupToUpdate) return;\n        const newReferences = groupToUpdate.references.map((ref)=>ref.id === filterReference.id ? {\n                ...ref,\n                stock: ref.stock + quantity\n            } : ref);\n        const { error } = await _utils_supabase__WEBPACK_IMPORTED_MODULE_3__.supabase.from(\"filter_groups\").update({\n            references: newReferences\n        }).eq(\"id\", filterGroupId);\n        if (error) {\n            addToast({\n                type: \"error\",\n                title: \"Erreur\",\n                description: error.message\n            });\n        } else {\n            fetchData();\n            addToast({\n                type: \"success\",\n                title: \"Stock Ajout\\xe9\",\n                description: \"\".concat(quantity, \" unit\\xe9(s) ajout\\xe9e(s) pour \").concat(filterReference.reference, \".\")\n            });\n        }\n        closeAddStockModal();\n    };\n    const setTheme = (themeId)=>{\n        _setTheme(themeId);\n        if (themeId.startsWith(\"custom-\")) {\n            const saved = savedThemes.find((t)=>t.id === themeId);\n            if (saved) setCustomColors(saved.colors);\n        }\n    };\n    const openThemeCustomizer = (themeToEdit)=>{\n        setEditingCustomTheme(themeToEdit);\n        setCustomColors(themeToEdit ? themeToEdit.colors : defaultCustomColors);\n        setIsThemeCustomizerOpen(true);\n    };\n    const closeThemeCustomizer = ()=>{\n        setTheme(theme);\n        setIsThemeCustomizerOpen(false);\n    };\n    const saveCustomTheme = (themeData)=>{\n        if (themeData.id) {\n            const updatedThemes = savedThemes.map((t)=>t.id === themeData.id ? {\n                    ...t,\n                    ...themeData\n                } : t);\n            setSavedThemes(updatedThemes);\n            setTheme(themeData.id);\n        } else {\n            const newTheme = {\n                ...themeData,\n                id: \"custom-\".concat(Date.now())\n            };\n            setSavedThemes([\n                ...savedThemes,\n                newTheme\n            ]);\n            setTheme(newTheme.id);\n        }\n        addToast({\n            type: \"success\",\n            title: \"Th\\xe8me Enregistr\\xe9\",\n            description: 'Le th\\xe8me \"'.concat(themeData.name, '\" a \\xe9t\\xe9 sauvegard\\xe9.')\n        });\n    };\n    const deleteCustomTheme = (themeId)=>{\n        setSavedThemes(savedThemes.filter((t)=>t.id !== themeId));\n        if (theme === themeId) {\n            setTheme(\"default-light\");\n        }\n        addToast({\n            type: \"info\",\n            title: \"Th\\xe8me Supprim\\xe9\"\n        });\n    };\n    const actions = {\n        setCurrentView,\n        toggleSidebar,\n        closeSidebar,\n        selectMachine,\n        assignFilterToMachine,\n        addFilterTypeToMachine,\n        removeFilterTypeFromMachine,\n        openConfirmationDialog,\n        closeConfirmationDialog,\n        handleConfirm,\n        openMachineModal,\n        closeMachineModal,\n        saveMachine,\n        deleteMachine,\n        openFilterGroupModal,\n        closeFilterGroupModal,\n        saveFilterGroup,\n        deleteFilterGroup,\n        openMaintenanceModal,\n        closeMaintenanceModal,\n        saveMaintenanceRecord,\n        deleteMaintenanceRecord,\n        navigateToFilterGroup,\n        clearHighlightedFilterGroup: ()=>setHighlightedFilterGroupId(null),\n        handleNotificationClick,\n        markAllNotificationsAsRead,\n        openAIAssistant: ()=>setIsAIAssistantOpen(true),\n        closeAIAssistant: ()=>setIsAIAssistantOpen(false),\n        openScanner: ()=>setIsScannerOpen(true),\n        closeScanner: ()=>setIsScannerOpen(false),\n        addToast,\n        removeToast,\n        openAddStockModal,\n        closeAddStockModal,\n        addStock,\n        setTheme,\n        openThemeCustomizer,\n        closeThemeCustomizer,\n        saveCustomTheme,\n        deleteCustomTheme,\n        openImportModal: ()=>setIsImportModalOpen(true),\n        closeImportModal,\n        importMachines,\n        importMaintenanceRecords\n    };\n    const state = {\n        isLoading,\n        currentView,\n        machines,\n        filterGroups,\n        filterTypes,\n        selectedMachine,\n        maintenanceRecords,\n        theme,\n        customColors,\n        savedThemes,\n        highlightedFilterGroupId,\n        isSidebarOpen,\n        notifications,\n        toasts,\n        isScannerOpen,\n        isAIAssistantOpen,\n        isMachineModalOpen,\n        editingMachine,\n        isFilterGroupModalOpen,\n        editingFilterGroup,\n        isMaintenanceModalOpen,\n        editingMaintenanceRecord,\n        isMaintenanceViewOnly,\n        isAddStockModalOpen,\n        stockUpdateInfo,\n        isThemeCustomizerOpen,\n        editingCustomTheme,\n        isImportModalOpen,\n        confirmationDialogConfig\n    };\n    return {\n        state,\n        actions\n    };\n};\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2hvb2tzL3VzZUFwcExvZ2ljLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7cUZBRXlEO0FBZXZDO0FBQzhDO0FBQ25CO0FBUzdDLE1BQU1NLGtCQUFrQixDQUFJQyxLQUFhQztJQUN2QyxJQUFJO1FBQ0YsMENBQTBDO1FBQzFDLElBQUksTUFBNkIsSUFBSSxPQUFPQyxpQkFBaUIsYUFBYTtZQUN4RSxPQUFPRDtRQUNUO1FBRUEsTUFBTUUsY0FBY0QsYUFBYUUsT0FBTyxDQUFDSjtRQUN6QyxJQUFJRyxhQUFhO1lBQ2YsSUFBSTtnQkFDRixPQUFPRSxLQUFLQyxLQUFLLENBQUNIO1lBQ3BCLEVBQUUsT0FBT0ksR0FBRztnQkFDVixJQUFJUCxRQUFRLHdCQUF3QixDQUFDRyxZQUFZSyxVQUFVLENBQUMsTUFBTTtvQkFDaEVDLFFBQVFDLElBQUksQ0FBQztvQkFDYixPQUFPUDtnQkFDVDtnQkFDQSxNQUFNSTtZQUNSO1FBQ0Y7SUFDRixFQUFFLE9BQU9JLE9BQU87UUFDZEYsUUFBUUUsS0FBSyxDQUFDLHNDQUEwQyxPQUFKWCxLQUFJLE9BQUtXO0lBQy9EO0lBQ0EsT0FBT1Y7QUFDVDtBQUVPLE1BQU1XLHNCQUFvQztJQUMvQ0MsWUFBWTtJQUNaQyxZQUFZO0lBQ1pDLHFCQUFxQjtJQUNyQkMsTUFBTTtJQUNOQyxnQkFBZ0I7SUFDaEJDLFNBQVM7SUFDVEMsbUJBQW1CO0lBQ25CQyxRQUFRO0lBQ1JDLGFBQWE7SUFDYkMsdUJBQXVCO0lBQ3ZCQyxRQUFRO0lBQ1JDLE9BQU87SUFDUEMsTUFBTTtJQUNOQyxhQUFhO1FBQ1g7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO0tBQ0Q7QUFDSCxFQUFFO0FBRUssTUFBTUMsY0FBYztJQUN6QixNQUFNLENBQUNDLFdBQVdDLGFBQWEsR0FBR3BDLCtDQUFRQSxDQUFDO0lBQzNDLE1BQU0sQ0FBQ3FDLGFBQWFDLGVBQWUsR0FBR3RDLCtDQUFRQSxDQUFPRyx3Q0FBSUEsQ0FBQ29DLFNBQVM7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UUFDQUU7UUFDQUU7UUFDQUU7UUFDQUU7UUFDQUU7UUFDQUU7UUFDQUU7UUFDQUU7UUFDQUU7SUFDRjtJQUVBLE9BQU87UUFBRXFNO1FBQU9QO0lBQVE7QUFDMUIsRUFBRSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ob29rcy91c2VBcHBMb2dpYy50cz9jODE5Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIGNsaWVudFwiO1xyXG5cclxuaW1wb3J0IHsgdXNlU3RhdGUsIHVzZUVmZmVjdCwgdXNlQ2FsbGJhY2sgfSBmcm9tIFwicmVhY3RcIjtcclxuaW1wb3J0IHtcclxuICBNYWNoaW5lLFxyXG4gIEZpbHRlckdyb3VwLFxyXG4gIEZpbHRlclR5cGUsXHJcbiAgVmlldyxcclxuICBGaWx0ZXJSZWZlcmVuY2UsXHJcbiAgQXNzaWduZWRGaWx0ZXIsXHJcbiAgVGhlbWUsXHJcbiAgTWFpbnRlbmFuY2VSZWNvcmQsXHJcbiAgTm90aWZpY2F0aW9uLFxyXG4gIFRvYXN0LFxyXG4gIFN0b2NrVXBkYXRlSW5mbyxcclxuICBDdXN0b21Db2xvcnMsXHJcbiAgU2F2ZWRUaGVtZSxcclxufSBmcm9tIFwiLi4vdHlwZXNcIjtcclxuaW1wb3J0IHsgY2FsY3VsYXRlTmV4dE1haW50ZW5hbmNlIH0gZnJvbSBcIi4uL3V0aWxzL21haW50ZW5hbmNlXCI7XHJcbmltcG9ydCB7IHN1cGFiYXNlIH0gZnJvbSBcIi4uL3V0aWxzL3N1cGFiYXNlXCI7XHJcblxyXG5pbnRlcmZhY2UgQ29uZmlybWF0aW9uRGlhbG9nQ29uZmlnIHtcclxuICBpc09wZW46IGJvb2xlYW47XHJcbiAgdGl0bGU6IHN0cmluZztcclxuICBkZXNjcmlwdGlvbjogc3RyaW5nO1xyXG4gIG9uQ29uZmlybTogKCkgPT4gdm9pZDtcclxufVxyXG5cclxuY29uc3QgbG9hZEZyb21TdG9yYWdlID0gPFQ+KGtleTogc3RyaW5nLCBkZWZhdWx0VmFsdWU6IFQpOiBUID0+IHtcclxuICB0cnkge1xyXG4gICAgLy8gQ2hlY2sgaWYgd2UncmUgaW4gYSBicm93c2VyIGVudmlyb25tZW50XHJcbiAgICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gXCJ1bmRlZmluZWRcIiB8fCB0eXBlb2YgbG9jYWxTdG9yYWdlID09PSBcInVuZGVmaW5lZFwiKSB7XHJcbiAgICAgIHJldHVybiBkZWZhdWx0VmFsdWU7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3Qgc3RvcmVkVmFsdWUgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShrZXkpO1xyXG4gICAgaWYgKHN0b3JlZFZhbHVlKSB7XHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgcmV0dXJuIEpTT04ucGFyc2Uoc3RvcmVkVmFsdWUpO1xyXG4gICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgaWYgKGtleSA9PT0gXCJnZXN0aWZpbHRyZXMtdGhlbWVcIiAmJiAhc3RvcmVkVmFsdWUuc3RhcnRzV2l0aCgnXCInKSkge1xyXG4gICAgICAgICAgY29uc29sZS53YXJuKFwiT2xkIHRoZW1lIGZvcm1hdCBkZXRlY3RlZCwgbWlncmF0aW5nLlwiKTtcclxuICAgICAgICAgIHJldHVybiBzdG9yZWRWYWx1ZSBhcyBUO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aHJvdyBlO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIHByb2Nlc3NpbmcgbG9jYWxTdG9yYWdlIGtleSBcIiR7a2V5fVwiOmAsIGVycm9yKTtcclxuICB9XHJcbiAgcmV0dXJuIGRlZmF1bHRWYWx1ZTtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBkZWZhdWx0Q3VzdG9tQ29sb3JzOiBDdXN0b21Db2xvcnMgPSB7XHJcbiAgYmFja2dyb3VuZDogXCIjZjhmYWZjXCIsXHJcbiAgZm9yZWdyb3VuZDogXCIjMGYxNzJhXCIsXHJcbiAgZm9yZWdyb3VuZFNlY29uZGFyeTogXCIjNjQ3NDhiXCIsXHJcbiAgY2FyZDogXCIjZmZmZmZmXCIsXHJcbiAgY2FyZEZvcmVncm91bmQ6IFwiIzBmMTcyYVwiLFxyXG4gIHByaW1hcnk6IFwiI2Y5NzMxNlwiLFxyXG4gIHByaW1hcnlGb3JlZ3JvdW5kOiBcIiNmOGZhZmNcIixcclxuICBhY2NlbnQ6IFwiI2YxZjVmOVwiLFxyXG4gIGRlc3RydWN0aXZlOiBcIiNlZjQ0NDRcIixcclxuICBkZXN0cnVjdGl2ZUZvcmVncm91bmQ6IFwiI2Y4ZmFmY1wiLFxyXG4gIGJvcmRlcjogXCIjZTJlOGYwXCIsXHJcbiAgaW5wdXQ6IFwiI2YxZjVmOVwiLFxyXG4gIHJpbmc6IFwiI2Y5NzMxNlwiLFxyXG4gIGNhcmRCb3JkZXJzOiBbXHJcbiAgICBcIiMzYjgyZjZcIixcclxuICAgIFwiIzEwYjk4MVwiLFxyXG4gICAgXCIjZjU5ZTBiXCIsXHJcbiAgICBcIiNlZjQ0NDRcIixcclxuICAgIFwiIzhiNWNmNlwiLFxyXG4gICAgXCIjMGVhNWU5XCIsXHJcbiAgXSxcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCB1c2VBcHBMb2dpYyA9ICgpID0+IHtcclxuICBjb25zdCBbaXNMb2FkaW5nLCBzZXRJc0xvYWRpbmddID0gdXNlU3RhdGUodHJ1ZSk7XHJcbiAgY29uc3QgW2N1cnJlbnRWaWV3LCBzZXRDdXJyZW50Vmlld10gPSB1c2VTdGF0ZTxWaWV3PihWaWV3LkRBU0hCT0FSRCk7XHJcbiAgY29uc3QgW21hY2hpbmVzLCBzZXRNYWNoaW5lc10gPSB1c2VTdGF0ZTxNYWNoaW5lW10+KFtdKTtcclxuICBjb25zdCBbZmlsdGVyR3JvdXBzLCBzZXRGaWx0ZXJHcm91cHNdID0gdXNlU3RhdGU8RmlsdGVyR3JvdXBbXT4oW10pO1xyXG4gIGNvbnN0IFtmaWx0ZXJUeXBlcywgc2V0RmlsdGVyVHlwZXNdID0gdXNlU3RhdGU8RmlsdGVyVHlwZVtdPihbXSk7XHJcbiAgY29uc3QgW3NlbGVjdGVkTWFjaGluZSwgc2V0U2VsZWN0ZWRNYWNoaW5lXSA9IHVzZVN0YXRlPE1hY2hpbmUgfCBudWxsPihudWxsKTtcclxuICBjb25zdCBbbWFpbnRlbmFuY2VSZWNvcmRzLCBzZXRNYWludGVuYW5jZVJlY29yZHNdID0gdXNlU3RhdGU8XHJcbiAgICBNYWludGVuYW5jZVJlY29yZFtdXHJcbiAgPihbXSk7XHJcblxyXG4gIGNvbnN0IFt0aGVtZSwgX3NldFRoZW1lXSA9IHVzZVN0YXRlPFRoZW1lPigoKSA9PlxyXG4gICAgbG9hZEZyb21TdG9yYWdlKFwiZ2VzdGlmaWx0cmVzLXRoZW1lXCIsIFwiZGVmYXVsdC1saWdodFwiKVxyXG4gICk7XHJcbiAgY29uc3QgW3NhdmVkVGhlbWVzLCBzZXRTYXZlZFRoZW1lc10gPSB1c2VTdGF0ZTxTYXZlZFRoZW1lW10+KCgpID0+XHJcbiAgICBsb2FkRnJvbVN0b3JhZ2UoXCJnZXN0aWZpbHRyZXMtc2F2ZWRUaGVtZXNcIiwgW10pXHJcbiAgKTtcclxuICBjb25zdCBbY3VzdG9tQ29sb3JzLCBzZXRDdXN0b21Db2xvcnNdID0gdXNlU3RhdGU8Q3VzdG9tQ29sb3JzPigoKSA9PiB7XHJcbiAgICBjb25zdCBzYXZlZCA9IGxvYWRGcm9tU3RvcmFnZShcclxuICAgICAgXCJnZXN0aWZpbHRyZXMtY3VzdG9tQ29sb3JzXCIsXHJcbiAgICAgIGRlZmF1bHRDdXN0b21Db2xvcnNcclxuICAgICk7XHJcbiAgICByZXR1cm4geyAuLi5kZWZhdWx0Q3VzdG9tQ29sb3JzLCAuLi5zYXZlZCB9O1xyXG4gIH0pO1xyXG5cclxuICBjb25zdCBbaGlnaGxpZ2h0ZWRGaWx0ZXJHcm91cElkLCBzZXRIaWdobGlnaHRlZEZpbHRlckdyb3VwSWRdID0gdXNlU3RhdGU8XHJcbiAgICBzdHJpbmcgfCBudWxsXHJcbiAgPihudWxsKTtcclxuICBjb25zdCBbaXNTaWRlYmFyT3Blbiwgc2V0SXNTaWRlYmFyT3Blbl0gPSB1c2VTdGF0ZShmYWxzZSk7XHJcbiAgY29uc3QgW25vdGlmaWNhdGlvbnMsIHNldE5vdGlmaWNhdGlvbnNdID0gdXNlU3RhdGU8Tm90aWZpY2F0aW9uW10+KFtdKTtcclxuICBjb25zdCBbdG9hc3RzLCBzZXRUb2FzdHNdID0gdXNlU3RhdGU8VG9hc3RbXT4oW10pO1xyXG5cclxuICBjb25zdCBbaXNTY2FubmVyT3Blbiwgc2V0SXNTY2FubmVyT3Blbl0gPSB1c2VTdGF0ZShmYWxzZSk7XHJcbiAgY29uc3QgW2lzQUlBc3Npc3RhbnRPcGVuLCBzZXRJc0FJQXNzaXN0YW50T3Blbl0gPSB1c2VTdGF0ZShmYWxzZSk7XHJcbiAgY29uc3QgW2lzTWFjaGluZU1vZGFsT3Blbiwgc2V0SXNNYWNoaW5lTW9kYWxPcGVuXSA9IHVzZVN0YXRlKGZhbHNlKTtcclxuICBjb25zdCBbZWRpdGluZ01hY2hpbmUsIHNldEVkaXRpbmdNYWNoaW5lXSA9IHVzZVN0YXRlPE1hY2hpbmUgfCBudWxsPihudWxsKTtcclxuXHJcbiAgY29uc3QgW2lzRmlsdGVyR3JvdXBNb2RhbE9wZW4sIHNldElzRmlsdGVyR3JvdXBNb2RhbE9wZW5dID0gdXNlU3RhdGUoZmFsc2UpO1xyXG4gIGNvbnN0IFtlZGl0aW5nRmlsdGVyR3JvdXAsIHNldEVkaXRpbmdGaWx0ZXJHcm91cF0gPVxyXG4gICAgdXNlU3RhdGU8RmlsdGVyR3JvdXAgfCBudWxsPihudWxsKTtcclxuXHJcbiAgY29uc3QgW2lzTWFpbnRlbmFuY2VNb2RhbE9wZW4sIHNldElzTWFpbnRlbmFuY2VNb2RhbE9wZW5dID0gdXNlU3RhdGUoZmFsc2UpO1xyXG4gIGNvbnN0IFtlZGl0aW5nTWFpbnRlbmFuY2VSZWNvcmQsIHNldEVkaXRpbmdNYWludGVuYW5jZVJlY29yZF0gPVxyXG4gICAgdXNlU3RhdGU8UGFydGlhbDxNYWludGVuYW5jZVJlY29yZD4gfCBudWxsPihudWxsKTtcclxuICBjb25zdCBbaXNNYWludGVuYW5jZVZpZXdPbmx5LCBzZXRJc01haW50ZW5hbmNlVmlld09ubHldID0gdXNlU3RhdGUoZmFsc2UpO1xyXG5cclxuICBjb25zdCBbaXNBZGRTdG9ja01vZGFsT3Blbiwgc2V0SXNBZGRTdG9ja01vZGFsT3Blbl0gPSB1c2VTdGF0ZShmYWxzZSk7XHJcbiAgY29uc3QgW3N0b2NrVXBkYXRlSW5mbywgc2V0U3RvY2tVcGRhdGVJbmZvXSA9XHJcbiAgICB1c2VTdGF0ZTxTdG9ja1VwZGF0ZUluZm8gfCBudWxsPihudWxsKTtcclxuXHJcbiAgY29uc3QgW2lzVGhlbWVDdXN0b21pemVyT3Blbiwgc2V0SXNUaGVtZUN1c3RvbWl6ZXJPcGVuXSA9IHVzZVN0YXRlKGZhbHNlKTtcclxuICBjb25zdCBbZWRpdGluZ0N1c3RvbVRoZW1lLCBzZXRFZGl0aW5nQ3VzdG9tVGhlbWVdID1cclxuICAgIHVzZVN0YXRlPFNhdmVkVGhlbWUgfCBudWxsPihudWxsKTtcclxuXHJcbiAgY29uc3QgW2lzSW1wb3J0TW9kYWxPcGVuLCBzZXRJc0ltcG9ydE1vZGFsT3Blbl0gPSB1c2VTdGF0ZShmYWxzZSk7XHJcblxyXG4gIGNvbnN0IFtjb25maXJtYXRpb25EaWFsb2dDb25maWcsIHNldENvbmZpcm1hdGlvbkRpYWxvZ0NvbmZpZ10gPVxyXG4gICAgdXNlU3RhdGU8Q29uZmlybWF0aW9uRGlhbG9nQ29uZmlnPih7XHJcbiAgICAgIGlzT3BlbjogZmFsc2UsXHJcbiAgICAgIHRpdGxlOiBcIlwiLFxyXG4gICAgICBkZXNjcmlwdGlvbjogXCJcIixcclxuICAgICAgb25Db25maXJtOiAoKSA9PiB7fSxcclxuICAgIH0pO1xyXG5cclxuICBjb25zdCBhZGRUb2FzdCA9IHVzZUNhbGxiYWNrKCh0b2FzdDogT21pdDxUb2FzdCwgXCJpZFwiPikgPT4ge1xyXG4gICAgY29uc3QgaWQgPSBgdG9hc3QtJHtEYXRlLm5vdygpfWA7XHJcbiAgICBzZXRUb2FzdHMoKHByZXYpID0+IFsuLi5wcmV2LCB7IGlkLCAuLi50b2FzdCB9XSk7XHJcbiAgfSwgW10pO1xyXG5cclxuICBjb25zdCBmZXRjaERhdGEgPSB1c2VDYWxsYmFjayhhc3luYyAoKSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCBbXHJcbiAgICAgICAgbWFjaGluZXNSZXMsXHJcbiAgICAgICAgZmlsdGVyR3JvdXBzUmVzLFxyXG4gICAgICAgIGZpbHRlclR5cGVzUmVzLFxyXG4gICAgICAgIG1haW50ZW5hbmNlUmVjb3Jkc1JlcyxcclxuICAgICAgXSA9IGF3YWl0IFByb21pc2UuYWxsKFtcclxuICAgICAgICBzdXBhYmFzZS5mcm9tKFwibWFjaGluZXNcIikuc2VsZWN0KFwiKlwiKSxcclxuICAgICAgICBzdXBhYmFzZS5mcm9tKFwiZmlsdGVyX2dyb3Vwc1wiKS5zZWxlY3QoXCIqXCIpLFxyXG4gICAgICAgIHN1cGFiYXNlLmZyb20oXCJmaWx0ZXJfdHlwZXNcIikuc2VsZWN0KFwiKlwiKSxcclxuICAgICAgICBzdXBhYmFzZS5mcm9tKFwibWFpbnRlbmFuY2VfcmVjb3Jkc1wiKS5zZWxlY3QoXCIqXCIpLFxyXG4gICAgICBdKTtcclxuXHJcbiAgICAgIGlmIChtYWNoaW5lc1Jlcy5lcnJvcikgdGhyb3cgbWFjaGluZXNSZXMuZXJyb3I7XHJcbiAgICAgIGlmIChmaWx0ZXJHcm91cHNSZXMuZXJyb3IpIHRocm93IGZpbHRlckdyb3Vwc1Jlcy5lcnJvcjtcclxuICAgICAgaWYgKGZpbHRlclR5cGVzUmVzLmVycm9yKSB0aHJvdyBmaWx0ZXJUeXBlc1Jlcy5lcnJvcjtcclxuICAgICAgaWYgKG1haW50ZW5hbmNlUmVjb3Jkc1Jlcy5lcnJvcikgdGhyb3cgbWFpbnRlbmFuY2VSZWNvcmRzUmVzLmVycm9yO1xyXG5cclxuICAgICAgLy8gVHJhbnNmb3JtIGRhdGFiYXNlIHJlc3VsdHMgdG8gbWF0Y2ggYXBwbGljYXRpb24gdHlwZXNcclxuICAgICAgY29uc3QgdHJhbnNmb3JtZWRNYWNoaW5lcyA9IChtYWNoaW5lc1Jlcy5kYXRhIHx8IFtdKS5tYXAoXHJcbiAgICAgICAgKG1hY2hpbmU6IGFueSkgPT4gKHtcclxuICAgICAgICAgIGlkOiBtYWNoaW5lLmlkLFxyXG4gICAgICAgICAgY29kZTogbWFjaGluZS5jb2RlLFxyXG4gICAgICAgICAgZGVzaWduYXRpb246IG1hY2hpbmUuZGVzaWduYXRpb24sXHJcbiAgICAgICAgICBtYXJxdWU6IG1hY2hpbmUubWFycXVlLFxyXG4gICAgICAgICAgdHlwZTogbWFjaGluZS50eXBlLFxyXG4gICAgICAgICAgc2VyaWFsTnVtYmVyOiBtYWNoaW5lLnNlcmlhbF9udW1iZXIgfHwgXCJcIixcclxuICAgICAgICAgIHJlZ2lzdHJhdGlvbk51bWJlcjogbWFjaGluZS5yZWdpc3RyYXRpb25fbnVtYmVyIHx8IFwiXCIsXHJcbiAgICAgICAgICBzZXJ2aWNlSG91cnM6IG1hY2hpbmUuc2VydmljZV9ob3VycyxcclxuICAgICAgICAgIGFzc2lnbmVkRmlsdGVyczogbWFjaGluZS5hc3NpZ25lZF9maWx0ZXJzIHx8IFtdLFxyXG4gICAgICAgIH0pXHJcbiAgICAgICk7XHJcblxyXG4gICAgICBjb25zdCB0cmFuc2Zvcm1lZEZpbHRlckdyb3VwcyA9IChmaWx0ZXJHcm91cHNSZXMuZGF0YSB8fCBbXSkubWFwKFxyXG4gICAgICAgIChncm91cDogYW55KSA9PiAoe1xyXG4gICAgICAgICAgaWQ6IGdyb3VwLmlkLFxyXG4gICAgICAgICAgbmFtZTogZ3JvdXAubmFtZSxcclxuICAgICAgICAgIGZpbHRlclR5cGU6IGdyb3VwLmZpbHRlcl90eXBlIHx8IFwiXCIsXHJcbiAgICAgICAgICBvcmlnaW5hbFJlZmVyZW5jZUlkOiBncm91cC5vcmlnaW5hbF9yZWZlcmVuY2VfaWQsXHJcbiAgICAgICAgICByZWZlcmVuY2VzOiBncm91cFtcInJlZmVyZW5jZXNcIl0gfHwgW10sXHJcbiAgICAgICAgfSlcclxuICAgICAgKTtcclxuXHJcbiAgICAgIGNvbnN0IHRyYW5zZm9ybWVkTWFpbnRlbmFuY2VSZWNvcmRzID0gKFxyXG4gICAgICAgIG1haW50ZW5hbmNlUmVjb3Jkc1Jlcy5kYXRhIHx8IFtdXHJcbiAgICAgICkubWFwKChyZWNvcmQ6IGFueSkgPT4gKHtcclxuICAgICAgICBpZDogcmVjb3JkLmlkLFxyXG4gICAgICAgIG1hY2hpbmVJZDogcmVjb3JkLm1hY2hpbmVfaWQsXHJcbiAgICAgICAgbWFpbnRlbmFuY2VSYW5nZTogcmVjb3JkLm1haW50ZW5hbmNlX3JhbmdlLFxyXG4gICAgICAgIHNlcnZpY2VIb3VyczogcmVjb3JkLnNlcnZpY2VfaG91cnMsXHJcbiAgICAgICAgZGF0ZTogcmVjb3JkLmRhdGUsXHJcbiAgICAgICAgZmlsdGVyc1VzZWQ6IHJlY29yZC5maWx0ZXJzX3VzZWQgfHwgW10sXHJcbiAgICAgIH0pKTtcclxuXHJcbiAgICAgIHNldE1hY2hpbmVzKHRyYW5zZm9ybWVkTWFjaGluZXMpO1xyXG4gICAgICBzZXRGaWx0ZXJHcm91cHModHJhbnNmb3JtZWRGaWx0ZXJHcm91cHMpO1xyXG4gICAgICBzZXRGaWx0ZXJUeXBlcyhmaWx0ZXJUeXBlc1Jlcy5kYXRhIHx8IFtdKTtcclxuICAgICAgc2V0TWFpbnRlbmFuY2VSZWNvcmRzKHRyYW5zZm9ybWVkTWFpbnRlbmFuY2VSZWNvcmRzKTtcclxuICAgIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcclxuICAgICAgY29uc29sZS5lcnJvcihcIkZhaWxlZCB0byBmZXRjaCBkYXRhIGZyb20gU3VwYWJhc2U6XCIsIGVycm9yKTtcclxuICAgICAgYWRkVG9hc3Qoe1xyXG4gICAgICAgIHR5cGU6IFwiZXJyb3JcIixcclxuICAgICAgICB0aXRsZTogXCJFcnJldXIgZGUgY2hhcmdlbWVudFwiLFxyXG4gICAgICAgIGRlc2NyaXB0aW9uOiBlcnJvci5tZXNzYWdlLFxyXG4gICAgICB9KTtcclxuICAgIH0gZmluYWxseSB7XHJcbiAgICAgIHNldElzTG9hZGluZyhmYWxzZSk7XHJcbiAgICB9XHJcbiAgfSwgW2FkZFRvYXN0XSk7XHJcblxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBmZXRjaERhdGEoKTtcclxuICB9LCBbZmV0Y2hEYXRhXSk7XHJcblxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiAmJiB0eXBlb2YgbG9jYWxTdG9yYWdlICE9PSBcInVuZGVmaW5lZFwiKSB7XHJcbiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwiZ2VzdGlmaWx0cmVzLXRoZW1lXCIsIEpTT04uc3RyaW5naWZ5KHRoZW1lKSk7XHJcbiAgICB9XHJcbiAgfSwgW3RoZW1lXSk7XHJcblxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiAmJiB0eXBlb2YgbG9jYWxTdG9yYWdlICE9PSBcInVuZGVmaW5lZFwiKSB7XHJcbiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFxyXG4gICAgICAgIFwiZ2VzdGlmaWx0cmVzLWN1c3RvbUNvbG9yc1wiLFxyXG4gICAgICAgIEpTT04uc3RyaW5naWZ5KGN1c3RvbUNvbG9ycylcclxuICAgICAgKTtcclxuICAgIH1cclxuICB9LCBbY3VzdG9tQ29sb3JzXSk7XHJcblxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiAmJiB0eXBlb2YgbG9jYWxTdG9yYWdlICE9PSBcInVuZGVmaW5lZFwiKSB7XHJcbiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFxyXG4gICAgICAgIFwiZ2VzdGlmaWx0cmVzLXNhdmVkVGhlbWVzXCIsXHJcbiAgICAgICAgSlNPTi5zdHJpbmdpZnkoc2F2ZWRUaGVtZXMpXHJcbiAgICAgICk7XHJcbiAgICB9XHJcbiAgfSwgW3NhdmVkVGhlbWVzXSk7XHJcblxyXG4gIGNvbnN0IHJlbW92ZVRvYXN0ID0gKGlkOiBzdHJpbmcpID0+IHtcclxuICAgIHNldFRvYXN0cygocHJldikgPT4gcHJldi5maWx0ZXIoKHQpID0+IHQuaWQgIT09IGlkKSk7XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgbmF2aWdhdGVUb0ZpbHRlckdyb3VwID0gKGdyb3VwSWQ6IHN0cmluZykgPT4ge1xyXG4gICAgc2V0SXNBSUFzc2lzdGFudE9wZW4oZmFsc2UpO1xyXG4gICAgc2V0Q3VycmVudFZpZXcoVmlldy5GSUxURVJfTUFOQUdFTUVOVCk7XHJcbiAgICBzZXRIaWdobGlnaHRlZEZpbHRlckdyb3VwSWQoZ3JvdXBJZCk7XHJcbiAgfTtcclxuXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGNvbnN0IG5vdyA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKTtcclxuICAgIGNvbnN0IGN1cnJlbnRWYWxpZEFsZXJ0czogT21pdDxOb3RpZmljYXRpb24sIFwicmVhZFwiIHwgXCJjcmVhdGVkQXRcIj5bXSA9IFtdO1xyXG5cclxuICAgIGNvbnN0IGhpc3RvcnlCeU1hY2hpbmUgPSBuZXcgTWFwPHN0cmluZywgTWFpbnRlbmFuY2VSZWNvcmRbXT4oKTtcclxuICAgIG1haW50ZW5hbmNlUmVjb3Jkcy5mb3JFYWNoKChyZWMpID0+IHtcclxuICAgICAgaWYgKCFoaXN0b3J5QnlNYWNoaW5lLmhhcyhyZWMubWFjaGluZUlkKSlcclxuICAgICAgICBoaXN0b3J5QnlNYWNoaW5lLnNldChyZWMubWFjaGluZUlkLCBbXSk7XHJcbiAgICAgIGhpc3RvcnlCeU1hY2hpbmUuZ2V0KHJlYy5tYWNoaW5lSWQpIS5wdXNoKHJlYyk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBtYWNoaW5lcy5mb3JFYWNoKChtYWNoaW5lKSA9PiB7XHJcbiAgICAgIGNvbnN0IGhpc3RvcnkgPSBoaXN0b3J5QnlNYWNoaW5lLmdldChtYWNoaW5lLmlkKSB8fCBbXTtcclxuICAgICAgY29uc3QgbmV4dE1haW50ID0gY2FsY3VsYXRlTmV4dE1haW50ZW5hbmNlKG1hY2hpbmUsIGhpc3RvcnkpO1xyXG4gICAgICBpZiAobmV4dE1haW50ICYmIG5leHRNYWludC5kdWVJbiA8PSA1MCkge1xyXG4gICAgICAgIGN1cnJlbnRWYWxpZEFsZXJ0cy5wdXNoKHtcclxuICAgICAgICAgIGlkOiBgbWFpbnQtYWxlcnQtJHttYWNoaW5lLmlkfS0ke25leHRNYWludC5ob3Vyc31gLFxyXG4gICAgICAgICAgdHlwZTogXCJtYWludGVuYW5jZVwiLFxyXG4gICAgICAgICAgbWVzc2FnZTogYEwnZW5naW4gJHttYWNoaW5lLmRlc2lnbmF0aW9ufSAoJHttYWNoaW5lLmNvZGV9KSBuw6ljZXNzaXRlIHVuZSBtYWludGVuYW5jZSAoR2FtbWUgJHtuZXh0TWFpbnQuZ2FtbWV9KSBkYW5zICR7bmV4dE1haW50LmR1ZUlufWguYCxcclxuICAgICAgICAgIGVudGl0eUlkOiBtYWNoaW5lLmlkLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICBmaWx0ZXJHcm91cHMuZm9yRWFjaCgoZ3JvdXApID0+IHtcclxuICAgICAgZ3JvdXAucmVmZXJlbmNlcy5mb3JFYWNoKChyZWYpID0+IHtcclxuICAgICAgICBpZiAocmVmLnN0b2NrID4gMCAmJiByZWYuc3RvY2sgPD0gNSkge1xyXG4gICAgICAgICAgY3VycmVudFZhbGlkQWxlcnRzLnB1c2goe1xyXG4gICAgICAgICAgICBpZDogYHN0b2NrLWFsZXJ0LSR7cmVmLmlkfWAsXHJcbiAgICAgICAgICAgIHR5cGU6IFwic3RvY2tcIixcclxuICAgICAgICAgICAgbWVzc2FnZTogYExlIHN0b2NrIHBvdXIgbGUgZmlsdHJlICR7cmVmLnJlZmVyZW5jZX0gKCR7cmVmLm1hbnVmYWN0dXJlcn0pIGVzdCBmYWlibGUgKCR7cmVmLnN0b2NrfSB1bml0w6lzKS5gLFxyXG4gICAgICAgICAgICBlbnRpdHlJZDogZ3JvdXAuaWQsXHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgc2V0Tm90aWZpY2F0aW9ucygocHJldk5vdGlmaWNhdGlvbnMpID0+IHtcclxuICAgICAgY29uc3QgcHJldk1hcCA9IG5ldyBNYXAocHJldk5vdGlmaWNhdGlvbnMubWFwKChuKSA9PiBbbi5pZCwgbl0pKTtcclxuXHJcbiAgICAgIGNvbnN0IG5leHROb3RpZmljYXRpb25zID0gY3VycmVudFZhbGlkQWxlcnRzLm1hcCgoYWxlcnQpID0+IHtcclxuICAgICAgICBjb25zdCBwcmV2ID0gcHJldk1hcC5nZXQoYWxlcnQuaWQpO1xyXG4gICAgICAgIGlmIChwcmV2KSB7XHJcbiAgICAgICAgICByZXR1cm4geyAuLi5wcmV2LCBtZXNzYWdlOiBhbGVydC5tZXNzYWdlIH07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB7IC4uLmFsZXJ0LCByZWFkOiBmYWxzZSwgY3JlYXRlZEF0OiBub3cgfTtcclxuICAgICAgfSk7XHJcbiAgICAgIHJldHVybiBuZXh0Tm90aWZpY2F0aW9ucztcclxuICAgIH0pO1xyXG4gIH0sIFttYWNoaW5lcywgZmlsdGVyR3JvdXBzLCBtYWludGVuYW5jZVJlY29yZHNdKTtcclxuXHJcbiAgY29uc3QgdG9nZ2xlU2lkZWJhciA9ICgpID0+IHNldElzU2lkZWJhck9wZW4oKHByZXYpID0+ICFwcmV2KTtcclxuICBjb25zdCBjbG9zZVNpZGViYXIgPSAoKSA9PiBzZXRJc1NpZGViYXJPcGVuKGZhbHNlKTtcclxuXHJcbiAgY29uc3Qgc2VsZWN0TWFjaGluZSA9IChtYWNoaW5lSWQ6IHN0cmluZykgPT4ge1xyXG4gICAgY29uc3QgbWFjaGluZSA9IG1hY2hpbmVzLmZpbmQoKG0pID0+IG0uaWQgPT09IG1hY2hpbmVJZCk7XHJcbiAgICBpZiAobWFjaGluZSkge1xyXG4gICAgICBzZXRTZWxlY3RlZE1hY2hpbmUobWFjaGluZSk7XHJcbiAgICAgIHNldEN1cnJlbnRWaWV3KFZpZXcuTUFDSElORV9ERVRBSUwpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIGNvbnN0IGFzc2lnbkZpbHRlclRvTWFjaGluZSA9IGFzeW5jIChcclxuICAgIG1hY2hpbmVJZDogc3RyaW5nLFxyXG4gICAgZmlsdGVyVHlwZUlkOiBzdHJpbmcsXHJcbiAgICBmaWx0ZXJHcm91cElkOiBzdHJpbmcgfCBudWxsXHJcbiAgKSA9PiB7XHJcbiAgICBjb25zdCBtYWNoaW5lVG9VcGRhdGUgPSBtYWNoaW5lcy5maW5kKChtKSA9PiBtLmlkID09PSBtYWNoaW5lSWQpO1xyXG4gICAgaWYgKCFtYWNoaW5lVG9VcGRhdGUpIHJldHVybjtcclxuXHJcbiAgICBjb25zdCBuZXdBc3NpZ25lZEZpbHRlcnMgPSBbLi4ubWFjaGluZVRvVXBkYXRlLmFzc2lnbmVkRmlsdGVyc107XHJcbiAgICBjb25zdCBleGlzdGluZ0luZGV4ID0gbmV3QXNzaWduZWRGaWx0ZXJzLmZpbmRJbmRleChcclxuICAgICAgKGFmKSA9PiBhZi5maWx0ZXJUeXBlSWQgPT09IGZpbHRlclR5cGVJZFxyXG4gICAgKTtcclxuXHJcbiAgICBpZiAoZXhpc3RpbmdJbmRleCA+IC0xKSB7XHJcbiAgICAgIG5ld0Fzc2lnbmVkRmlsdGVyc1tleGlzdGluZ0luZGV4XSA9IHtcclxuICAgICAgICAuLi5uZXdBc3NpZ25lZEZpbHRlcnNbZXhpc3RpbmdJbmRleF0sXHJcbiAgICAgICAgZmlsdGVyR3JvdXBJZCxcclxuICAgICAgfTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIG5ld0Fzc2lnbmVkRmlsdGVycy5wdXNoKHsgZmlsdGVyVHlwZUlkLCBmaWx0ZXJHcm91cElkIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHsgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgIC5mcm9tKFwibWFjaGluZXNcIilcclxuICAgICAgLnVwZGF0ZSh7IGFzc2lnbmVkX2ZpbHRlcnM6IG5ld0Fzc2lnbmVkRmlsdGVycyBhcyBhbnkgfSlcclxuICAgICAgLmVxKFwiaWRcIiwgbWFjaGluZUlkKTtcclxuICAgIGlmIChlcnJvcikge1xyXG4gICAgICBhZGRUb2FzdCh7IHR5cGU6IFwiZXJyb3JcIiwgdGl0bGU6IFwiRXJyZXVyXCIsIGRlc2NyaXB0aW9uOiBlcnJvci5tZXNzYWdlIH0pO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgZmV0Y2hEYXRhKCk7XHJcbiAgICAgIGlmIChzZWxlY3RlZE1hY2hpbmU/LmlkID09PSBtYWNoaW5lSWQpIHtcclxuICAgICAgICBjb25zdCB1cGRhdGVkTWFjaGluZSA9IHtcclxuICAgICAgICAgIC4uLm1hY2hpbmVUb1VwZGF0ZSxcclxuICAgICAgICAgIGFzc2lnbmVkRmlsdGVyczogbmV3QXNzaWduZWRGaWx0ZXJzLFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgc2V0U2VsZWN0ZWRNYWNoaW5lKHVwZGF0ZWRNYWNoaW5lKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIGNvbnN0IGFkZEZpbHRlclR5cGVUb01hY2hpbmUgPSBhc3luYyAoXHJcbiAgICBtYWNoaW5lSWQ6IHN0cmluZyxcclxuICAgIGZpbHRlclR5cGVJZDogc3RyaW5nXHJcbiAgKSA9PiB7XHJcbiAgICBjb25zdCBtYWNoaW5lVG9VcGRhdGUgPSBtYWNoaW5lcy5maW5kKChtKSA9PiBtLmlkID09PSBtYWNoaW5lSWQpO1xyXG4gICAgaWYgKFxyXG4gICAgICAhbWFjaGluZVRvVXBkYXRlIHx8XHJcbiAgICAgIG1hY2hpbmVUb1VwZGF0ZS5hc3NpZ25lZEZpbHRlcnMuc29tZShcclxuICAgICAgICAoYWYpID0+IGFmLmZpbHRlclR5cGVJZCA9PT0gZmlsdGVyVHlwZUlkXHJcbiAgICAgIClcclxuICAgIClcclxuICAgICAgcmV0dXJuO1xyXG5cclxuICAgIGNvbnN0IG5ld0Fzc2lnbmVkRmlsdGVycyA9IFtcclxuICAgICAgLi4ubWFjaGluZVRvVXBkYXRlLmFzc2lnbmVkRmlsdGVycyxcclxuICAgICAgeyBmaWx0ZXJUeXBlSWQsIGZpbHRlckdyb3VwSWQ6IG51bGwgfSxcclxuICAgIF07XHJcbiAgICBjb25zdCB7IGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAuZnJvbShcIm1hY2hpbmVzXCIpXHJcbiAgICAgIC51cGRhdGUoeyBhc3NpZ25lZF9maWx0ZXJzOiBuZXdBc3NpZ25lZEZpbHRlcnMgYXMgYW55IH0pXHJcbiAgICAgIC5lcShcImlkXCIsIG1hY2hpbmVJZCk7XHJcblxyXG4gICAgaWYgKGVycm9yKSB7XHJcbiAgICAgIGFkZFRvYXN0KHsgdHlwZTogXCJlcnJvclwiLCB0aXRsZTogXCJFcnJldXJcIiwgZGVzY3JpcHRpb246IGVycm9yLm1lc3NhZ2UgfSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBmZXRjaERhdGEoKTtcclxuICAgICAgaWYgKHNlbGVjdGVkTWFjaGluZT8uaWQgPT09IG1hY2hpbmVJZCkge1xyXG4gICAgICAgIGNvbnN0IHVwZGF0ZWRNYWNoaW5lID0ge1xyXG4gICAgICAgICAgLi4ubWFjaGluZVRvVXBkYXRlLFxyXG4gICAgICAgICAgYXNzaWduZWRGaWx0ZXJzOiBuZXdBc3NpZ25lZEZpbHRlcnMsXHJcbiAgICAgICAgfTtcclxuICAgICAgICBzZXRTZWxlY3RlZE1hY2hpbmUodXBkYXRlZE1hY2hpbmUpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgcmVtb3ZlRmlsdGVyVHlwZUZyb21NYWNoaW5lID0gYXN5bmMgKFxyXG4gICAgbWFjaGluZUlkOiBzdHJpbmcsXHJcbiAgICBmaWx0ZXJUeXBlSWQ6IHN0cmluZ1xyXG4gICkgPT4ge1xyXG4gICAgY29uc3QgbWFjaGluZVRvVXBkYXRlID0gbWFjaGluZXMuZmluZCgobSkgPT4gbS5pZCA9PT0gbWFjaGluZUlkKTtcclxuICAgIGlmICghbWFjaGluZVRvVXBkYXRlKSByZXR1cm47XHJcblxyXG4gICAgY29uc3QgbmV3QXNzaWduZWRGaWx0ZXJzID0gbWFjaGluZVRvVXBkYXRlLmFzc2lnbmVkRmlsdGVycy5maWx0ZXIoXHJcbiAgICAgIChhZikgPT4gYWYuZmlsdGVyVHlwZUlkICE9PSBmaWx0ZXJUeXBlSWRcclxuICAgICk7XHJcbiAgICBjb25zdCB7IGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAuZnJvbShcIm1hY2hpbmVzXCIpXHJcbiAgICAgIC51cGRhdGUoeyBhc3NpZ25lZF9maWx0ZXJzOiBuZXdBc3NpZ25lZEZpbHRlcnMgYXMgYW55IH0pXHJcbiAgICAgIC5lcShcImlkXCIsIG1hY2hpbmVJZCk7XHJcblxyXG4gICAgaWYgKGVycm9yKSB7XHJcbiAgICAgIGFkZFRvYXN0KHsgdHlwZTogXCJlcnJvclwiLCB0aXRsZTogXCJFcnJldXJcIiwgZGVzY3JpcHRpb246IGVycm9yLm1lc3NhZ2UgfSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBmZXRjaERhdGEoKTtcclxuICAgICAgaWYgKHNlbGVjdGVkTWFjaGluZT8uaWQgPT09IG1hY2hpbmVJZCkge1xyXG4gICAgICAgIGNvbnN0IHVwZGF0ZWRNYWNoaW5lID0ge1xyXG4gICAgICAgICAgLi4ubWFjaGluZVRvVXBkYXRlLFxyXG4gICAgICAgICAgYXNzaWduZWRGaWx0ZXJzOiBuZXdBc3NpZ25lZEZpbHRlcnMsXHJcbiAgICAgICAgfTtcclxuICAgICAgICBzZXRTZWxlY3RlZE1hY2hpbmUodXBkYXRlZE1hY2hpbmUpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgY29uc3Qgb3BlbkNvbmZpcm1hdGlvbkRpYWxvZyA9IChcclxuICAgIGNvbmZpZzogT21pdDxDb25maXJtYXRpb25EaWFsb2dDb25maWcsIFwiaXNPcGVuXCIgfCBcIm9uQ2xvc2VcIj5cclxuICApID0+IHtcclxuICAgIHNldENvbmZpcm1hdGlvbkRpYWxvZ0NvbmZpZyh7IC4uLmNvbmZpZywgaXNPcGVuOiB0cnVlIH0pO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IGNsb3NlQ29uZmlybWF0aW9uRGlhbG9nID0gKCkgPT4ge1xyXG4gICAgc2V0Q29uZmlybWF0aW9uRGlhbG9nQ29uZmlnKChwcmV2KSA9PiAoeyAuLi5wcmV2LCBpc09wZW46IGZhbHNlIH0pKTtcclxuICB9O1xyXG5cclxuICBjb25zdCBoYW5kbGVDb25maXJtID0gKCkgPT4ge1xyXG4gICAgY29uZmlybWF0aW9uRGlhbG9nQ29uZmlnLm9uQ29uZmlybSgpO1xyXG4gICAgY2xvc2VDb25maXJtYXRpb25EaWFsb2coKTtcclxuICB9O1xyXG5cclxuICBjb25zdCBvcGVuTWFjaGluZU1vZGFsID0gKG1hY2hpbmU6IE1hY2hpbmUgfCBudWxsKSA9PiB7XHJcbiAgICBzZXRFZGl0aW5nTWFjaGluZShtYWNoaW5lKTtcclxuICAgIHNldElzTWFjaGluZU1vZGFsT3Blbih0cnVlKTtcclxuICB9O1xyXG4gIGNvbnN0IGNsb3NlTWFjaGluZU1vZGFsID0gKCkgPT4gc2V0SXNNYWNoaW5lTW9kYWxPcGVuKGZhbHNlKTtcclxuXHJcbiAgY29uc3Qgc2F2ZU1hY2hpbmUgPSBhc3luYyAobWFjaGluZURhdGE6IHtcclxuICAgIGNvZGU6IHN0cmluZztcclxuICAgIGRlc2lnbmF0aW9uOiBzdHJpbmc7XHJcbiAgICBtYXJxdWU6IHN0cmluZztcclxuICAgIHR5cGU6IHN0cmluZztcclxuICAgIHNlcmlhbE51bWJlcj86IHN0cmluZztcclxuICAgIHJlZ2lzdHJhdGlvbk51bWJlcj86IHN0cmluZztcclxuICAgIHNlcnZpY2VIb3VyczogbnVtYmVyO1xyXG4gIH0pID0+IHtcclxuICAgIC8vIFByZXBhcmUgdGhlIG1hY2hpbmUgZGF0YSBmb3IgaW5zZXJ0aW9uXHJcbiAgICBjb25zdCBtYWNoaW5lVG9TYXZlID0gZWRpdGluZ01hY2hpbmVcclxuICAgICAgPyB7XHJcbiAgICAgICAgICBpZDogZWRpdGluZ01hY2hpbmUuaWQsXHJcbiAgICAgICAgICBjb2RlOiBtYWNoaW5lRGF0YS5jb2RlLFxyXG4gICAgICAgICAgZGVzaWduYXRpb246IG1hY2hpbmVEYXRhLmRlc2lnbmF0aW9uLFxyXG4gICAgICAgICAgbWFycXVlOiBtYWNoaW5lRGF0YS5tYXJxdWUsXHJcbiAgICAgICAgICB0eXBlOiBtYWNoaW5lRGF0YS50eXBlLFxyXG4gICAgICAgICAgc2VyaWFsX251bWJlcjogbWFjaGluZURhdGEuc2VyaWFsTnVtYmVyIHx8IG51bGwsIC8vIFVzZSBudWxsIGluc3RlYWQgb2YgZW1wdHkgc3RyaW5nXHJcbiAgICAgICAgICByZWdpc3RyYXRpb25fbnVtYmVyOiBtYWNoaW5lRGF0YS5yZWdpc3RyYXRpb25OdW1iZXIgfHwgbnVsbCwgLy8gVXNlIG51bGwgaW5zdGVhZCBvZiBlbXB0eSBzdHJpbmdcclxuICAgICAgICAgIHNlcnZpY2VfaG91cnM6IG1hY2hpbmVEYXRhLnNlcnZpY2VIb3VycyxcclxuICAgICAgICAgIGFzc2lnbmVkX2ZpbHRlcnM6IGVkaXRpbmdNYWNoaW5lLmFzc2lnbmVkRmlsdGVycyB8fCBbXSxcclxuICAgICAgICB9XHJcbiAgICAgIDoge1xyXG4gICAgICAgICAgaWQ6IGBtLSR7RGF0ZS5ub3coKX1gLFxyXG4gICAgICAgICAgY29kZTogbWFjaGluZURhdGEuY29kZSxcclxuICAgICAgICAgIGRlc2lnbmF0aW9uOiBtYWNoaW5lRGF0YS5kZXNpZ25hdGlvbixcclxuICAgICAgICAgIG1hcnF1ZTogbWFjaGluZURhdGEubWFycXVlLFxyXG4gICAgICAgICAgdHlwZTogbWFjaGluZURhdGEudHlwZSxcclxuICAgICAgICAgIHNlcmlhbF9udW1iZXI6IG1hY2hpbmVEYXRhLnNlcmlhbE51bWJlciB8fCBudWxsLCAvLyBVc2UgbnVsbCBpbnN0ZWFkIG9mIGVtcHR5IHN0cmluZ1xyXG4gICAgICAgICAgcmVnaXN0cmF0aW9uX251bWJlcjogbWFjaGluZURhdGEucmVnaXN0cmF0aW9uTnVtYmVyIHx8IG51bGwsIC8vIFVzZSBudWxsIGluc3RlYWQgb2YgZW1wdHkgc3RyaW5nXHJcbiAgICAgICAgICBzZXJ2aWNlX2hvdXJzOiBtYWNoaW5lRGF0YS5zZXJ2aWNlSG91cnMsXHJcbiAgICAgICAgICBhc3NpZ25lZF9maWx0ZXJzOiBbXSxcclxuICAgICAgICB9O1xyXG5cclxuICAgIGNvbnN0IHsgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgIC5mcm9tKFwibWFjaGluZXNcIilcclxuICAgICAgLnVwc2VydChtYWNoaW5lVG9TYXZlIGFzIGFueSk7XHJcblxyXG4gICAgaWYgKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBzYXZpbmcgbWFjaGluZTpcIiwgZXJyb3IpO1xyXG4gICAgICBhZGRUb2FzdCh7IFxyXG4gICAgICAgIHR5cGU6IFwiZXJyb3JcIiwgXHJcbiAgICAgICAgdGl0bGU6IFwiRXJyZXVyXCIsIFxyXG4gICAgICAgIGRlc2NyaXB0aW9uOiBgw4ljaGVjIGRlIGxhIHNhdXZlZ2FyZGUgZGUgbCdlbmdpbjogJHtlcnJvci5tZXNzYWdlfWAgXHJcbiAgICAgIH0pO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgZmV0Y2hEYXRhKCk7XHJcbiAgICAgIGNvbnN0IHN1Y2Nlc3NNZXNzYWdlID0gZWRpdGluZ01hY2hpbmVcclxuICAgICAgICA/IFwiRW5naW4gTWlzIMOgIEpvdXJcIlxyXG4gICAgICAgIDogXCJFbmdpbiBBam91dMOpXCI7XHJcbiAgICAgIGFkZFRvYXN0KHtcclxuICAgICAgICB0eXBlOiBcInN1Y2Nlc3NcIixcclxuICAgICAgICB0aXRsZTogc3VjY2Vzc01lc3NhZ2UsXHJcbiAgICAgICAgZGVzY3JpcHRpb246IGBMJ2VuZ2luICR7bWFjaGluZVRvU2F2ZS5kZXNpZ25hdGlvbn0gYSDDqXTDqSBzYXV2ZWdhcmTDqS5gLFxyXG4gICAgICB9KTtcclxuICAgICAgaWYgKHNlbGVjdGVkTWFjaGluZT8uaWQgPT09IG1hY2hpbmVUb1NhdmUuaWQpIHtcclxuICAgICAgICAvLyBUcmFuc2Zvcm0gZGF0YWJhc2UgZm9ybWF0IHRvIGFwcGxpY2F0aW9uIGZvcm1hdCBmb3Igc3RhdGVcclxuICAgICAgICBjb25zdCB0cmFuc2Zvcm1lZE1hY2hpbmU6IE1hY2hpbmUgPSB7XHJcbiAgICAgICAgICBpZDogbWFjaGluZVRvU2F2ZS5pZCxcclxuICAgICAgICAgIGNvZGU6IG1hY2hpbmVUb1NhdmUuY29kZSxcclxuICAgICAgICAgIGRlc2lnbmF0aW9uOiBtYWNoaW5lVG9TYXZlLmRlc2lnbmF0aW9uLFxyXG4gICAgICAgICAgbWFycXVlOiBtYWNoaW5lVG9TYXZlLm1hcnF1ZSxcclxuICAgICAgICAgIHR5cGU6IG1hY2hpbmVUb1NhdmUudHlwZSxcclxuICAgICAgICAgIHNlcmlhbE51bWJlcjogbWFjaGluZVRvU2F2ZS5zZXJpYWxfbnVtYmVyLFxyXG4gICAgICAgICAgcmVnaXN0cmF0aW9uTnVtYmVyOiBtYWNoaW5lVG9TYXZlLnJlZ2lzdHJhdGlvbl9udW1iZXIsXHJcbiAgICAgICAgICBzZXJ2aWNlSG91cnM6IG1hY2hpbmVUb1NhdmUuc2VydmljZV9ob3VycyxcclxuICAgICAgICAgIGFzc2lnbmVkRmlsdGVyczogbWFjaGluZVRvU2F2ZS5hc3NpZ25lZF9maWx0ZXJzLFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgc2V0U2VsZWN0ZWRNYWNoaW5lKHRyYW5zZm9ybWVkTWFjaGluZSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIGNsb3NlTWFjaGluZU1vZGFsKCk7XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgZGVsZXRlTWFjaGluZSA9IGFzeW5jIChtYWNoaW5lSWQ6IHN0cmluZykgPT4ge1xyXG4gICAgY29uc3QgeyBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgLmZyb20oXCJtYWNoaW5lc1wiKVxyXG4gICAgICAuZGVsZXRlKClcclxuICAgICAgLmVxKFwiaWRcIiwgbWFjaGluZUlkKTtcclxuICAgIGlmIChlcnJvcikge1xyXG4gICAgICBhZGRUb2FzdCh7IHR5cGU6IFwiZXJyb3JcIiwgdGl0bGU6IFwiRXJyZXVyXCIsIGRlc2NyaXB0aW9uOiBlcnJvci5tZXNzYWdlIH0pO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgZmV0Y2hEYXRhKCk7XHJcbiAgICAgIGFkZFRvYXN0KHsgdHlwZTogXCJpbmZvXCIsIHRpdGxlOiBcIkVuZ2luIFN1cHByaW3DqVwiIH0pO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIGNvbnN0IGNsb3NlSW1wb3J0TW9kYWwgPSAoKSA9PiBzZXRJc0ltcG9ydE1vZGFsT3BlbihmYWxzZSk7XHJcblxyXG4gIGNvbnN0IGltcG9ydE1hY2hpbmVzID0gYXN5bmMgKFxyXG4gICAgbmV3TWFjaGluZXNEYXRhOiBPbWl0PE1hY2hpbmUsIFwiaWRcIiB8IFwiYXNzaWduZWRGaWx0ZXJzXCI+W11cclxuICApID0+IHtcclxuICAgIGNvbnN0IG1hY2hpbmVzVG9BZGQgPSBuZXdNYWNoaW5lc0RhdGEubWFwKChubSkgPT4gKHtcclxuICAgICAgaWQ6IGBtLSR7RGF0ZS5ub3coKX0tJHtNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHIoMiwgOSl9YCxcclxuICAgICAgY29kZTogbm0uY29kZSxcclxuICAgICAgZGVzaWduYXRpb246IG5tLmRlc2lnbmF0aW9uLFxyXG4gICAgICBtYXJxdWU6IG5tLm1hcnF1ZSxcclxuICAgICAgdHlwZTogbm0udHlwZSxcclxuICAgICAgc2VyaWFsX251bWJlcjogbm0uc2VyaWFsTnVtYmVyIHx8IG51bGwsIC8vIFVzZSBudWxsIGluc3RlYWQgb2YgZW1wdHkgc3RyaW5nXHJcbiAgICAgIHJlZ2lzdHJhdGlvbl9udW1iZXI6IG5tLnJlZ2lzdHJhdGlvbk51bWJlciB8fCBudWxsLCAvLyBVc2UgbnVsbCBpbnN0ZWFkIG9mIGVtcHR5IHN0cmluZ1xyXG4gICAgICBzZXJ2aWNlX2hvdXJzOiBubS5zZXJ2aWNlSG91cnMsXHJcbiAgICAgIGFzc2lnbmVkX2ZpbHRlcnM6IFtdLFxyXG4gICAgfSkpO1xyXG5cclxuICAgIC8vIEZpbHRlciBvdXQgYW55IHJlY29yZHMgdGhhdCBtaWdodCBoYXZlIGludmFsaWQgZGF0YVxyXG4gICAgY29uc3QgdmFsaWRNYWNoaW5lc1RvQWRkID0gbWFjaGluZXNUb0FkZC5maWx0ZXIoXHJcbiAgICAgIChtYWNoaW5lKSA9PlxyXG4gICAgICAgIG1hY2hpbmUuY29kZSAmJiBtYWNoaW5lLmRlc2lnbmF0aW9uICYmIG1hY2hpbmUubWFycXVlICYmIG1hY2hpbmUudHlwZVxyXG4gICAgKTtcclxuXHJcbiAgICBpZiAodmFsaWRNYWNoaW5lc1RvQWRkLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICBhZGRUb2FzdCh7XHJcbiAgICAgICAgdHlwZTogXCJ3YXJuaW5nXCIsXHJcbiAgICAgICAgdGl0bGU6IFwiSW1wb3J0YXRpb24gQW5udWzDqWVcIixcclxuICAgICAgICBkZXNjcmlwdGlvbjogXCJBdWN1biBlbmdpbiB2YWxpZGUgw6AgaW1wb3J0ZXIuXCIsXHJcbiAgICAgIH0pO1xyXG4gICAgICBjbG9zZUltcG9ydE1vZGFsKCk7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCB7IGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAuZnJvbShcIm1hY2hpbmVzXCIpXHJcbiAgICAgIC5pbnNlcnQodmFsaWRNYWNoaW5lc1RvQWRkIGFzIGFueSk7XHJcblxyXG4gICAgaWYgKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBpbXBvcnRpbmcgbWFjaGluZXM6XCIsIGVycm9yKTtcclxuICAgICAgYWRkVG9hc3Qoe1xyXG4gICAgICAgIHR5cGU6IFwiZXJyb3JcIixcclxuICAgICAgICB0aXRsZTogXCJFcnJldXIgZCdpbXBvcnRhdGlvblwiLFxyXG4gICAgICAgIGRlc2NyaXB0aW9uOiBgw4ljaGVjIGRlIGwnaW1wb3J0YXRpb24gZGVzIGVuZ2luczogJHtlcnJvci5tZXNzYWdlfWAsXHJcbiAgICAgIH0pO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgZmV0Y2hEYXRhKCk7XHJcbiAgICAgIGFkZFRvYXN0KHtcclxuICAgICAgICB0eXBlOiBcInN1Y2Nlc3NcIixcclxuICAgICAgICB0aXRsZTogXCJJbXBvcnRhdGlvbiBSw6l1c3NpZVwiLFxyXG4gICAgICAgIGRlc2NyaXB0aW9uOiBgJHt2YWxpZE1hY2hpbmVzVG9BZGQubGVuZ3RofSBlbmdpbnMgb250IMOpdMOpIGFqb3V0w6lzLmAsXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgY2xvc2VJbXBvcnRNb2RhbCgpO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IGltcG9ydE1haW50ZW5hbmNlUmVjb3JkcyA9IGFzeW5jIChcclxuICAgIG5ld01haW50ZW5hbmNlRGF0YToge1xyXG4gICAgICBnYW1tZTogc3RyaW5nO1xyXG4gICAgICBtYWludGVuYW5jZVJhbmdlOiBcIkNcIiB8IFwiRFwiIHwgXCJFXCIgfCBcIkZcIjtcclxuICAgICAgc2VydmljZUhvdXJzOiBudW1iZXI7XHJcbiAgICAgIGRhdGU6IHN0cmluZztcclxuICAgICAgbWFjaGluZURlc2lnbmF0aW9uPzogc3RyaW5nOyAvLyBBZGQgbWFjaGluZSBkZXNpZ25hdGlvbiB0byBsaW5rIG1haW50ZW5hbmNlIHRvIG1hY2hpbmVcclxuICAgIH1bXVxyXG4gICkgPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgLy8gRmlyc3QsIGdldCBhbGwgbWFjaGluZXMgdG8gbWF0Y2ggZGVzaWduYXRpb25zXHJcbiAgICAgIGNvbnN0IHsgZGF0YTogbWFjaGluZXNEYXRhLCBlcnJvcjogbWFjaGluZXNFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgICAuZnJvbShcIm1hY2hpbmVzXCIpXHJcbiAgICAgICAgLnNlbGVjdChcImlkLCBjb2RlLCBkZXNpZ25hdGlvblwiKTtcclxuXHJcbiAgICAgIGlmIChtYWNoaW5lc0Vycm9yKSB7XHJcbiAgICAgICAgdGhyb3cgbWFjaGluZXNFcnJvcjtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gQ3JlYXRlIG1hcHMgZm9yIHF1aWNrIGxvb2t1cFxyXG4gICAgICBjb25zdCBtYWNoaW5lQ29kZVRvSWRNYXAgPSBuZXcgTWFwPHN0cmluZywgc3RyaW5nPigpO1xyXG4gICAgICBjb25zdCBtYWNoaW5lRGVzaWduYXRpb25Ub0lkTWFwID0gbmV3IE1hcDxzdHJpbmcsIHN0cmluZz4oKTtcclxuXHJcbiAgICAgIG1hY2hpbmVzRGF0YS5mb3JFYWNoKChtYWNoaW5lOiBhbnkpID0+IHtcclxuICAgICAgICBtYWNoaW5lQ29kZVRvSWRNYXAuc2V0KG1hY2hpbmUuY29kZSwgbWFjaGluZS5pZCk7XHJcbiAgICAgICAgbWFjaGluZURlc2lnbmF0aW9uVG9JZE1hcC5zZXQoXHJcbiAgICAgICAgICBtYWNoaW5lLmRlc2lnbmF0aW9uLnRvTG93ZXJDYXNlKCksXHJcbiAgICAgICAgICBtYWNoaW5lLmlkXHJcbiAgICAgICAgKTtcclxuICAgICAgfSk7XHJcblxyXG4gICAgICAvLyBUcmFjayByZWNvcmRzIHRoYXQgY291bGRuJ3QgYmUgbWF0Y2hlZCBmb3IgYmV0dGVyIGZlZWRiYWNrXHJcbiAgICAgIGxldCB1bm1hdGNoZWRSZWNvcmRzQ291bnQgPSAwO1xyXG4gICAgICBjb25zdCB1bm1hdGNoZWRSZWNvcmRzOiBzdHJpbmdbXSA9IFtdO1xyXG5cclxuICAgICAgLy8gQ3JlYXRlIG1haW50ZW5hbmNlIHJlY29yZHMgZm9yIGVhY2ggaW1wb3J0ZWQgaXRlbVxyXG4gICAgICBjb25zdCBtYWludGVuYW5jZVJlY29yZHNUb0FkZCA9IG5ld01haW50ZW5hbmNlRGF0YVxyXG4gICAgICAgIC5tYXAoKHJlY29yZCkgPT4ge1xyXG4gICAgICAgICAgLy8gVHJ5IHRvIGZpbmQgdGhlIG1hY2hpbmUgSUQgYnkgZGVzaWduYXRpb25cclxuICAgICAgICAgIGxldCBtYWNoaW5lSWQ6IHN0cmluZyB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZDsgLy8gVXNlIHVuZGVmaW5lZCBpbnN0ZWFkIG9mIG51bGxcclxuXHJcbiAgICAgICAgICBpZiAocmVjb3JkLm1hY2hpbmVEZXNpZ25hdGlvbikge1xyXG4gICAgICAgICAgICAvLyBGaXJzdCB0cnkgZXhhY3QgbWF0Y2ggd2l0aCBkZXNpZ25hdGlvblxyXG4gICAgICAgICAgICBtYWNoaW5lSWQgPVxyXG4gICAgICAgICAgICAgIG1hY2hpbmVEZXNpZ25hdGlvblRvSWRNYXAuZ2V0KFxyXG4gICAgICAgICAgICAgICAgcmVjb3JkLm1hY2hpbmVEZXNpZ25hdGlvbi50b0xvd2VyQ2FzZSgpXHJcbiAgICAgICAgICAgICAgKSB8fCB1bmRlZmluZWQ7XHJcblxyXG4gICAgICAgICAgICAvLyBJZiBub3QgZm91bmQsIHRyeSBwYXJ0aWFsIG1hdGNoXHJcbiAgICAgICAgICAgIGlmICghbWFjaGluZUlkKSB7XHJcbiAgICAgICAgICAgICAgZm9yIChjb25zdCBbXHJcbiAgICAgICAgICAgICAgICBkZXNpZ25hdGlvbixcclxuICAgICAgICAgICAgICAgIGlkLFxyXG4gICAgICAgICAgICAgIF0gb2YgbWFjaGluZURlc2lnbmF0aW9uVG9JZE1hcC5lbnRyaWVzKCkpIHtcclxuICAgICAgICAgICAgICAgIGlmIChcclxuICAgICAgICAgICAgICAgICAgcmVjb3JkLm1hY2hpbmVEZXNpZ25hdGlvblxyXG4gICAgICAgICAgICAgICAgICAgIC50b0xvd2VyQ2FzZSgpXHJcbiAgICAgICAgICAgICAgICAgICAgLmluY2x1ZGVzKGRlc2lnbmF0aW9uKSB8fFxyXG4gICAgICAgICAgICAgICAgICBkZXNpZ25hdGlvbi5pbmNsdWRlcyhyZWNvcmQubWFjaGluZURlc2lnbmF0aW9uLnRvTG93ZXJDYXNlKCkpXHJcbiAgICAgICAgICAgICAgICApIHtcclxuICAgICAgICAgICAgICAgICAgbWFjaGluZUlkID0gaWQ7XHJcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gSWYgc3RpbGwgbm90IGZvdW5kLCB0cnkgdG8gbWF0Y2ggd2l0aCBtYWNoaW5lIGNvZGVzXHJcbiAgICAgICAgICAgIGlmICghbWFjaGluZUlkKSB7XHJcbiAgICAgICAgICAgICAgbWFjaGluZUlkID1cclxuICAgICAgICAgICAgICAgIG1hY2hpbmVDb2RlVG9JZE1hcC5nZXQocmVjb3JkLm1hY2hpbmVEZXNpZ25hdGlvbikgfHwgdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBJZiBzdGlsbCBub3QgZm91bmQsIGNvbGxlY3QgZm9yIGZlZWRiYWNrXHJcbiAgICAgICAgICAgIGlmICghbWFjaGluZUlkKSB7XHJcbiAgICAgICAgICAgICAgdW5tYXRjaGVkUmVjb3Jkc0NvdW50Kys7XHJcbiAgICAgICAgICAgICAgdW5tYXRjaGVkUmVjb3Jkcy5wdXNoKHJlY29yZC5tYWNoaW5lRGVzaWduYXRpb24pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBObyBtYWNoaW5lIGRlc2lnbmF0aW9uIHByb3ZpZGVkXHJcbiAgICAgICAgICAgIHVubWF0Y2hlZFJlY29yZHNDb3VudCsrO1xyXG4gICAgICAgICAgICB1bm1hdGNoZWRSZWNvcmRzLnB1c2goXCJBdWN1bmUgZMOpc2lnbmF0aW9uIGZvdXJuaWVcIik7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgLy8gT25seSBpbmNsdWRlIG1hY2hpbmVfaWQgaW4gdGhlIHJlY29yZCBpZiBpdCdzIG5vdCB1bmRlZmluZWRcclxuICAgICAgICAgIGNvbnN0IGJhc2VSZWNvcmQgPSB7XHJcbiAgICAgICAgICAgIGlkOiBgbWFpbnQtJHtEYXRlLm5vdygpfS0ke01hdGgucmFuZG9tKClcclxuICAgICAgICAgICAgICAudG9TdHJpbmcoMzYpXHJcbiAgICAgICAgICAgICAgLnN1YnN0cigyLCA5KX1gLFxyXG4gICAgICAgICAgICBkYXRlOiByZWNvcmQuZGF0ZSxcclxuICAgICAgICAgICAgc2VydmljZV9ob3VyczogcmVjb3JkLnNlcnZpY2VIb3VycyxcclxuICAgICAgICAgICAgbWFpbnRlbmFuY2VfcmFuZ2U6IHJlY29yZC5tYWludGVuYW5jZVJhbmdlLFxyXG4gICAgICAgICAgICBmaWx0ZXJzX3VzZWQ6IFtdLCAvLyBFbXB0eSBmb3Igbm93XHJcbiAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgIC8vIEFkZCBtYWNoaW5lX2lkIG9ubHkgaWYgaXQncyBkZWZpbmVkXHJcbiAgICAgICAgICBpZiAobWFjaGluZUlkICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAuLi5iYXNlUmVjb3JkLFxyXG4gICAgICAgICAgICAgIG1hY2hpbmVfaWQ6IG1hY2hpbmVJZCxcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBiYXNlUmVjb3JkO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmZpbHRlcigocmVjb3JkKSA9PiByZWNvcmQuZGF0ZSAmJiByZWNvcmQuZGF0ZSAhPT0gXCJJbnZhbGlkIERhdGVcIik7IC8vIEZpbHRlciBvdXQgcmVjb3JkcyB3aXRoIGludmFsaWQgZGF0ZXNcclxuXHJcbiAgICAgIC8vIEluc2VydCBhbGwgcmVjb3JkcyAoaW5jbHVkaW5nIHRob3NlIHdpdGhvdXQgbWF0Y2hlZCBtYWNoaW5lcylcclxuICAgICAgaWYgKG1haW50ZW5hbmNlUmVjb3Jkc1RvQWRkLmxlbmd0aCA+IDApIHtcclxuICAgICAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAgICAgLmZyb20oXCJtYWludGVuYW5jZV9yZWNvcmRzXCIpXHJcbiAgICAgICAgICAuaW5zZXJ0KG1haW50ZW5hbmNlUmVjb3Jkc1RvQWRkIGFzIGFueSkgLy8gQ2FzdCB0byBhbnkgdG8gYXZvaWQgdHlwZSBpc3N1ZXNcclxuICAgICAgICAgIC5zZWxlY3QoKTtcclxuXHJcbiAgICAgICAgaWYgKGVycm9yKSB7XHJcbiAgICAgICAgICB0aHJvdyBlcnJvcjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFJlZnJlc2ggZGF0YSB0byBzaG93IHRoZSBuZXcgcmVjb3Jkc1xyXG4gICAgICAgIGF3YWl0IGZldGNoRGF0YSgpO1xyXG5cclxuICAgICAgICAvLyBTaG93IHN1Y2Nlc3MgbWVzc2FnZSB3aXRoIGRldGFpbHMgYWJvdXQgdW5tYXRjaGVkIHJlY29yZHNcclxuICAgICAgICBsZXQgZGVzY3JpcHRpb24gPSBgRG9ubsOpZXMgZGUgbWFpbnRlbmFuY2UgaW1wb3J0w6llcyBhdmVjIHN1Y2PDqHMuICR7bWFpbnRlbmFuY2VSZWNvcmRzVG9BZGQubGVuZ3RofSBlbnJlZ2lzdHJlbWVudHMgb250IMOpdMOpIGFqb3V0w6lzIMOgIGxhIHRhYmxlIGRlIG1haW50ZW5hbmNlLmA7XHJcblxyXG4gICAgICAgIGlmICh1bm1hdGNoZWRSZWNvcmRzQ291bnQgPiAwKSB7XHJcbiAgICAgICAgICBkZXNjcmlwdGlvbiArPSBgICR7dW5tYXRjaGVkUmVjb3Jkc0NvdW50fSBlbnJlZ2lzdHJlbWVudChzKSBuJ29udCBwYXMgcHUgw6p0cmUgYXNzb2Npw6lzIMOgIHVuIGVuZ2luIGV4aXN0YW50IGV0IHNlcm9udCBpbXBvcnTDqXMgc2FucyBhc3NvY2lhdGlvbi5gO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgYWRkVG9hc3Qoe1xyXG4gICAgICAgICAgdHlwZTogXCJzdWNjZXNzXCIsXHJcbiAgICAgICAgICB0aXRsZTogXCJJbXBvcnRhdGlvbiBkZSBNYWludGVuYW5jZVwiLFxyXG4gICAgICAgICAgZGVzY3JpcHRpb24sXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiSW1wb3J0ZWQgbWFpbnRlbmFuY2UgcmVjb3JkczpcIiwgZGF0YSk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgLy8gU2hvdyBtZXNzYWdlIGlmIG5vIHJlY29yZHMgdG8gaW1wb3J0XHJcbiAgICAgICAgYWRkVG9hc3Qoe1xyXG4gICAgICAgICAgdHlwZTogXCJpbmZvXCIsXHJcbiAgICAgICAgICB0aXRsZTogXCJJbXBvcnRhdGlvbiBkZSBNYWludGVuYW5jZVwiLFxyXG4gICAgICAgICAgZGVzY3JpcHRpb246IFwiQXVjdW4gZW5yZWdpc3RyZW1lbnQgZGUgbWFpbnRlbmFuY2Ugw6AgaW1wb3J0ZXIuXCIsXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcclxuICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIGltcG9ydGluZyBtYWludGVuYW5jZSByZWNvcmRzOlwiLCBlcnJvcik7XHJcbiAgICAgIGFkZFRvYXN0KHtcclxuICAgICAgICB0eXBlOiBcImVycm9yXCIsXHJcbiAgICAgICAgdGl0bGU6IFwiRXJyZXVyIGQnaW1wb3J0YXRpb25cIixcclxuICAgICAgICBkZXNjcmlwdGlvbjogYMOJY2hlYyBkZSBsJ2ltcG9ydGF0aW9uIGRlcyBkb25uw6llcyBkZSBtYWludGVuYW5jZTogJHtlcnJvci5tZXNzYWdlfWAsXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIExvZyB0aGUgZGF0YSBmb3IgZGVidWdnaW5nXHJcbiAgICBjb25zb2xlLmxvZyhcIk1haW50ZW5hbmNlIGRhdGEgdG8gaW1wb3J0OlwiLCBuZXdNYWludGVuYW5jZURhdGEpO1xyXG5cclxuICAgIGNsb3NlSW1wb3J0TW9kYWwoKTtcclxuICB9O1xyXG5cclxuICBjb25zdCBvcGVuRmlsdGVyR3JvdXBNb2RhbCA9IChncm91cDogRmlsdGVyR3JvdXAgfCBudWxsKSA9PiB7XHJcbiAgICBzZXRFZGl0aW5nRmlsdGVyR3JvdXAoZ3JvdXApO1xyXG4gICAgc2V0SXNGaWx0ZXJHcm91cE1vZGFsT3Blbih0cnVlKTtcclxuICB9O1xyXG4gIGNvbnN0IGNsb3NlRmlsdGVyR3JvdXBNb2RhbCA9ICgpID0+IHNldElzRmlsdGVyR3JvdXBNb2RhbE9wZW4oZmFsc2UpO1xyXG5cclxuICBjb25zdCBzYXZlRmlsdGVyR3JvdXAgPSBhc3luYyAoXHJcbiAgICBncm91cERhdGE6IEZpbHRlckdyb3VwIHwgT21pdDxGaWx0ZXJHcm91cCwgXCJpZFwiPlxyXG4gICkgPT4ge1xyXG4gICAgY29uc3QgZ3JvdXBUb1NhdmUgPVxyXG4gICAgICBcImlkXCIgaW4gZ3JvdXBEYXRhICYmIGdyb3VwRGF0YS5pZFxyXG4gICAgICAgID8ge1xyXG4gICAgICAgICAgICBpZDogZ3JvdXBEYXRhLmlkLFxyXG4gICAgICAgICAgICBuYW1lOiBncm91cERhdGEubmFtZSxcclxuICAgICAgICAgICAgZmlsdGVyX3R5cGU6IGdyb3VwRGF0YS5maWx0ZXJUeXBlLFxyXG4gICAgICAgICAgICBvcmlnaW5hbF9yZWZlcmVuY2VfaWQ6IGdyb3VwRGF0YS5vcmlnaW5hbFJlZmVyZW5jZUlkLFxyXG4gICAgICAgICAgICByZWZlcmVuY2VzOiBncm91cERhdGEucmVmZXJlbmNlcyxcclxuICAgICAgICAgIH1cclxuICAgICAgICA6IHtcclxuICAgICAgICAgICAgaWQ6IGBmZy0ke0RhdGUubm93KCl9YCxcclxuICAgICAgICAgICAgbmFtZTogZ3JvdXBEYXRhLm5hbWUsXHJcbiAgICAgICAgICAgIGZpbHRlcl90eXBlOiBncm91cERhdGEuZmlsdGVyVHlwZSxcclxuICAgICAgICAgICAgb3JpZ2luYWxfcmVmZXJlbmNlX2lkOiBncm91cERhdGEub3JpZ2luYWxSZWZlcmVuY2VJZCxcclxuICAgICAgICAgICAgcmVmZXJlbmNlczogZ3JvdXBEYXRhLnJlZmVyZW5jZXMsXHJcbiAgICAgICAgICB9O1xyXG4gICAgY29uc3QgeyBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgLmZyb20oXCJmaWx0ZXJfZ3JvdXBzXCIpXHJcbiAgICAgIC51cHNlcnQoZ3JvdXBUb1NhdmUgYXMgYW55KTtcclxuICAgIGlmIChlcnJvcikge1xyXG4gICAgICBhZGRUb2FzdCh7IHR5cGU6IFwiZXJyb3JcIiwgdGl0bGU6IFwiRXJyZXVyXCIsIGRlc2NyaXB0aW9uOiBlcnJvci5tZXNzYWdlIH0pO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgZmV0Y2hEYXRhKCk7XHJcbiAgICAgIGNvbnN0IHN1Y2Nlc3NNZXNzYWdlID1cclxuICAgICAgICBcImlkXCIgaW4gZ3JvdXBEYXRhICYmIGdyb3VwRGF0YS5pZCA/IFwiR3JvdXBlIE1pcyDDoCBKb3VyXCIgOiBcIkdyb3VwZSBDcsOpw6lcIjtcclxuICAgICAgYWRkVG9hc3Qoe1xyXG4gICAgICAgIHR5cGU6IFwic3VjY2Vzc1wiLFxyXG4gICAgICAgIHRpdGxlOiBzdWNjZXNzTWVzc2FnZSxcclxuICAgICAgICBkZXNjcmlwdGlvbjogYExlIGdyb3VwZSAke2dyb3VwVG9TYXZlLm5hbWV9IGEgw6l0w6kgc2F1dmVnYXJkw6kuYCxcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBjbG9zZUZpbHRlckdyb3VwTW9kYWwoKTtcclxuICB9O1xyXG5cclxuICBjb25zdCBkZWxldGVGaWx0ZXJHcm91cCA9IGFzeW5jIChncm91cElkOiBzdHJpbmcpID0+IHtcclxuICAgIGNvbnN0IHsgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgIC5mcm9tKFwiZmlsdGVyX2dyb3Vwc1wiKVxyXG4gICAgICAuZGVsZXRlKClcclxuICAgICAgLmVxKFwiaWRcIiwgZ3JvdXBJZCk7XHJcbiAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgYWRkVG9hc3QoeyB0eXBlOiBcImVycm9yXCIsIHRpdGxlOiBcIkVycmV1clwiLCBkZXNjcmlwdGlvbjogZXJyb3IubWVzc2FnZSB9KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIC8vIEFsc28gbmVlZCB0byB1bi1hc3NpZ24gZnJvbSBtYWNoaW5lcy4gVGhpcyBpcyBhIG5vbi1hdG9taWMgb3BlcmF0aW9uIGZvciBzaW1wbGljaXR5LlxyXG4gICAgICBtYWNoaW5lcy5mb3JFYWNoKGFzeW5jIChtKSA9PiB7XHJcbiAgICAgICAgaWYgKG0uYXNzaWduZWRGaWx0ZXJzLnNvbWUoKGFmKSA9PiBhZi5maWx0ZXJHcm91cElkID09PSBncm91cElkKSkge1xyXG4gICAgICAgICAgY29uc3QgbmV3QXNzaWduZWQgPSBtLmFzc2lnbmVkRmlsdGVycy5tYXAoKGFmKSA9PlxyXG4gICAgICAgICAgICBhZi5maWx0ZXJHcm91cElkID09PSBncm91cElkID8geyAuLi5hZiwgZmlsdGVyR3JvdXBJZDogbnVsbCB9IDogYWZcclxuICAgICAgICAgICk7XHJcbiAgICAgICAgICBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAgICAgICAuZnJvbShcIm1hY2hpbmVzXCIpXHJcbiAgICAgICAgICAgIC51cGRhdGUoeyBhc3NpZ25lZF9maWx0ZXJzOiBuZXdBc3NpZ25lZCBhcyBhbnkgfSlcclxuICAgICAgICAgICAgLmVxKFwiaWRcIiwgbS5pZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgICAgZmV0Y2hEYXRhKCk7XHJcbiAgICAgIGFkZFRvYXN0KHsgdHlwZTogXCJpbmZvXCIsIHRpdGxlOiBcIkdyb3VwZSBTdXBwcmltw6lcIiB9KTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICBjb25zdCBvcGVuTWFpbnRlbmFuY2VNb2RhbCA9IChcclxuICAgIHJlY29yZDogUGFydGlhbDxNYWludGVuYW5jZVJlY29yZD4gfCBudWxsLFxyXG4gICAgdmlld09ubHk6IGJvb2xlYW4gPSBmYWxzZVxyXG4gICkgPT4ge1xyXG4gICAgc2V0RWRpdGluZ01haW50ZW5hbmNlUmVjb3JkKHJlY29yZCk7XHJcbiAgICBzZXRJc01haW50ZW5hbmNlVmlld09ubHkodmlld09ubHkpO1xyXG4gICAgc2V0SXNNYWludGVuYW5jZU1vZGFsT3Blbih0cnVlKTtcclxuICB9O1xyXG4gIGNvbnN0IGNsb3NlTWFpbnRlbmFuY2VNb2RhbCA9ICgpID0+IHNldElzTWFpbnRlbmFuY2VNb2RhbE9wZW4oZmFsc2UpO1xyXG5cclxuICBjb25zdCBzYXZlTWFpbnRlbmFuY2VSZWNvcmQgPSBhc3luYyAoXHJcbiAgICByZWNvcmREYXRhOiBNYWludGVuYW5jZVJlY29yZCB8IE9taXQ8TWFpbnRlbmFuY2VSZWNvcmQsIFwiaWRcIj5cclxuICApID0+IHtcclxuICAgIGNvbnN0IHJlY29yZFRvU2F2ZSA9XHJcbiAgICAgIFwiaWRcIiBpbiByZWNvcmREYXRhICYmIHJlY29yZERhdGEuaWRcclxuICAgICAgICA/IHtcclxuICAgICAgICAgICAgaWQ6IHJlY29yZERhdGEuaWQsXHJcbiAgICAgICAgICAgIG1hY2hpbmVfaWQ6IHJlY29yZERhdGEubWFjaGluZUlkLFxyXG4gICAgICAgICAgICBkYXRlOiByZWNvcmREYXRhLmRhdGUsXHJcbiAgICAgICAgICAgIHNlcnZpY2VfaG91cnM6IHJlY29yZERhdGEuc2VydmljZUhvdXJzLFxyXG4gICAgICAgICAgICBtYWludGVuYW5jZV9yYW5nZTogcmVjb3JkRGF0YS5tYWludGVuYW5jZVJhbmdlLFxyXG4gICAgICAgICAgICBmaWx0ZXJzX3VzZWQ6IHJlY29yZERhdGEuZmlsdGVyc1VzZWQsXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgOiB7XHJcbiAgICAgICAgICAgIGlkOiBgbWFpbnQtJHtEYXRlLm5vdygpfWAsXHJcbiAgICAgICAgICAgIG1hY2hpbmVfaWQ6IHJlY29yZERhdGEubWFjaGluZUlkLFxyXG4gICAgICAgICAgICBkYXRlOiByZWNvcmREYXRhLmRhdGUsXHJcbiAgICAgICAgICAgIHNlcnZpY2VfaG91cnM6IHJlY29yZERhdGEuc2VydmljZUhvdXJzLFxyXG4gICAgICAgICAgICBtYWludGVuYW5jZV9yYW5nZTogcmVjb3JkRGF0YS5tYWludGVuYW5jZVJhbmdlLFxyXG4gICAgICAgICAgICBmaWx0ZXJzX3VzZWQ6IHJlY29yZERhdGEuZmlsdGVyc1VzZWQsXHJcbiAgICAgICAgICB9O1xyXG4gICAgY29uc3QgeyBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgLmZyb20oXCJtYWludGVuYW5jZV9yZWNvcmRzXCIpXHJcbiAgICAgIC51cHNlcnQocmVjb3JkVG9TYXZlIGFzIGFueSk7XHJcblxyXG4gICAgaWYgKGVycm9yKSB7XHJcbiAgICAgIGFkZFRvYXN0KHsgdHlwZTogXCJlcnJvclwiLCB0aXRsZTogXCJFcnJldXJcIiwgZGVzY3JpcHRpb246IGVycm9yLm1lc3NhZ2UgfSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjb25zdCBtYWNoaW5lID0gbWFjaGluZXMuZmluZCgobSkgPT4gbS5pZCA9PT0gcmVjb3JkRGF0YS5tYWNoaW5lSWQpO1xyXG4gICAgICBpZiAobWFjaGluZSAmJiByZWNvcmREYXRhLnNlcnZpY2VIb3VycyA+IG1hY2hpbmUuc2VydmljZUhvdXJzKSB7XHJcbiAgICAgICAgYXdhaXQgc3VwYWJhc2VcclxuICAgICAgICAgIC5mcm9tKFwibWFjaGluZXNcIilcclxuICAgICAgICAgIC51cGRhdGUoeyBzZXJ2aWNlX2hvdXJzOiByZWNvcmREYXRhLnNlcnZpY2VIb3VycyB9KVxyXG4gICAgICAgICAgLmVxKFwiaWRcIiwgbWFjaGluZS5pZCk7XHJcbiAgICAgIH1cclxuICAgICAgZmV0Y2hEYXRhKCk7XHJcbiAgICAgIGNvbnN0IHN1Y2Nlc3NNZXNzYWdlID1cclxuICAgICAgICBcImlkXCIgaW4gcmVjb3JkRGF0YSAmJiByZWNvcmREYXRhLmlkXHJcbiAgICAgICAgICA/IFwiTWFpbnRlbmFuY2UgTWlzZSDDoCBKb3VyXCJcclxuICAgICAgICAgIDogXCJNYWludGVuYW5jZSBFbnJlZ2lzdHLDqWVcIjtcclxuICAgICAgYWRkVG9hc3QoeyB0eXBlOiBcInN1Y2Nlc3NcIiwgdGl0bGU6IHN1Y2Nlc3NNZXNzYWdlIH0pO1xyXG4gICAgfVxyXG4gICAgY2xvc2VNYWludGVuYW5jZU1vZGFsKCk7XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgZGVsZXRlTWFpbnRlbmFuY2VSZWNvcmQgPSBhc3luYyAocmVjb3JkSWQ6IHN0cmluZykgPT4ge1xyXG4gICAgY29uc3QgeyBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgLmZyb20oXCJtYWludGVuYW5jZV9yZWNvcmRzXCIpXHJcbiAgICAgIC5kZWxldGUoKVxyXG4gICAgICAuZXEoXCJpZFwiLCByZWNvcmRJZCk7XHJcbiAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgYWRkVG9hc3QoeyB0eXBlOiBcImVycm9yXCIsIHRpdGxlOiBcIkVycmV1clwiLCBkZXNjcmlwdGlvbjogZXJyb3IubWVzc2FnZSB9KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGZldGNoRGF0YSgpO1xyXG4gICAgICBhZGRUb2FzdCh7IHR5cGU6IFwiaW5mb1wiLCB0aXRsZTogXCJFbnJlZ2lzdHJlbWVudCBTdXBwcmltw6lcIiB9KTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICBjb25zdCBoYW5kbGVOb3RpZmljYXRpb25DbGljayA9IChub3RpZmljYXRpb246IE5vdGlmaWNhdGlvbikgPT4ge1xyXG4gICAgc2V0Tm90aWZpY2F0aW9ucygocHJldikgPT5cclxuICAgICAgcHJldi5tYXAoKG4pID0+IChuLmlkID09PSBub3RpZmljYXRpb24uaWQgPyB7IC4uLm4sIHJlYWQ6IHRydWUgfSA6IG4pKVxyXG4gICAgKTtcclxuICAgIGlmIChub3RpZmljYXRpb24udHlwZSA9PT0gXCJtYWludGVuYW5jZVwiKSB7XHJcbiAgICAgIHNlbGVjdE1hY2hpbmUobm90aWZpY2F0aW9uLmVudGl0eUlkKTtcclxuICAgIH0gZWxzZSBpZiAobm90aWZpY2F0aW9uLnR5cGUgPT09IFwic3RvY2tcIikge1xyXG4gICAgICBuYXZpZ2F0ZVRvRmlsdGVyR3JvdXAobm90aWZpY2F0aW9uLmVudGl0eUlkKTtcclxuICAgIH1cclxuICB9O1xyXG4gIGNvbnN0IG1hcmtBbGxOb3RpZmljYXRpb25zQXNSZWFkID0gKCkgPT4ge1xyXG4gICAgc2V0Tm90aWZpY2F0aW9ucygocHJldikgPT4gcHJldi5tYXAoKG4pID0+ICh7IC4uLm4sIHJlYWQ6IHRydWUgfSkpKTtcclxuICB9O1xyXG5cclxuICBjb25zdCBvcGVuQWRkU3RvY2tNb2RhbCA9IChpbmZvOiBTdG9ja1VwZGF0ZUluZm8pID0+IHtcclxuICAgIHNldFN0b2NrVXBkYXRlSW5mbyhpbmZvKTtcclxuICAgIHNldElzQWRkU3RvY2tNb2RhbE9wZW4odHJ1ZSk7XHJcbiAgfTtcclxuICBjb25zdCBjbG9zZUFkZFN0b2NrTW9kYWwgPSAoKSA9PiBzZXRJc0FkZFN0b2NrTW9kYWxPcGVuKGZhbHNlKTtcclxuXHJcbiAgY29uc3QgYWRkU3RvY2sgPSBhc3luYyAocXVhbnRpdHk6IG51bWJlcikgPT4ge1xyXG4gICAgaWYgKCFzdG9ja1VwZGF0ZUluZm8pIHJldHVybjtcclxuICAgIGNvbnN0IHsgZmlsdGVyUmVmZXJlbmNlLCBmaWx0ZXJHcm91cElkIH0gPSBzdG9ja1VwZGF0ZUluZm87XHJcblxyXG4gICAgY29uc3QgZ3JvdXBUb1VwZGF0ZSA9IGZpbHRlckdyb3Vwcy5maW5kKChnKSA9PiBnLmlkID09PSBmaWx0ZXJHcm91cElkKTtcclxuICAgIGlmICghZ3JvdXBUb1VwZGF0ZSkgcmV0dXJuO1xyXG5cclxuICAgIGNvbnN0IG5ld1JlZmVyZW5jZXMgPSBncm91cFRvVXBkYXRlLnJlZmVyZW5jZXMubWFwKChyZWYpID0+XHJcbiAgICAgIHJlZi5pZCA9PT0gZmlsdGVyUmVmZXJlbmNlLmlkXHJcbiAgICAgICAgPyB7IC4uLnJlZiwgc3RvY2s6IHJlZi5zdG9jayArIHF1YW50aXR5IH1cclxuICAgICAgICA6IHJlZlxyXG4gICAgKTtcclxuXHJcbiAgICBjb25zdCB7IGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAuZnJvbShcImZpbHRlcl9ncm91cHNcIilcclxuICAgICAgLnVwZGF0ZSh7IHJlZmVyZW5jZXM6IG5ld1JlZmVyZW5jZXMgYXMgYW55IH0pXHJcbiAgICAgIC5lcShcImlkXCIsIGZpbHRlckdyb3VwSWQpO1xyXG5cclxuICAgIGlmIChlcnJvcikge1xyXG4gICAgICBhZGRUb2FzdCh7IHR5cGU6IFwiZXJyb3JcIiwgdGl0bGU6IFwiRXJyZXVyXCIsIGRlc2NyaXB0aW9uOiBlcnJvci5tZXNzYWdlIH0pO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgZmV0Y2hEYXRhKCk7XHJcbiAgICAgIGFkZFRvYXN0KHtcclxuICAgICAgICB0eXBlOiBcInN1Y2Nlc3NcIixcclxuICAgICAgICB0aXRsZTogXCJTdG9jayBBam91dMOpXCIsXHJcbiAgICAgICAgZGVzY3JpcHRpb246IGAke3F1YW50aXR5fSB1bml0w6kocykgYWpvdXTDqWUocykgcG91ciAke2ZpbHRlclJlZmVyZW5jZS5yZWZlcmVuY2V9LmAsXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgY2xvc2VBZGRTdG9ja01vZGFsKCk7XHJcbiAgfTtcclxuXHJcbiAgY29uc3Qgc2V0VGhlbWUgPSAodGhlbWVJZDogVGhlbWUpID0+IHtcclxuICAgIF9zZXRUaGVtZSh0aGVtZUlkKTtcclxuICAgIGlmICh0aGVtZUlkLnN0YXJ0c1dpdGgoXCJjdXN0b20tXCIpKSB7XHJcbiAgICAgIGNvbnN0IHNhdmVkID0gc2F2ZWRUaGVtZXMuZmluZCgodCkgPT4gdC5pZCA9PT0gdGhlbWVJZCk7XHJcbiAgICAgIGlmIChzYXZlZCkgc2V0Q3VzdG9tQ29sb3JzKHNhdmVkLmNvbG9ycyk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgY29uc3Qgb3BlblRoZW1lQ3VzdG9taXplciA9ICh0aGVtZVRvRWRpdDogU2F2ZWRUaGVtZSB8IG51bGwpID0+IHtcclxuICAgIHNldEVkaXRpbmdDdXN0b21UaGVtZSh0aGVtZVRvRWRpdCk7XHJcbiAgICBzZXRDdXN0b21Db2xvcnModGhlbWVUb0VkaXQgPyB0aGVtZVRvRWRpdC5jb2xvcnMgOiBkZWZhdWx0Q3VzdG9tQ29sb3JzKTtcclxuICAgIHNldElzVGhlbWVDdXN0b21pemVyT3Blbih0cnVlKTtcclxuICB9O1xyXG4gIGNvbnN0IGNsb3NlVGhlbWVDdXN0b21pemVyID0gKCkgPT4ge1xyXG4gICAgc2V0VGhlbWUodGhlbWUpO1xyXG4gICAgc2V0SXNUaGVtZUN1c3RvbWl6ZXJPcGVuKGZhbHNlKTtcclxuICB9O1xyXG5cclxuICBjb25zdCBzYXZlQ3VzdG9tVGhlbWUgPSAoXHJcbiAgICB0aGVtZURhdGE6IE9taXQ8U2F2ZWRUaGVtZSwgXCJpZFwiPiAmIHsgaWQ/OiBzdHJpbmcgfVxyXG4gICkgPT4ge1xyXG4gICAgaWYgKHRoZW1lRGF0YS5pZCkge1xyXG4gICAgICBjb25zdCB1cGRhdGVkVGhlbWVzID0gc2F2ZWRUaGVtZXMubWFwKCh0KSA9PlxyXG4gICAgICAgIHQuaWQgPT09IHRoZW1lRGF0YS5pZCA/IHsgLi4udCwgLi4udGhlbWVEYXRhIH0gOiB0XHJcbiAgICAgICk7XHJcbiAgICAgIHNldFNhdmVkVGhlbWVzKHVwZGF0ZWRUaGVtZXMpO1xyXG4gICAgICBzZXRUaGVtZSh0aGVtZURhdGEuaWQpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgY29uc3QgbmV3VGhlbWU6IFNhdmVkVGhlbWUgPSB7IC4uLnRoZW1lRGF0YSwgaWQ6IGBjdXN0b20tJHtEYXRlLm5vdygpfWAgfTtcclxuICAgICAgc2V0U2F2ZWRUaGVtZXMoWy4uLnNhdmVkVGhlbWVzLCBuZXdUaGVtZV0pO1xyXG4gICAgICBzZXRUaGVtZShuZXdUaGVtZS5pZCk7XHJcbiAgICB9XHJcbiAgICBhZGRUb2FzdCh7XHJcbiAgICAgIHR5cGU6IFwic3VjY2Vzc1wiLFxyXG4gICAgICB0aXRsZTogXCJUaMOobWUgRW5yZWdpc3Ryw6lcIixcclxuICAgICAgZGVzY3JpcHRpb246IGBMZSB0aMOobWUgXCIke3RoZW1lRGF0YS5uYW1lfVwiIGEgw6l0w6kgc2F1dmVnYXJkw6kuYCxcclxuICAgIH0pO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IGRlbGV0ZUN1c3RvbVRoZW1lID0gKHRoZW1lSWQ6IHN0cmluZykgPT4ge1xyXG4gICAgc2V0U2F2ZWRUaGVtZXMoc2F2ZWRUaGVtZXMuZmlsdGVyKCh0KSA9PiB0LmlkICE9PSB0aGVtZUlkKSk7XHJcbiAgICBpZiAodGhlbWUgPT09IHRoZW1lSWQpIHtcclxuICAgICAgc2V0VGhlbWUoXCJkZWZhdWx0LWxpZ2h0XCIpO1xyXG4gICAgfVxyXG4gICAgYWRkVG9hc3QoeyB0eXBlOiBcImluZm9cIiwgdGl0bGU6IFwiVGjDqG1lIFN1cHByaW3DqVwiIH0pO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IGFjdGlvbnMgPSB7XHJcbiAgICBzZXRDdXJyZW50VmlldyxcclxuICAgIHRvZ2dsZVNpZGViYXIsXHJcbiAgICBjbG9zZVNpZGViYXIsXHJcbiAgICBzZWxlY3RNYWNoaW5lLFxyXG4gICAgYXNzaWduRmlsdGVyVG9NYWNoaW5lLFxyXG4gICAgYWRkRmlsdGVyVHlwZVRvTWFjaGluZSxcclxuICAgIHJlbW92ZUZpbHRlclR5cGVGcm9tTWFjaGluZSxcclxuICAgIG9wZW5Db25maXJtYXRpb25EaWFsb2csXHJcbiAgICBjbG9zZUNvbmZpcm1hdGlvbkRpYWxvZyxcclxuICAgIGhhbmRsZUNvbmZpcm0sXHJcbiAgICBvcGVuTWFjaGluZU1vZGFsLFxyXG4gICAgY2xvc2VNYWNoaW5lTW9kYWwsXHJcbiAgICBzYXZlTWFjaGluZSxcclxuICAgIGRlbGV0ZU1hY2hpbmUsXHJcbiAgICBvcGVuRmlsdGVyR3JvdXBNb2RhbCxcclxuICAgIGNsb3NlRmlsdGVyR3JvdXBNb2RhbCxcclxuICAgIHNhdmVGaWx0ZXJHcm91cCxcclxuICAgIGRlbGV0ZUZpbHRlckdyb3VwLFxyXG4gICAgb3Blbk1haW50ZW5hbmNlTW9kYWwsXHJcbiAgICBjbG9zZU1haW50ZW5hbmNlTW9kYWwsXHJcbiAgICBzYXZlTWFpbnRlbmFuY2VSZWNvcmQsXHJcbiAgICBkZWxldGVNYWludGVuYW5jZVJlY29yZCxcclxuICAgIG5hdmlnYXRlVG9GaWx0ZXJHcm91cCxcclxuICAgIGNsZWFySGlnaGxpZ2h0ZWRGaWx0ZXJHcm91cDogKCkgPT4gc2V0SGlnaGxpZ2h0ZWRGaWx0ZXJHcm91cElkKG51bGwpLFxyXG4gICAgaGFuZGxlTm90aWZpY2F0aW9uQ2xpY2ssXHJcbiAgICBtYXJrQWxsTm90aWZpY2F0aW9uc0FzUmVhZCxcclxuICAgIG9wZW5BSUFzc2lzdGFudDogKCkgPT4gc2V0SXNBSUFzc2lzdGFudE9wZW4odHJ1ZSksXHJcbiAgICBjbG9zZUFJQXNzaXN0YW50OiAoKSA9PiBzZXRJc0FJQXNzaXN0YW50T3BlbihmYWxzZSksXHJcbiAgICBvcGVuU2Nhbm5lcjogKCkgPT4gc2V0SXNTY2FubmVyT3Blbih0cnVlKSxcclxuICAgIGNsb3NlU2Nhbm5lcjogKCkgPT4gc2V0SXNTY2FubmVyT3BlbihmYWxzZSksXHJcbiAgICBhZGRUb2FzdCxcclxuICAgIHJlbW92ZVRvYXN0LFxyXG4gICAgb3BlbkFkZFN0b2NrTW9kYWwsXHJcbiAgICBjbG9zZUFkZFN0b2NrTW9kYWwsXHJcbiAgICBhZGRTdG9jayxcclxuICAgIHNldFRoZW1lLFxyXG4gICAgb3BlblRoZW1lQ3VzdG9taXplcixcclxuICAgIGNsb3NlVGhlbWVDdXN0b21pemVyLFxyXG4gICAgc2F2ZUN1c3RvbVRoZW1lLFxyXG4gICAgZGVsZXRlQ3VzdG9tVGhlbWUsXHJcbiAgICBvcGVuSW1wb3J0TW9kYWw6ICgpID0+IHNldElzSW1wb3J0TW9kYWxPcGVuKHRydWUpLFxyXG4gICAgY2xvc2VJbXBvcnRNb2RhbCxcclxuICAgIGltcG9ydE1hY2hpbmVzLFxyXG4gICAgaW1wb3J0TWFpbnRlbmFuY2VSZWNvcmRzLFxyXG4gIH07XHJcblxyXG4gIGNvbnN0IHN0YXRlID0ge1xyXG4gICAgaXNMb2FkaW5nLFxyXG4gICAgY3VycmVudFZpZXcsXHJcbiAgICBtYWNoaW5lcyxcclxuICAgIGZpbHRlckdyb3VwcyxcclxuICAgIGZpbHRlclR5cGVzLFxyXG4gICAgc2VsZWN0ZWRNYWNoaW5lLFxyXG4gICAgbWFpbnRlbmFuY2VSZWNvcmRzLFxyXG4gICAgdGhlbWUsXHJcbiAgICBjdXN0b21Db2xvcnMsXHJcbiAgICBzYXZlZFRoZW1lcyxcclxuICAgIGhpZ2hsaWdodGVkRmlsdGVyR3JvdXBJZCxcclxuICAgIGlzU2lkZWJhck9wZW4sXHJcbiAgICBub3RpZmljYXRpb25zLFxyXG4gICAgdG9hc3RzLFxyXG4gICAgaXNTY2FubmVyT3BlbixcclxuICAgIGlzQUlBc3Npc3RhbnRPcGVuLFxyXG4gICAgaXNNYWNoaW5lTW9kYWxPcGVuLFxyXG4gICAgZWRpdGluZ01hY2hpbmUsXHJcbiAgICBpc0ZpbHRlckdyb3VwTW9kYWxPcGVuLFxyXG4gICAgZWRpdGluZ0ZpbHRlckdyb3VwLFxyXG4gICAgaXNNYWludGVuYW5jZU1vZGFsT3BlbixcclxuICAgIGVkaXRpbmdNYWludGVuYW5jZVJlY29yZCxcclxuICAgIGlzTWFpbnRlbmFuY2VWaWV3T25seSxcclxuICAgIGlzQWRkU3RvY2tNb2RhbE9wZW4sXHJcbiAgICBzdG9ja1VwZGF0ZUluZm8sXHJcbiAgICBpc1RoZW1lQ3VzdG9taXplck9wZW4sXHJcbiAgICBlZGl0aW5nQ3VzdG9tVGhlbWUsXHJcbiAgICBpc0ltcG9ydE1vZGFsT3BlbixcclxuICAgIGNvbmZpcm1hdGlvbkRpYWxvZ0NvbmZpZyxcclxuICB9O1xyXG5cclxuICByZXR1cm4geyBzdGF0ZSwgYWN0aW9ucyB9O1xyXG59O1xyXG4iXSwibmFtZXMiOlsidXNlU3RhdGUiLCJ1c2VFZmZlY3QiLCJ1c2VDYWxsYmFjayIsIlZpZXciLCJjYWxjdWxhdGVOZXh0TWFpbnRlbmFuY2UiLCJzdXBhYmFzZSIsImxvYWRGcm9tU3RvcmFnZSIsImtleSIsImRlZmF1bHRWYWx1ZSIsImxvY2FsU3RvcmFnZSIsInN0b3JlZFZhbHVlIiwiZ2V0SXRlbSIsIkpTT04iLCJwYXJzZSIsImUiLCJzdGFydHNXaXRoIiwiY29uc29sZSIsIndhcm4iLCJlcnJvciIsImRlZmF1bHRDdXN0b21Db2xvcnMiLCJiYWNrZ3JvdW5kIiwiZm9yZWdyb3VuZCIsImZvcmVncm91bmRTZWNvbmRhcnkiLCJjYXJkIiwiY2FyZEZvcmVncm91bmQiLCJwcmltYXJ5IiwicHJpbWFyeUZvcmVncm91bmQiLCJhY2NlbnQiLCJkZXN0cnVjdGl2ZSIsImRlc3RydWN0aXZlRm9yZWdyb3VuZCIsImJvcmRlciIsImlucHV0IiwicmluZyIsImNhcmRCb3JkZXJzIiwidXNlQXBwTG9naWMiLCJpc0xvYWRpbmciLCJzZXRJc0xvYWRpbmciLCJjdXJyZW50VmlldyIsInNldEN1cnJlbnRWaWV3IiwiREFTSEJPQVJEIiwibWFjaGluZXMiLCJzZXRNYWNoaW5lcyIsImZpbHRlckdyb3VwcyIsInNldEZpbHRlckdyb3VwcyIsImZpbHRlclR5cGVzIiwic2V0RmlsdGVyVHlwZXMiLCJzZWxlY3RlZE1hY2hpbmUiLCJzZXRTZWxlY3RlZE1hY2hpbmUiLCJtYWludGVuYW5jZVJlY29yZHMiLCJzZXRNYWludGVuYW5jZVJlY29yZHMiLCJ0aGVtZSIsIl9zZXRUaGVtZSIsInNhdmVkVGhlbWVzIiwic2V0U2F2ZWRUaGVtZXMiLCJjdXN0b21Db2xvcnMiLCJzZXRDdXN0b21Db2xvcnMiLCJzYXZlZCIsImhpZ2hsaWdodGVkRmlsdGVyR3JvdXBJZCIsInNldEhpZ2hsaWdodGVkRmlsdGVyR3JvdXBJZCIsImlzU2lkZWJhck9wZW4iLCJzZXRJc1NpZGViYXJPcGVuIiwibm90aWZpY2F0aW9ucyIsInNldE5vdGlmaWNhdGlvbnMiLCJ0b2FzdHMiLCJzZXRUb2FzdHMiLCJpc1NjYW5uZXJPcGVuIiwic2V0SXNTY2FubmVyT3BlbiIsImlzQUlBc3Npc3RhbnRPcGVuIiwic2V0SXNBSUFzc2lzdGFudE9wZW4iLCJpc01hY2hpbmVNb2RhbE9wZW4iLCJzZXRJc01hY2hpbmVNb2RhbE9wZW4iLCJlZGl0aW5nTWFjaGluZSIsInNldEVkaXRpbmdNYWNoaW5lIiwiaXNGaWx0ZXJHcm91cE1vZGFsT3BlbiIsInNldElzRmlsdGVyR3JvdXBNb2RhbE9wZW4iLCJlZGl0aW5nRmlsdGVyR3JvdXAiLCJzZXRFZGl0aW5nRmlsdGVyR3JvdXAiLCJpc01haW50ZW5hbmNlTW9kYWxPcGVuIiwic2V0SXNNYWludGVuYW5jZU1vZGFsT3BlbiIsImVkaXRpbmdNYWludGVuYW5jZVJlY29yZCIsInNldEVkaXRpbmdNYWludGVuYW5jZVJlY29yZCIsImlzTWFpbnRlbmFuY2VWaWV3T25seSIsInNldElzTWFpbnRlbmFuY2VWaWV3T25seSIsImlzQWRkU3RvY2tNb2RhbE9wZW4iLCJzZXRJc0FkZFN0b2NrTW9kYWxPcGVuIiwic3RvY2tVcGRhdGVJbmZvIiwic2V0U3RvY2tVcGRhdGVJbmZvIiwiaXNUaGVtZUN1c3RvbWl6ZXJPcGVuIiwic2V0SXNUaGVtZUN1c3RvbWl6ZXJPcGVuIiwiZWRpdGluZ0N1c3RvbVRoZW1lIiwic2V0RWRpdGluZ0N1c3RvbVRoZW1lIiwiaXNJbXBvcnRNb2RhbE9wZW4iLCJzZXRJc0ltcG9ydE1vZGFsT3BlbiIsImNvbmZpcm1hdGlvbkRpYWxvZ0NvbmZpZyIsInNldENvbmZpcm1hdGlvbkRpYWxvZ0NvbmZpZyIsImlzT3BlbiIsInRpdGxlIiwiZGVzY3JpcHRpb24iLCJvbkNvbmZpcm0iLCJhZGRUb2FzdCIsInRvYXN0IiwiaWQiLCJEYXRlIiwibm93IiwicHJldiIsImZldGNoRGF0YSIsIm1hY2hpbmVzUmVzIiwiZmlsdGVyR3JvdXBzUmVzIiwiZmlsdGVyVHlwZXNSZXMiLCJtYWludGVuYW5jZVJlY29yZHNSZXMiLCJQcm9taXNlIiwiYWxsIiwiZnJvbSIsInNlbGVjdCIsInRyYW5zZm9ybWVkTWFjaGluZXMiLCJkYXRhIiwibWFwIiwibWFjaGluZSIsImNvZGUiLCJkZXNpZ25hdGlvbiIsIm1hcnF1ZSIsInR5cGUiLCJzZXJpYWxOdW1iZXIiLCJzZXJpYWxfbnVtYmVyIiwicmVnaXN0cmF0aW9uTnVtYmVyIiwicmVnaXN0cmF0aW9uX251bWJlciIsInNlcnZpY2VIb3VycyIsInNlcnZpY2VfaG91cnMiLCJhc3NpZ25lZEZpbHRlcnMiLCJhc3NpZ25lZF9maWx0ZXJzIiwidHJhbnNmb3JtZWRGaWx0ZXJHcm91cHMiLCJncm91cCIsIm5hbWUiLCJmaWx0ZXJUeXBlIiwiZmlsdGVyX3R5cGUiLCJvcmlnaW5hbFJlZmVyZW5jZUlkIiwib3JpZ2luYWxfcmVmZXJlbmNlX2lkIiwicmVmZXJlbmNlcyIsInRyYW5zZm9ybWVkTWFpbnRlbmFuY2VSZWNvcmRzIiwicmVjb3JkIiwibWFjaGluZUlkIiwibWFjaGluZV9pZCIsIm1haW50ZW5hbmNlUmFuZ2UiLCJtYWludGVuYW5jZV9yYW5nZSIsImRhdGUiLCJmaWx0ZXJzVXNlZCIsImZpbHRlcnNfdXNlZCIsIm1lc3NhZ2UiLCJzZXRJdGVtIiwic3RyaW5naWZ5IiwicmVtb3ZlVG9hc3QiLCJmaWx0ZXIiLCJ0IiwibmF2aWdhdGVUb0ZpbHRlckdyb3VwIiwiZ3JvdXBJZCIsIkZJTFRFUl9NQU5BR0VNRU5UIiwidG9JU09TdHJpbmciLCJjdXJyZW50VmFsaWRBbGVydHMiLCJoaXN0b3J5QnlNYWNoaW5lIiwiTWFwIiwiZm9yRWFjaCIsInJlYyIsImhhcyIsInNldCIsImdldCIsInB1c2giLCJoaXN0b3J5IiwibmV4dE1haW50IiwiZHVlSW4iLCJob3VycyIsImdhbW1lIiwiZW50aXR5SWQiLCJyZWYiLCJzdG9jayIsInJlZmVyZW5jZSIsIm1hbnVmYWN0dXJlciIsInByZXZOb3RpZmljYXRpb25zIiwicHJldk1hcCIsIm4iLCJuZXh0Tm90aWZpY2F0aW9ucyIsImFsZXJ0IiwicmVhZCIsImNyZWF0ZWRBdCIsInRvZ2dsZVNpZGViYXIiLCJjbG9zZVNpZGViYXIiLCJzZWxlY3RNYWNoaW5lIiwiZmluZCIsIm0iLCJNQUNISU5FX0RFVEFJTCIsImFzc2lnbkZpbHRlclRvTWFjaGluZSIsImZpbHRlclR5cGVJZCIsImZpbHRlckdyb3VwSWQiLCJtYWNoaW5lVG9VcGRhdGUiLCJuZXdBc3NpZ25lZEZpbHRlcnMiLCJleGlzdGluZ0luZGV4IiwiZmluZEluZGV4IiwiYWYiLCJ1cGRhdGUiLCJlcSIsInVwZGF0ZWRNYWNoaW5lIiwiYWRkRmlsdGVyVHlwZVRvTWFjaGluZSIsInNvbWUiLCJyZW1vdmVGaWx0ZXJUeXBlRnJvbU1hY2hpbmUiLCJvcGVuQ29uZmlybWF0aW9uRGlhbG9nIiwiY29uZmlnIiwiY2xvc2VDb25maXJtYXRpb25EaWFsb2ciLCJoYW5kbGVDb25maXJtIiwib3Blbk1hY2hpbmVNb2RhbCIsImNsb3NlTWFjaGluZU1vZGFsIiwic2F2ZU1hY2hpbmUiLCJtYWNoaW5lRGF0YSIsIm1hY2hpbmVUb1NhdmUiLCJ1cHNlcnQiLCJzdWNjZXNzTWVzc2FnZSIsInRyYW5zZm9ybWVkTWFjaGluZSIsImRlbGV0ZU1hY2hpbmUiLCJkZWxldGUiLCJjbG9zZUltcG9ydE1vZGFsIiwiaW1wb3J0TWFjaGluZXMiLCJuZXdNYWNoaW5lc0RhdGEiLCJtYWNoaW5lc1RvQWRkIiwibm0iLCJNYXRoIiwicmFuZG9tIiwidG9TdHJpbmciLCJzdWJzdHIiLCJ2YWxpZE1hY2hpbmVzVG9BZGQiLCJsZW5ndGgiLCJpbnNlcnQiLCJpbXBvcnRNYWludGVuYW5jZVJlY29yZHMiLCJuZXdNYWludGVuYW5jZURhdGEiLCJtYWNoaW5lc0RhdGEiLCJtYWNoaW5lc0Vycm9yIiwibWFjaGluZUNvZGVUb0lkTWFwIiwibWFjaGluZURlc2lnbmF0aW9uVG9JZE1hcCIsInRvTG93ZXJDYXNlIiwidW5tYXRjaGVkUmVjb3Jkc0NvdW50IiwidW5tYXRjaGVkUmVjb3JkcyIsIm1haW50ZW5hbmNlUmVjb3Jkc1RvQWRkIiwidW5kZWZpbmVkIiwibWFjaGluZURlc2lnbmF0aW9uIiwiZW50cmllcyIsImluY2x1ZGVzIiwiYmFzZVJlY29yZCIsImxvZyIsIm9wZW5GaWx0ZXJHcm91cE1vZGFsIiwiY2xvc2VGaWx0ZXJHcm91cE1vZGFsIiwic2F2ZUZpbHRlckdyb3VwIiwiZ3JvdXBEYXRhIiwiZ3JvdXBUb1NhdmUiLCJkZWxldGVGaWx0ZXJHcm91cCIsIm5ld0Fzc2lnbmVkIiwib3Blbk1haW50ZW5hbmNlTW9kYWwiLCJ2aWV3T25seSIsImNsb3NlTWFpbnRlbmFuY2VNb2RhbCIsInNhdmVNYWludGVuYW5jZVJlY29yZCIsInJlY29yZERhdGEiLCJyZWNvcmRUb1NhdmUiLCJkZWxldGVNYWludGVuYW5jZVJlY29yZCIsInJlY29yZElkIiwiaGFuZGxlTm90aWZpY2F0aW9uQ2xpY2siLCJub3RpZmljYXRpb24iLCJtYXJrQWxsTm90aWZpY2F0aW9uc0FzUmVhZCIsIm9wZW5BZGRTdG9ja01vZGFsIiwiaW5mbyIsImNsb3NlQWRkU3RvY2tNb2RhbCIsImFkZFN0b2NrIiwicXVhbnRpdHkiLCJmaWx0ZXJSZWZlcmVuY2UiLCJncm91cFRvVXBkYXRlIiwiZyIsIm5ld1JlZmVyZW5jZXMiLCJzZXRUaGVtZSIsInRoZW1lSWQiLCJjb2xvcnMiLCJvcGVuVGhlbWVDdXN0b21pemVyIiwidGhlbWVUb0VkaXQiLCJjbG9zZVRoZW1lQ3VzdG9taXplciIsInNhdmVDdXN0b21UaGVtZSIsInRoZW1lRGF0YSIsInVwZGF0ZWRUaGVtZXMiLCJuZXdUaGVtZSIsImRlbGV0ZUN1c3RvbVRoZW1lIiwiYWN0aW9ucyIsImNsZWFySGlnaGxpZ2h0ZWRGaWx0ZXJHcm91cCIsIm9wZW5BSUFzc2lzdGFudCIsImNsb3NlQUlBc3Npc3RhbnQiLCJvcGVuU2Nhbm5lciIsImNsb3NlU2Nhbm5lciIsIm9wZW5JbXBvcnRNb2RhbCIsInN0YXRlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./hooks/useAppLogic.ts\n"));

/***/ })

});