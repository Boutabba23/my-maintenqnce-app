"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/page",{

/***/ "(app-pages-browser)/./hooks/useAppLogic.ts":
/*!******************************!*\
  !*** ./hooks/useAppLogic.ts ***!
  \******************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   defaultCustomColors: function() { return /* binding */ defaultCustomColors; },\n/* harmony export */   useAppLogic: function() { return /* binding */ useAppLogic; }\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../types */ \"(app-pages-browser)/./types.ts\");\n/* harmony import */ var _utils_maintenance__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/maintenance */ \"(app-pages-browser)/./utils/maintenance.ts\");\n/* harmony import */ var _utils_supabase__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/supabase */ \"(app-pages-browser)/./utils/supabase.ts\");\n/* __next_internal_client_entry_do_not_use__ defaultCustomColors,useAppLogic auto */ \n\n\n\nconst loadFromStorage = (key, defaultValue)=>{\n    try {\n        // Check if we're in a browser environment\n        if ( false || typeof localStorage === \"undefined\") {\n            return defaultValue;\n        }\n        const storedValue = localStorage.getItem(key);\n        if (storedValue) {\n            try {\n                return JSON.parse(storedValue);\n            } catch (e) {\n                if (key === \"gestifiltres-theme\" && !storedValue.startsWith('\"')) {\n                    console.warn(\"Old theme format detected, migrating.\");\n                    return storedValue;\n                }\n                throw e;\n            }\n        }\n    } catch (error) {\n        console.error('Error processing localStorage key \"'.concat(key, '\":'), error);\n    }\n    return defaultValue;\n};\nconst defaultCustomColors = {\n    background: \"#f8fafc\",\n    foreground: \"#0f172a\",\n    foregroundSecondary: \"#64748b\",\n    card: \"#ffffff\",\n    cardForeground: \"#0f172a\",\n    primary: \"#f97316\",\n    primaryForeground: \"#f8fafc\",\n    accent: \"#f1f5f9\",\n    destructive: \"#ef4444\",\n    destructiveForeground: \"#f8fafc\",\n    border: \"#e2e8f0\",\n    input: \"#f1f5f9\",\n    ring: \"#f97316\",\n    cardBorders: [\n        \"#3b82f6\",\n        \"#10b981\",\n        \"#f59e0b\",\n        \"#ef4444\",\n        \"#8b5cf6\",\n        \"#0ea5e9\"\n    ]\n};\nconst useAppLogic = ()=>{\n    const [isLoading, setIsLoading] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(true);\n    const [currentView, setCurrentView] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(_types__WEBPACK_IMPORTED_MODULE_1__.View.DASHBOARD);\n    const [machines, setMachines] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]);\n    const [filterGroups, setFilterGroups] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]);\n    const [filterTypes, setFilterTypes] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]);\n    const [selectedMachine, setSelectedMachine] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [maintenanceRecords, setMaintenanceRecords] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]);\n    const [theme, _setTheme] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(()=>loadFromStorage(\"gestifiltres-theme\", \"default-light\"));\n    const [savedThemes, setSavedThemes] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(()=>loadFromStorage(\"gestifiltres-savedThemes\", []));\n    const [customColors, setCustomColors] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(()=>{\n        const saved = loadFromStorage(\"gestifiltres-customColors\", defaultCustomColors);\n        return {\n            ...defaultCustomColors,\n            ...saved\n        };\n    });\n    const [highlightedFilterGroupId, setHighlightedFilterGroupId] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [isSidebarOpen, setIsSidebarOpen] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [notifications, setNotifications] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]);\n    const [toasts, setToasts] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]);\n    const [isScannerOpen, setIsScannerOpen] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [isAIAssistantOpen, setIsAIAssistantOpen] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [isMachineModalOpen, setIsMachineModalOpen] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [editingMachine, setEditingMachine] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [isFilterGroupModalOpen, setIsFilterGroupModalOpen] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [editingFilterGroup, setEditingFilterGroup] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [isMaintenanceModalOpen, setIsMaintenanceModalOpen] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [editingMaintenanceRecord, setEditingMaintenanceRecord] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [isMaintenanceViewOnly, setIsMaintenanceViewOnly] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [isAddStockModalOpen, setIsAddStockModalOpen] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [stockUpdateInfo, setStockUpdateInfo] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [isThemeCustomizerOpen, setIsThemeCustomizerOpen] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [editingCustomTheme, setEditingCustomTheme] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [isImportModalOpen, setIsImportModalOpen] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [confirmationDialogConfig, setConfirmationDialogConfig] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({\n        isOpen: false,\n        title: \"\",\n        description: \"\",\n        onConfirm: ()=>{}\n    });\n    const addToast = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((toast)=>{\n        const id = \"toast-\".concat(Date.now());\n        setToasts((prev)=>[\n                ...prev,\n                {\n                    id,\n                    ...toast\n                }\n            ]);\n    }, []);\n    const fetchData = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(async ()=>{\n        try {\n            const [machinesRes, filterGroupsRes, filterTypesRes, maintenanceRecordsRes] = await Promise.all([\n                _utils_supabase__WEBPACK_IMPORTED_MODULE_3__.supabase.from(\"machines\").select(\"*\"),\n                _utils_supabase__WEBPACK_IMPORTED_MODULE_3__.supabase.from(\"filter_groups\").select(\"*\"),\n                _utils_supabase__WEBPACK_IMPORTED_MODULE_3__.supabase.from(\"filter_types\").select(\"*\"),\n                _utils_supabase__WEBPACK_IMPORTED_MODULE_3__.supabase.from(\"maintenance_records\").select(\"*\")\n            ]);\n            if (machinesRes.error) throw machinesRes.error;\n            if (filterGroupsRes.error) throw filterGroupsRes.error;\n            if (filterTypesRes.error) throw filterTypesRes.error;\n            if (maintenanceRecordsRes.error) throw maintenanceRecordsRes.error;\n            // Transform database results to match application types\n            const transformedMachines = (machinesRes.data || []).map((machine)=>({\n                    id: machine.id,\n                    code: machine.code,\n                    designation: machine.designation,\n                    marque: machine.marque,\n                    type: machine.type,\n                    serialNumber: machine.serial_number || \"\",\n                    registrationNumber: machine.registration_number || \"\",\n                    serviceHours: machine.service_hours,\n                    assignedFilters: machine.assigned_filters || []\n                }));\n            const transformedFilterGroups = (filterGroupsRes.data || []).map((group)=>({\n                    id: group.id,\n                    name: group.name,\n                    filterType: group.filter_type || \"\",\n                    originalReferenceId: group.original_reference_id,\n                    references: group[\"references\"] || []\n                }));\n            const transformedMaintenanceRecords = (maintenanceRecordsRes.data || []).map((record)=>({\n                    id: record.id,\n                    machineId: record.machine_id,\n                    maintenanceRange: record.maintenance_range,\n                    serviceHours: record.service_hours,\n                    date: record.date,\n                    filtersUsed: record.filters_used || []\n                }));\n            setMachines(transformedMachines);\n            setFilterGroups(transformedFilterGroups);\n            setFilterTypes(filterTypesRes.data || []);\n            setMaintenanceRecords(transformedMaintenanceRecords);\n        } catch (error) {\n            console.error(\"Failed to fetch data from Supabase:\", error);\n            addToast({\n                type: \"error\",\n                title: \"Erreur de chargement\",\n                description: error.message\n            });\n        } finally{\n            setIsLoading(false);\n        }\n    }, [\n        addToast\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        fetchData();\n    }, [\n        fetchData\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        if ( true && typeof localStorage !== \"undefined\") {\n            localStorage.setItem(\"gestifiltres-theme\", JSON.stringify(theme));\n        }\n    }, [\n        theme\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        if ( true && typeof localStorage !== \"undefined\") {\n            localStorage.setItem(\"gestifiltres-customColors\", JSON.stringify(customColors));\n        }\n    }, [\n        customColors\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        if ( true && typeof localStorage !== \"undefined\") {\n            localStorage.setItem(\"gestifiltres-savedThemes\", JSON.stringify(savedThemes));\n        }\n    }, [\n        savedThemes\n    ]);\n    const removeToast = (id)=>{\n        setToasts((prev)=>prev.filter((t)=>t.id !== id));\n    };\n    const navigateToFilterGroup = (groupId)=>{\n        setIsAIAssistantOpen(false);\n        setCurrentView(_types__WEBPACK_IMPORTED_MODULE_1__.View.FILTER_MANAGEMENT);\n        setHighlightedFilterGroupId(groupId);\n    };\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        const now = new Date().toISOString();\n        const currentValidAlerts = [];\n        const historyByMachine = new Map();\n        maintenanceRecords.forEach((rec)=>{\n            if (!historyByMachine.has(rec.machineId)) historyByMachine.set(rec.machineId, []);\n            historyByMachine.get(rec.machineId).push(rec);\n        });\n        machines.forEach((machine)=>{\n            const history = historyByMachine.get(machine.id) || [];\n            const nextMaint = (0,_utils_maintenance__WEBPACK_IMPORTED_MODULE_2__.calculateNextMaintenance)(machine, history);\n            if (nextMaint && nextMaint.dueIn <= 50) {\n                currentValidAlerts.push({\n                    id: \"maint-alert-\".concat(machine.id, \"-\").concat(nextMaint.hours),\n                    type: \"maintenance\",\n                    message: \"L'engin \".concat(machine.designation, \" (\").concat(machine.code, \") n\\xe9cessite une maintenance (Gamme \").concat(nextMaint.gamme, \") dans \").concat(nextMaint.dueIn, \"h.\"),\n                    entityId: machine.id\n                });\n            }\n        });\n        filterGroups.forEach((group)=>{\n            group.references.forEach((ref)=>{\n                if (ref.stock > 0 && ref.stock <= 5) {\n                    currentValidAlerts.push({\n                        id: \"stock-alert-\".concat(ref.id),\n                        type: \"stock\",\n                        message: \"Le stock pour le filtre \".concat(ref.reference, \" (\").concat(ref.manufacturer, \") est faible (\").concat(ref.stock, \" unit\\xe9s).\"),\n                        entityId: group.id\n                    });\n                }\n            });\n        });\n        setNotifications((prevNotifications)=>{\n            const prevMap = new Map(prevNotifications.map((n)=>[\n                    n.id,\n                    n\n                ]));\n            const nextNotifications = currentValidAlerts.map((alert)=>{\n                const prev = prevMap.get(alert.id);\n                if (prev) {\n                    return {\n                        ...prev,\n                        message: alert.message\n                    };\n                }\n                return {\n                    ...alert,\n                    read: false,\n                    createdAt: now\n                };\n            });\n            return nextNotifications;\n        });\n    }, [\n        machines,\n        filterGroups,\n        maintenanceRecords\n    ]);\n    const toggleSidebar = ()=>setIsSidebarOpen((prev)=>!prev);\n    const closeSidebar = ()=>setIsSidebarOpen(false);\n    const selectMachine = (machineId)=>{\n        const machine = machines.find((m)=>m.id === machineId);\n        if (machine) {\n            setSelectedMachine(machine);\n            setCurrentView(_types__WEBPACK_IMPORTED_MODULE_1__.View.MACHINE_DETAIL);\n        }\n    };\n    const assignFilterToMachine = async (machineId, filterTypeId, filterGroupId)=>{\n        const machineToUpdate = machines.find((m)=>m.id === machineId);\n        if (!machineToUpdate) return;\n        const newAssignedFilters = [\n            ...machineToUpdate.assignedFilters\n        ];\n        const existingIndex = newAssignedFilters.findIndex((af)=>af.filterTypeId === filterTypeId);\n        if (existingIndex > -1) {\n            newAssignedFilters[existingIndex] = {\n                ...newAssignedFilters[existingIndex],\n                filterGroupId\n            };\n        } else {\n            newAssignedFilters.push({\n                filterTypeId,\n                filterGroupId\n            });\n        }\n        const { error } = await _utils_supabase__WEBPACK_IMPORTED_MODULE_3__.supabase.from(\"machines\").update({\n            assigned_filters: newAssignedFilters\n        }).eq(\"id\", machineId);\n        if (error) {\n            addToast({\n                type: \"error\",\n                title: \"Erreur\",\n                description: error.message\n            });\n        } else {\n            fetchData();\n            if ((selectedMachine === null || selectedMachine === void 0 ? void 0 : selectedMachine.id) === machineId) {\n                const updatedMachine = {\n                    ...machineToUpdate,\n                    assignedFilters: newAssignedFilters\n                };\n                setSelectedMachine(updatedMachine);\n            }\n        }\n    };\n    const addFilterTypeToMachine = async (machineId, filterTypeId)=>{\n        const machineToUpdate = machines.find((m)=>m.id === machineId);\n        if (!machineToUpdate || machineToUpdate.assignedFilters.some((af)=>af.filterTypeId === filterTypeId)) return;\n        const newAssignedFilters = [\n            ...machineToUpdate.assignedFilters,\n            {\n                filterTypeId,\n                filterGroupId: null\n            }\n        ];\n        const { error } = await _utils_supabase__WEBPACK_IMPORTED_MODULE_3__.supabase.from(\"machines\").update({\n            assigned_filters: newAssignedFilters\n        }).eq(\"id\", machineId);\n        if (error) {\n            addToast({\n                type: \"error\",\n                title: \"Erreur\",\n                description: error.message\n            });\n        } else {\n            fetchData();\n            if ((selectedMachine === null || selectedMachine === void 0 ? void 0 : selectedMachine.id) === machineId) {\n                const updatedMachine = {\n                    ...machineToUpdate,\n                    assignedFilters: newAssignedFilters\n                };\n                setSelectedMachine(updatedMachine);\n            }\n        }\n    };\n    const removeFilterTypeFromMachine = async (machineId, filterTypeId)=>{\n        const machineToUpdate = machines.find((m)=>m.id === machineId);\n        if (!machineToUpdate) return;\n        const newAssignedFilters = machineToUpdate.assignedFilters.filter((af)=>af.filterTypeId !== filterTypeId);\n        const { error } = await _utils_supabase__WEBPACK_IMPORTED_MODULE_3__.supabase.from(\"machines\").update({\n            assigned_filters: newAssignedFilters\n        }).eq(\"id\", machineId);\n        if (error) {\n            addToast({\n                type: \"error\",\n                title: \"Erreur\",\n                description: error.message\n            });\n        } else {\n            fetchData();\n            if ((selectedMachine === null || selectedMachine === void 0 ? void 0 : selectedMachine.id) === machineId) {\n                const updatedMachine = {\n                    ...machineToUpdate,\n                    assignedFilters: newAssignedFilters\n                };\n                setSelectedMachine(updatedMachine);\n            }\n        }\n    };\n    const openConfirmationDialog = (config)=>{\n        setConfirmationDialogConfig({\n            ...config,\n            isOpen: true\n        });\n    };\n    const closeConfirmationDialog = ()=>{\n        setConfirmationDialogConfig((prev)=>({\n                ...prev,\n                isOpen: false\n            }));\n    };\n    const handleConfirm = ()=>{\n        confirmationDialogConfig.onConfirm();\n        closeConfirmationDialog();\n    };\n    const openMachineModal = (machine)=>{\n        setEditingMachine(machine);\n        setIsMachineModalOpen(true);\n    };\n    const closeMachineModal = ()=>setIsMachineModalOpen(false);\n    const saveMachine = async (machineData)=>{\n        const machineToSave = editingMachine ? {\n            id: editingMachine.id,\n            code: machineData.code,\n            designation: machineData.designation,\n            marque: machineData.marque,\n            type: machineData.type,\n            serial_number: machineData.serialNumber || \"\",\n            registration_number: machineData.registrationNumber || \"\",\n            service_hours: machineData.serviceHours,\n            assigned_filters: editingMachine.assignedFilters || []\n        } : {\n            id: \"m-\".concat(Date.now()),\n            code: machineData.code,\n            designation: machineData.designation,\n            marque: machineData.marque,\n            type: machineData.type,\n            serial_number: machineData.serialNumber || \"\",\n            registration_number: machineData.registrationNumber || \"\",\n            service_hours: machineData.serviceHours,\n            assigned_filters: []\n        };\n        const { error } = await _utils_supabase__WEBPACK_IMPORTED_MODULE_3__.supabase.from(\"machines\").upsert(machineToSave);\n        if (error) {\n            addToast({\n                type: \"error\",\n                title: \"Erreur\",\n                description: error.message\n            });\n        } else {\n            fetchData();\n            const successMessage = editingMachine ? \"Engin Mis \\xe0 Jour\" : \"Engin Ajout\\xe9\";\n            addToast({\n                type: \"success\",\n                title: successMessage,\n                description: \"L'engin \".concat(machineToSave.designation, \" a \\xe9t\\xe9 sauvegard\\xe9.\")\n            });\n            if ((selectedMachine === null || selectedMachine === void 0 ? void 0 : selectedMachine.id) === machineToSave.id) {\n                // Transform database format to application format for state\n                const transformedMachine = {\n                    id: machineToSave.id,\n                    code: machineToSave.code,\n                    designation: machineToSave.designation,\n                    marque: machineToSave.marque,\n                    type: machineToSave.type,\n                    serialNumber: machineToSave.serial_number,\n                    registrationNumber: machineToSave.registration_number,\n                    serviceHours: machineToSave.service_hours,\n                    assignedFilters: machineToSave.assigned_filters\n                };\n                setSelectedMachine(transformedMachine);\n            }\n        }\n        closeMachineModal();\n    };\n    const deleteMachine = async (machineId)=>{\n        const { error } = await _utils_supabase__WEBPACK_IMPORTED_MODULE_3__.supabase.from(\"machines\").delete().eq(\"id\", machineId);\n        if (error) {\n            addToast({\n                type: \"error\",\n                title: \"Erreur\",\n                description: error.message\n            });\n        } else {\n            fetchData();\n            addToast({\n                type: \"info\",\n                title: \"Engin Supprim\\xe9\"\n            });\n        }\n    };\n    const closeImportModal = ()=>setIsImportModalOpen(false);\n    const importMachines = async (newMachinesData)=>{\n        const machinesToAdd = newMachinesData.map((nm)=>({\n                id: \"m-\".concat(Date.now(), \"-\").concat(Math.random().toString(36).substr(2, 9)),\n                code: nm.code,\n                designation: nm.designation,\n                marque: nm.marque,\n                type: nm.type,\n                serial_number: nm.serialNumber || null,\n                registration_number: nm.registrationNumber || null,\n                service_hours: nm.serviceHours,\n                assigned_filters: []\n            }));\n        // Filter out any records that might have invalid data\n        const validMachinesToAdd = machinesToAdd.filter((machine)=>machine.code && machine.designation && machine.marque && machine.type);\n        if (validMachinesToAdd.length === 0) {\n            addToast({\n                type: \"warning\",\n                title: \"Importation Annul\\xe9e\",\n                description: \"Aucun engin valide \\xe0 importer.\"\n            });\n            closeImportModal();\n            return;\n        }\n        const { error } = await _utils_supabase__WEBPACK_IMPORTED_MODULE_3__.supabase.from(\"machines\").insert(validMachinesToAdd);\n        if (error) {\n            console.error(\"Error importing machines:\", error);\n            addToast({\n                type: \"error\",\n                title: \"Erreur d'importation\",\n                description: \"\\xc9chec de l'importation des engins: \".concat(error.message)\n            });\n        } else {\n            fetchData();\n            addToast({\n                type: \"success\",\n                title: \"Importation R\\xe9ussie\",\n                description: \"\".concat(validMachinesToAdd.length, \" engins ont \\xe9t\\xe9 ajout\\xe9s.\")\n            });\n        }\n        closeImportModal();\n    };\n    const importMaintenanceRecords = async (newMaintenanceData)=>{\n        try {\n            // First, get all machines to match designations\n            const { data: machinesData, error: machinesError } = await _utils_supabase__WEBPACK_IMPORTED_MODULE_3__.supabase.from(\"machines\").select(\"id, code, designation\");\n            if (machinesError) {\n                throw machinesError;\n            }\n            // Create maps for quick lookup\n            const machineCodeToIdMap = new Map();\n            const machineDesignationToIdMap = new Map();\n            machinesData.forEach((machine)=>{\n                machineCodeToIdMap.set(machine.code, machine.id);\n                machineDesignationToIdMap.set(machine.designation.toLowerCase(), machine.id);\n            });\n            // Track records that couldn't be matched for better feedback\n            let unmatchedRecordsCount = 0;\n            const unmatchedRecords = [];\n            // Create maintenance records for each imported item\n            const maintenanceRecordsToAdd = newMaintenanceData.map((record)=>{\n                // Try to find the machine ID by designation\n                let machineId = undefined; // Use undefined instead of null\n                if (record.machineDesignation) {\n                    // First try exact match with designation\n                    machineId = machineDesignationToIdMap.get(record.machineDesignation.toLowerCase()) || undefined;\n                    // If not found, try partial match\n                    if (!machineId) {\n                        for (const [designation, id] of machineDesignationToIdMap.entries()){\n                            if (record.machineDesignation.toLowerCase().includes(designation) || designation.includes(record.machineDesignation.toLowerCase())) {\n                                machineId = id;\n                                break;\n                            }\n                        }\n                    }\n                    // If still not found, try to match with machine codes\n                    if (!machineId) {\n                        machineId = machineCodeToIdMap.get(record.machineDesignation) || undefined;\n                    }\n                    // If still not found, collect for feedback\n                    if (!machineId) {\n                        unmatchedRecordsCount++;\n                        unmatchedRecords.push(record.machineDesignation);\n                    }\n                } else {\n                    // No machine designation provided\n                    unmatchedRecordsCount++;\n                    unmatchedRecords.push(\"Aucune d\\xe9signation fournie\");\n                }\n                // Only include machine_id in the record if it's not undefined\n                const baseRecord = {\n                    id: \"maint-\".concat(Date.now(), \"-\").concat(Math.random().toString(36).substr(2, 9)),\n                    date: record.date,\n                    service_hours: record.serviceHours,\n                    maintenance_range: record.maintenanceRange,\n                    filters_used: []\n                };\n                // Add machine_id only if it's defined\n                if (machineId !== undefined) {\n                    return {\n                        ...baseRecord,\n                        machine_id: machineId\n                    };\n                } else {\n                    return baseRecord;\n                }\n            }).filter((record)=>record.date && record.date !== \"Invalid Date\"); // Filter out records with invalid dates\n            // Insert all records (including those without matched machines)\n            if (maintenanceRecordsToAdd.length > 0) {\n                const { data, error } = await _utils_supabase__WEBPACK_IMPORTED_MODULE_3__.supabase.from(\"maintenance_records\").insert(maintenanceRecordsToAdd) // Cast to any to avoid type issues\n                .select();\n                if (error) {\n                    throw error;\n                }\n                // Refresh data to show the new records\n                await fetchData();\n                // Show success message with details about unmatched records\n                let description = \"Donn\\xe9es de maintenance import\\xe9es avec succ\\xe8s. \".concat(maintenanceRecordsToAdd.length, \" enregistrements ont \\xe9t\\xe9 ajout\\xe9s \\xe0 la table de maintenance.\");\n                if (unmatchedRecordsCount > 0) {\n                    description += \" \".concat(unmatchedRecordsCount, \" enregistrement(s) n'ont pas pu \\xeatre associ\\xe9s \\xe0 un engin existant et seront import\\xe9s sans association.\");\n                }\n                addToast({\n                    type: \"success\",\n                    title: \"Importation de Maintenance\",\n                    description\n                });\n                console.log(\"Imported maintenance records:\", data);\n            } else {\n                // Show message if no records to import\n                addToast({\n                    type: \"info\",\n                    title: \"Importation de Maintenance\",\n                    description: \"Aucun enregistrement de maintenance \\xe0 importer.\"\n                });\n            }\n        } catch (error) {\n            console.error(\"Error importing maintenance records:\", error);\n            addToast({\n                type: \"error\",\n                title: \"Erreur d'importation\",\n                description: \"\\xc9chec de l'importation des donn\\xe9es de maintenance: \".concat(error.message)\n            });\n        }\n        // Log the data for debugging\n        console.log(\"Maintenance data to import:\", newMaintenanceData);\n        closeImportModal();\n    };\n    const openFilterGroupModal = (group)=>{\n        setEditingFilterGroup(group);\n        setIsFilterGroupModalOpen(true);\n    };\n    const closeFilterGroupModal = ()=>setIsFilterGroupModalOpen(false);\n    const saveFilterGroup = async (groupData)=>{\n        const groupToSave = \"id\" in groupData && groupData.id ? {\n            id: groupData.id,\n            name: groupData.name,\n            filter_type: groupData.filterType,\n            original_reference_id: groupData.originalReferenceId,\n            references: groupData.references\n        } : {\n            id: \"fg-\".concat(Date.now()),\n            name: groupData.name,\n            filter_type: groupData.filterType,\n            original_reference_id: groupData.originalReferenceId,\n            references: groupData.references\n        };\n        const { error } = await _utils_supabase__WEBPACK_IMPORTED_MODULE_3__.supabase.from(\"filter_groups\").upsert(groupToSave);\n        if (error) {\n            addToast({\n                type: \"error\",\n                title: \"Erreur\",\n                description: error.message\n            });\n        } else {\n            fetchData();\n            const successMessage = \"id\" in groupData && groupData.id ? \"Groupe Mis \\xe0 Jour\" : \"Groupe Cr\\xe9\\xe9\";\n            addToast({\n                type: \"success\",\n                title: successMessage,\n                description: \"Le groupe \".concat(groupToSave.name, \" a \\xe9t\\xe9 sauvegard\\xe9.\")\n            });\n        }\n        closeFilterGroupModal();\n    };\n    const deleteFilterGroup = async (groupId)=>{\n        const { error } = await _utils_supabase__WEBPACK_IMPORTED_MODULE_3__.supabase.from(\"filter_groups\").delete().eq(\"id\", groupId);\n        if (error) {\n            addToast({\n                type: \"error\",\n                title: \"Erreur\",\n                description: error.message\n            });\n        } else {\n            // Also need to un-assign from machines. This is a non-atomic operation for simplicity.\n            machines.forEach(async (m)=>{\n                if (m.assignedFilters.some((af)=>af.filterGroupId === groupId)) {\n                    const newAssigned = m.assignedFilters.map((af)=>af.filterGroupId === groupId ? {\n                            ...af,\n                            filterGroupId: null\n                        } : af);\n                    await _utils_supabase__WEBPACK_IMPORTED_MODULE_3__.supabase.from(\"machines\").update({\n                        assigned_filters: newAssigned\n                    }).eq(\"id\", m.id);\n                }\n            });\n            fetchData();\n            addToast({\n                type: \"info\",\n                title: \"Groupe Supprim\\xe9\"\n            });\n        }\n    };\n    const openMaintenanceModal = function(record) {\n        let viewOnly = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : false;\n        setEditingMaintenanceRecord(record);\n        setIsMaintenanceViewOnly(viewOnly);\n        setIsMaintenanceModalOpen(true);\n    };\n    const closeMaintenanceModal = ()=>setIsMaintenanceModalOpen(false);\n    const saveMaintenanceRecord = async (recordData)=>{\n        const recordToSave = \"id\" in recordData && recordData.id ? {\n            id: recordData.id,\n            machine_id: recordData.machineId,\n            date: recordData.date,\n            service_hours: recordData.serviceHours,\n            maintenance_range: recordData.maintenanceRange,\n            filters_used: recordData.filtersUsed\n        } : {\n            id: \"maint-\".concat(Date.now()),\n            machine_id: recordData.machineId,\n            date: recordData.date,\n            service_hours: recordData.serviceHours,\n            maintenance_range: recordData.maintenanceRange,\n            filters_used: recordData.filtersUsed\n        };\n        const { error } = await _utils_supabase__WEBPACK_IMPORTED_MODULE_3__.supabase.from(\"maintenance_records\").upsert(recordToSave);\n        if (error) {\n            addToast({\n                type: \"error\",\n                title: \"Erreur\",\n                description: error.message\n            });\n        } else {\n            const machine = machines.find((m)=>m.id === recordData.machineId);\n            if (machine && recordData.serviceHours > machine.serviceHours) {\n                await _utils_supabase__WEBPACK_IMPORTED_MODULE_3__.supabase.from(\"machines\").update({\n                    service_hours: recordData.serviceHours\n                }).eq(\"id\", machine.id);\n            }\n            fetchData();\n            const successMessage = \"id\" in recordData && recordData.id ? \"Maintenance Mise \\xe0 Jour\" : \"Maintenance Enregistr\\xe9e\";\n            addToast({\n                type: \"success\",\n                title: successMessage\n            });\n        }\n        closeMaintenanceModal();\n    };\n    const deleteMaintenanceRecord = async (recordId)=>{\n        const { error } = await _utils_supabase__WEBPACK_IMPORTED_MODULE_3__.supabase.from(\"maintenance_records\").delete().eq(\"id\", recordId);\n        if (error) {\n            addToast({\n                type: \"error\",\n                title: \"Erreur\",\n                description: error.message\n            });\n        } else {\n            fetchData();\n            addToast({\n                type: \"info\",\n                title: \"Enregistrement Supprim\\xe9\"\n            });\n        }\n    };\n    const handleNotificationClick = (notification)=>{\n        setNotifications((prev)=>prev.map((n)=>n.id === notification.id ? {\n                    ...n,\n                    read: true\n                } : n));\n        if (notification.type === \"maintenance\") {\n            selectMachine(notification.entityId);\n        } else if (notification.type === \"stock\") {\n            navigateToFilterGroup(notification.entityId);\n        }\n    };\n    const markAllNotificationsAsRead = ()=>{\n        setNotifications((prev)=>prev.map((n)=>({\n                    ...n,\n                    read: true\n                })));\n    };\n    const openAddStockModal = (info)=>{\n        setStockUpdateInfo(info);\n        setIsAddStockModalOpen(true);\n    };\n    const closeAddStockModal = ()=>setIsAddStockModalOpen(false);\n    const addStock = async (quantity)=>{\n        if (!stockUpdateInfo) return;\n        const { filterReference, filterGroupId } = stockUpdateInfo;\n        const groupToUpdate = filterGroups.find((g)=>g.id === filterGroupId);\n        if (!groupToUpdate) return;\n        const newReferences = groupToUpdate.references.map((ref)=>ref.id === filterReference.id ? {\n                ...ref,\n                stock: ref.stock + quantity\n            } : ref);\n        const { error } = await _utils_supabase__WEBPACK_IMPORTED_MODULE_3__.supabase.from(\"filter_groups\").update({\n            references: newReferences\n        }).eq(\"id\", filterGroupId);\n        if (error) {\n            addToast({\n                type: \"error\",\n                title: \"Erreur\",\n                description: error.message\n            });\n        } else {\n            fetchData();\n            addToast({\n                type: \"success\",\n                title: \"Stock Ajout\\xe9\",\n                description: \"\".concat(quantity, \" unit\\xe9(s) ajout\\xe9e(s) pour \").concat(filterReference.reference, \".\")\n            });\n        }\n        closeAddStockModal();\n    };\n    const setTheme = (themeId)=>{\n        _setTheme(themeId);\n        if (themeId.startsWith(\"custom-\")) {\n            const saved = savedThemes.find((t)=>t.id === themeId);\n            if (saved) setCustomColors(saved.colors);\n        }\n    };\n    const openThemeCustomizer = (themeToEdit)=>{\n        setEditingCustomTheme(themeToEdit);\n        setCustomColors(themeToEdit ? themeToEdit.colors : defaultCustomColors);\n        setIsThemeCustomizerOpen(true);\n    };\n    const closeThemeCustomizer = ()=>{\n        setTheme(theme);\n        setIsThemeCustomizerOpen(false);\n    };\n    const saveCustomTheme = (themeData)=>{\n        if (themeData.id) {\n            const updatedThemes = savedThemes.map((t)=>t.id === themeData.id ? {\n                    ...t,\n                    ...themeData\n                } : t);\n            setSavedThemes(updatedThemes);\n            setTheme(themeData.id);\n        } else {\n            const newTheme = {\n                ...themeData,\n                id: \"custom-\".concat(Date.now())\n            };\n            setSavedThemes([\n                ...savedThemes,\n                newTheme\n            ]);\n            setTheme(newTheme.id);\n        }\n        addToast({\n            type: \"success\",\n            title: \"Th\\xe8me Enregistr\\xe9\",\n            description: 'Le th\\xe8me \"'.concat(themeData.name, '\" a \\xe9t\\xe9 sauvegard\\xe9.')\n        });\n    };\n    const deleteCustomTheme = (themeId)=>{\n        setSavedThemes(savedThemes.filter((t)=>t.id !== themeId));\n        if (theme === themeId) {\n            setTheme(\"default-light\");\n        }\n        addToast({\n            type: \"info\",\n            title: \"Th\\xe8me Supprim\\xe9\"\n        });\n    };\n    const actions = {\n        setCurrentView,\n        toggleSidebar,\n        closeSidebar,\n        selectMachine,\n        assignFilterToMachine,\n        addFilterTypeToMachine,\n        removeFilterTypeFromMachine,\n        openConfirmationDialog,\n        closeConfirmationDialog,\n        handleConfirm,\n        openMachineModal,\n        closeMachineModal,\n        saveMachine,\n        deleteMachine,\n        openFilterGroupModal,\n        closeFilterGroupModal,\n        saveFilterGroup,\n        deleteFilterGroup,\n        openMaintenanceModal,\n        closeMaintenanceModal,\n        saveMaintenanceRecord,\n        deleteMaintenanceRecord,\n        navigateToFilterGroup,\n        clearHighlightedFilterGroup: ()=>setHighlightedFilterGroupId(null),\n        handleNotificationClick,\n        markAllNotificationsAsRead,\n        openAIAssistant: ()=>setIsAIAssistantOpen(true),\n        closeAIAssistant: ()=>setIsAIAssistantOpen(false),\n        openScanner: ()=>setIsScannerOpen(true),\n        closeScanner: ()=>setIsScannerOpen(false),\n        addToast,\n        removeToast,\n        openAddStockModal,\n        closeAddStockModal,\n        addStock,\n        setTheme,\n        openThemeCustomizer,\n        closeThemeCustomizer,\n        saveCustomTheme,\n        deleteCustomTheme,\n        openImportModal: ()=>setIsImportModalOpen(true),\n        closeImportModal,\n        importMachines,\n        importMaintenanceRecords\n    };\n    const state = {\n        isLoading,\n        currentView,\n        machines,\n        filterGroups,\n        filterTypes,\n        selectedMachine,\n        maintenanceRecords,\n        theme,\n        customColors,\n        savedThemes,\n        highlightedFilterGroupId,\n        isSidebarOpen,\n        notifications,\n        toasts,\n        isScannerOpen,\n        isAIAssistantOpen,\n        isMachineModalOpen,\n        editingMachine,\n        isFilterGroupModalOpen,\n        editingFilterGroup,\n        isMaintenanceModalOpen,\n        editingMaintenanceRecord,\n        isMaintenanceViewOnly,\n        isAddStockModalOpen,\n        stockUpdateInfo,\n        isThemeCustomizerOpen,\n        editingCustomTheme,\n        isImportModalOpen,\n        confirmationDialogConfig\n    };\n    return {\n        state,\n        actions\n    };\n};\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2hvb2tzL3VzZUFwcExvZ2ljLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7cUZBRXlEO0FBZXZDO0FBQzhDO0FBQ25CO0FBUzdDLE1BQU1NLGtCQUFrQixDQUFJQyxLQUFhQztJQUN2QyxJQUFJO1FBQ0YsMENBQTBDO1FBQzFDLElBQUksTUFBNkIsSUFBSSxPQUFPQyxpQkFBaUIsYUFBYTtZQUN4RSxPQUFPRDtRQUNUO1FBRUEsTUFBTUUsY0FBY0QsYUFBYUUsT0FBTyxDQUFDSjtRQUN6QyxJQUFJRyxhQUFhO1lBQ2YsSUFBSTtnQkFDRixPQUFPRSxLQUFLQyxLQUFLLENBQUNIO1lBQ3BCLEVBQUUsT0FBT0ksR0FBRztnQkFDVixJQUFJUCxRQUFRLHdCQUF3QixDQUFDRyxZQUFZSyxVQUFVLENBQUMsTUFBTTtvQkFDaEVDLFFBQVFDLElBQUksQ0FBQztvQkFDYixPQUFPUDtnQkFDVDtnQkFDQSxNQUFNSTtZQUNSO1FBQ0Y7SUFDRixFQUFFLE9BQU9JLE9BQU87UUFDZEYsUUFBUUUsS0FBSyxDQUFDLHNDQUEwQyxPQUFKWCxLQUFJLE9BQUtXO0lBQy9EO0lBQ0EsT0FBT1Y7QUFDVDtBQUVPLE1BQU1XLHNCQUFvQztJQUMvQ0MsWUFBWTtJQUNaQyxZQUFZO0lBQ1pDLHFCQUFxQjtJQUNyQkMsTUFBTTtJQUNOQyxnQkFBZ0I7SUFDaEJDLFNBQVM7SUFDVEMsbUJBQW1CO0lBQ25CQyxRQUFRO0lBQ1JDLGFBQWE7SUFDYkMsdUJBQXVCO0lBQ3ZCQyxRQUFRO0lBQ1JDLE9BQU87SUFDUEMsTUFBTTtJQUNOQyxhQUFhO1FBQ1g7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO0tBQ0Q7QUFDSCxFQUFFO0FBRUssTUFBTUMsY0FBYztJQUN6QixNQUFNLENBQUNDLFdBQVdDLGFBQWEsR0FBR3BDLCtDQUFRQSxDQUFDO0lBQzNDLE1BQU0sQ0FBQ3FDLGFBQWFDLGVBQWUsR0FBR3RDLCtDQUFRQSxDQUFPRyx3Q0FBSUEsQ0FBQ29DLFNBQVM7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Q0Y7SUFFQSxPQUFPO1FBQUVxTTtRQUFPUDtJQUFRO0FBQzFCLEVBQUUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vaG9va3MvdXNlQXBwTG9naWMudHM/YzgxOSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBjbGllbnRcIjtcclxuXHJcbmltcG9ydCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QsIHVzZUNhbGxiYWNrIH0gZnJvbSBcInJlYWN0XCI7XHJcbmltcG9ydCB7XHJcbiAgTWFjaGluZSxcclxuICBGaWx0ZXJHcm91cCxcclxuICBGaWx0ZXJUeXBlLFxyXG4gIFZpZXcsXHJcbiAgRmlsdGVyUmVmZXJlbmNlLFxyXG4gIEFzc2lnbmVkRmlsdGVyLFxyXG4gIFRoZW1lLFxyXG4gIE1haW50ZW5hbmNlUmVjb3JkLFxyXG4gIE5vdGlmaWNhdGlvbixcclxuICBUb2FzdCxcclxuICBTdG9ja1VwZGF0ZUluZm8sXHJcbiAgQ3VzdG9tQ29sb3JzLFxyXG4gIFNhdmVkVGhlbWUsXHJcbn0gZnJvbSBcIi4uL3R5cGVzXCI7XHJcbmltcG9ydCB7IGNhbGN1bGF0ZU5leHRNYWludGVuYW5jZSB9IGZyb20gXCIuLi91dGlscy9tYWludGVuYW5jZVwiO1xyXG5pbXBvcnQgeyBzdXBhYmFzZSB9IGZyb20gXCIuLi91dGlscy9zdXBhYmFzZVwiO1xyXG5cclxuaW50ZXJmYWNlIENvbmZpcm1hdGlvbkRpYWxvZ0NvbmZpZyB7XHJcbiAgaXNPcGVuOiBib29sZWFuO1xyXG4gIHRpdGxlOiBzdHJpbmc7XHJcbiAgZGVzY3JpcHRpb246IHN0cmluZztcclxuICBvbkNvbmZpcm06ICgpID0+IHZvaWQ7XHJcbn1cclxuXHJcbmNvbnN0IGxvYWRGcm9tU3RvcmFnZSA9IDxUPihrZXk6IHN0cmluZywgZGVmYXVsdFZhbHVlOiBUKTogVCA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIC8vIENoZWNrIGlmIHdlJ3JlIGluIGEgYnJvd3NlciBlbnZpcm9ubWVudFxyXG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgPT09IFwidW5kZWZpbmVkXCIgfHwgdHlwZW9mIGxvY2FsU3RvcmFnZSA9PT0gXCJ1bmRlZmluZWRcIikge1xyXG4gICAgICByZXR1cm4gZGVmYXVsdFZhbHVlO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHN0b3JlZFZhbHVlID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oa2V5KTtcclxuICAgIGlmIChzdG9yZWRWYWx1ZSkge1xyXG4gICAgICB0cnkge1xyXG4gICAgICAgIHJldHVybiBKU09OLnBhcnNlKHN0b3JlZFZhbHVlKTtcclxuICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgIGlmIChrZXkgPT09IFwiZ2VzdGlmaWx0cmVzLXRoZW1lXCIgJiYgIXN0b3JlZFZhbHVlLnN0YXJ0c1dpdGgoJ1wiJykpIHtcclxuICAgICAgICAgIGNvbnNvbGUud2FybihcIk9sZCB0aGVtZSBmb3JtYXQgZGV0ZWN0ZWQsIG1pZ3JhdGluZy5cIik7XHJcbiAgICAgICAgICByZXR1cm4gc3RvcmVkVmFsdWUgYXMgVDtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhyb3cgZTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKGBFcnJvciBwcm9jZXNzaW5nIGxvY2FsU3RvcmFnZSBrZXkgXCIke2tleX1cIjpgLCBlcnJvcik7XHJcbiAgfVxyXG4gIHJldHVybiBkZWZhdWx0VmFsdWU7XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgZGVmYXVsdEN1c3RvbUNvbG9yczogQ3VzdG9tQ29sb3JzID0ge1xyXG4gIGJhY2tncm91bmQ6IFwiI2Y4ZmFmY1wiLFxyXG4gIGZvcmVncm91bmQ6IFwiIzBmMTcyYVwiLFxyXG4gIGZvcmVncm91bmRTZWNvbmRhcnk6IFwiIzY0NzQ4YlwiLFxyXG4gIGNhcmQ6IFwiI2ZmZmZmZlwiLFxyXG4gIGNhcmRGb3JlZ3JvdW5kOiBcIiMwZjE3MmFcIixcclxuICBwcmltYXJ5OiBcIiNmOTczMTZcIixcclxuICBwcmltYXJ5Rm9yZWdyb3VuZDogXCIjZjhmYWZjXCIsXHJcbiAgYWNjZW50OiBcIiNmMWY1ZjlcIixcclxuICBkZXN0cnVjdGl2ZTogXCIjZWY0NDQ0XCIsXHJcbiAgZGVzdHJ1Y3RpdmVGb3JlZ3JvdW5kOiBcIiNmOGZhZmNcIixcclxuICBib3JkZXI6IFwiI2UyZThmMFwiLFxyXG4gIGlucHV0OiBcIiNmMWY1ZjlcIixcclxuICByaW5nOiBcIiNmOTczMTZcIixcclxuICBjYXJkQm9yZGVyczogW1xyXG4gICAgXCIjM2I4MmY2XCIsXHJcbiAgICBcIiMxMGI5ODFcIixcclxuICAgIFwiI2Y1OWUwYlwiLFxyXG4gICAgXCIjZWY0NDQ0XCIsXHJcbiAgICBcIiM4YjVjZjZcIixcclxuICAgIFwiIzBlYTVlOVwiLFxyXG4gIF0sXHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgdXNlQXBwTG9naWMgPSAoKSA9PiB7XHJcbiAgY29uc3QgW2lzTG9hZGluZywgc2V0SXNMb2FkaW5nXSA9IHVzZVN0YXRlKHRydWUpO1xyXG4gIGNvbnN0IFtjdXJyZW50Vmlldywgc2V0Q3VycmVudFZpZXddID0gdXNlU3RhdGU8Vmlldz4oVmlldy5EQVNIQk9BUkQpO1xyXG4gIGNvbnN0IFttYWNoaW5lcywgc2V0TWFjaGluZXNdID0gdXNlU3RhdGU8TWFjaGluZVtdPihbXSk7XHJcbiAgY29uc3QgW2ZpbHRlckdyb3Vwcywgc2V0RmlsdGVyR3JvdXBzXSA9IHVzZVN0YXRlPEZpbHRlckdyb3VwW10+KFtdKTtcclxuICBjb25zdCBbZmlsdGVyVHlwZXMsIHNldEZpbHRlclR5cGVzXSA9IHVzZVN0YXRlPEZpbHRlclR5cGVbXT4oW10pO1xyXG4gIGNvbnN0IFtzZWxlY3RlZE1hY2hpbmUsIHNldFNlbGVjdGVkTWFjaGluZV0gPSB1c2VTdGF0ZTxNYWNoaW5lIHwgbnVsbD4obnVsbCk7XHJcbiAgY29uc3QgW21haW50ZW5hbmNlUmVjb3Jkcywgc2V0TWFpbnRlbmFuY2VSZWNvcmRzXSA9IHVzZVN0YXRlPFxyXG4gICAgTWFpbnRlbmFuY2VSZWNvcmRbXVxyXG4gID4oW10pO1xyXG5cclxuICBjb25zdCBbdGhlbWUsIF9zZXRUaGVtZV0gPSB1c2VTdGF0ZTxUaGVtZT4oKCkgPT5cclxuICAgIGxvYWRGcm9tU3RvcmFnZShcImdlc3RpZmlsdHJlcy10aGVtZVwiLCBcImRlZmF1bHQtbGlnaHRcIilcclxuICApO1xyXG4gIGNvbnN0IFtzYXZlZFRoZW1lcywgc2V0U2F2ZWRUaGVtZXNdID0gdXNlU3RhdGU8U2F2ZWRUaGVtZVtdPigoKSA9PlxyXG4gICAgbG9hZEZyb21TdG9yYWdlKFwiZ2VzdGlmaWx0cmVzLXNhdmVkVGhlbWVzXCIsIFtdKVxyXG4gICk7XHJcbiAgY29uc3QgW2N1c3RvbUNvbG9ycywgc2V0Q3VzdG9tQ29sb3JzXSA9IHVzZVN0YXRlPEN1c3RvbUNvbG9ycz4oKCkgPT4ge1xyXG4gICAgY29uc3Qgc2F2ZWQgPSBsb2FkRnJvbVN0b3JhZ2UoXHJcbiAgICAgIFwiZ2VzdGlmaWx0cmVzLWN1c3RvbUNvbG9yc1wiLFxyXG4gICAgICBkZWZhdWx0Q3VzdG9tQ29sb3JzXHJcbiAgICApO1xyXG4gICAgcmV0dXJuIHsgLi4uZGVmYXVsdEN1c3RvbUNvbG9ycywgLi4uc2F2ZWQgfTtcclxuICB9KTtcclxuXHJcbiAgY29uc3QgW2hpZ2hsaWdodGVkRmlsdGVyR3JvdXBJZCwgc2V0SGlnaGxpZ2h0ZWRGaWx0ZXJHcm91cElkXSA9IHVzZVN0YXRlPFxyXG4gICAgc3RyaW5nIHwgbnVsbFxyXG4gID4obnVsbCk7XHJcbiAgY29uc3QgW2lzU2lkZWJhck9wZW4sIHNldElzU2lkZWJhck9wZW5dID0gdXNlU3RhdGUoZmFsc2UpO1xyXG4gIGNvbnN0IFtub3RpZmljYXRpb25zLCBzZXROb3RpZmljYXRpb25zXSA9IHVzZVN0YXRlPE5vdGlmaWNhdGlvbltdPihbXSk7XHJcbiAgY29uc3QgW3RvYXN0cywgc2V0VG9hc3RzXSA9IHVzZVN0YXRlPFRvYXN0W10+KFtdKTtcclxuXHJcbiAgY29uc3QgW2lzU2Nhbm5lck9wZW4sIHNldElzU2Nhbm5lck9wZW5dID0gdXNlU3RhdGUoZmFsc2UpO1xyXG4gIGNvbnN0IFtpc0FJQXNzaXN0YW50T3Blbiwgc2V0SXNBSUFzc2lzdGFudE9wZW5dID0gdXNlU3RhdGUoZmFsc2UpO1xyXG4gIGNvbnN0IFtpc01hY2hpbmVNb2RhbE9wZW4sIHNldElzTWFjaGluZU1vZGFsT3Blbl0gPSB1c2VTdGF0ZShmYWxzZSk7XHJcbiAgY29uc3QgW2VkaXRpbmdNYWNoaW5lLCBzZXRFZGl0aW5nTWFjaGluZV0gPSB1c2VTdGF0ZTxNYWNoaW5lIHwgbnVsbD4obnVsbCk7XHJcblxyXG4gIGNvbnN0IFtpc0ZpbHRlckdyb3VwTW9kYWxPcGVuLCBzZXRJc0ZpbHRlckdyb3VwTW9kYWxPcGVuXSA9IHVzZVN0YXRlKGZhbHNlKTtcclxuICBjb25zdCBbZWRpdGluZ0ZpbHRlckdyb3VwLCBzZXRFZGl0aW5nRmlsdGVyR3JvdXBdID1cclxuICAgIHVzZVN0YXRlPEZpbHRlckdyb3VwIHwgbnVsbD4obnVsbCk7XHJcblxyXG4gIGNvbnN0IFtpc01haW50ZW5hbmNlTW9kYWxPcGVuLCBzZXRJc01haW50ZW5hbmNlTW9kYWxPcGVuXSA9IHVzZVN0YXRlKGZhbHNlKTtcclxuICBjb25zdCBbZWRpdGluZ01haW50ZW5hbmNlUmVjb3JkLCBzZXRFZGl0aW5nTWFpbnRlbmFuY2VSZWNvcmRdID1cclxuICAgIHVzZVN0YXRlPFBhcnRpYWw8TWFpbnRlbmFuY2VSZWNvcmQ+IHwgbnVsbD4obnVsbCk7XHJcbiAgY29uc3QgW2lzTWFpbnRlbmFuY2VWaWV3T25seSwgc2V0SXNNYWludGVuYW5jZVZpZXdPbmx5XSA9IHVzZVN0YXRlKGZhbHNlKTtcclxuXHJcbiAgY29uc3QgW2lzQWRkU3RvY2tNb2RhbE9wZW4sIHNldElzQWRkU3RvY2tNb2RhbE9wZW5dID0gdXNlU3RhdGUoZmFsc2UpO1xyXG4gIGNvbnN0IFtzdG9ja1VwZGF0ZUluZm8sIHNldFN0b2NrVXBkYXRlSW5mb10gPVxyXG4gICAgdXNlU3RhdGU8U3RvY2tVcGRhdGVJbmZvIHwgbnVsbD4obnVsbCk7XHJcblxyXG4gIGNvbnN0IFtpc1RoZW1lQ3VzdG9taXplck9wZW4sIHNldElzVGhlbWVDdXN0b21pemVyT3Blbl0gPSB1c2VTdGF0ZShmYWxzZSk7XHJcbiAgY29uc3QgW2VkaXRpbmdDdXN0b21UaGVtZSwgc2V0RWRpdGluZ0N1c3RvbVRoZW1lXSA9XHJcbiAgICB1c2VTdGF0ZTxTYXZlZFRoZW1lIHwgbnVsbD4obnVsbCk7XHJcblxyXG4gIGNvbnN0IFtpc0ltcG9ydE1vZGFsT3Blbiwgc2V0SXNJbXBvcnRNb2RhbE9wZW5dID0gdXNlU3RhdGUoZmFsc2UpO1xyXG5cclxuICBjb25zdCBbY29uZmlybWF0aW9uRGlhbG9nQ29uZmlnLCBzZXRDb25maXJtYXRpb25EaWFsb2dDb25maWddID1cclxuICAgIHVzZVN0YXRlPENvbmZpcm1hdGlvbkRpYWxvZ0NvbmZpZz4oe1xyXG4gICAgICBpc09wZW46IGZhbHNlLFxyXG4gICAgICB0aXRsZTogXCJcIixcclxuICAgICAgZGVzY3JpcHRpb246IFwiXCIsXHJcbiAgICAgIG9uQ29uZmlybTogKCkgPT4ge30sXHJcbiAgICB9KTtcclxuXHJcbiAgY29uc3QgYWRkVG9hc3QgPSB1c2VDYWxsYmFjaygodG9hc3Q6IE9taXQ8VG9hc3QsIFwiaWRcIj4pID0+IHtcclxuICAgIGNvbnN0IGlkID0gYHRvYXN0LSR7RGF0ZS5ub3coKX1gO1xyXG4gICAgc2V0VG9hc3RzKChwcmV2KSA9PiBbLi4ucHJldiwgeyBpZCwgLi4udG9hc3QgfV0pO1xyXG4gIH0sIFtdKTtcclxuXHJcbiAgY29uc3QgZmV0Y2hEYXRhID0gdXNlQ2FsbGJhY2soYXN5bmMgKCkgPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgW1xyXG4gICAgICAgIG1hY2hpbmVzUmVzLFxyXG4gICAgICAgIGZpbHRlckdyb3Vwc1JlcyxcclxuICAgICAgICBmaWx0ZXJUeXBlc1JlcyxcclxuICAgICAgICBtYWludGVuYW5jZVJlY29yZHNSZXMsXHJcbiAgICAgIF0gPSBhd2FpdCBQcm9taXNlLmFsbChbXHJcbiAgICAgICAgc3VwYWJhc2UuZnJvbShcIm1hY2hpbmVzXCIpLnNlbGVjdChcIipcIiksXHJcbiAgICAgICAgc3VwYWJhc2UuZnJvbShcImZpbHRlcl9ncm91cHNcIikuc2VsZWN0KFwiKlwiKSxcclxuICAgICAgICBzdXBhYmFzZS5mcm9tKFwiZmlsdGVyX3R5cGVzXCIpLnNlbGVjdChcIipcIiksXHJcbiAgICAgICAgc3VwYWJhc2UuZnJvbShcIm1haW50ZW5hbmNlX3JlY29yZHNcIikuc2VsZWN0KFwiKlwiKSxcclxuICAgICAgXSk7XHJcblxyXG4gICAgICBpZiAobWFjaGluZXNSZXMuZXJyb3IpIHRocm93IG1hY2hpbmVzUmVzLmVycm9yO1xyXG4gICAgICBpZiAoZmlsdGVyR3JvdXBzUmVzLmVycm9yKSB0aHJvdyBmaWx0ZXJHcm91cHNSZXMuZXJyb3I7XHJcbiAgICAgIGlmIChmaWx0ZXJUeXBlc1Jlcy5lcnJvcikgdGhyb3cgZmlsdGVyVHlwZXNSZXMuZXJyb3I7XHJcbiAgICAgIGlmIChtYWludGVuYW5jZVJlY29yZHNSZXMuZXJyb3IpIHRocm93IG1haW50ZW5hbmNlUmVjb3Jkc1Jlcy5lcnJvcjtcclxuXHJcbiAgICAgIC8vIFRyYW5zZm9ybSBkYXRhYmFzZSByZXN1bHRzIHRvIG1hdGNoIGFwcGxpY2F0aW9uIHR5cGVzXHJcbiAgICAgIGNvbnN0IHRyYW5zZm9ybWVkTWFjaGluZXMgPSAobWFjaGluZXNSZXMuZGF0YSB8fCBbXSkubWFwKFxyXG4gICAgICAgIChtYWNoaW5lOiBhbnkpID0+ICh7XHJcbiAgICAgICAgICBpZDogbWFjaGluZS5pZCxcclxuICAgICAgICAgIGNvZGU6IG1hY2hpbmUuY29kZSxcclxuICAgICAgICAgIGRlc2lnbmF0aW9uOiBtYWNoaW5lLmRlc2lnbmF0aW9uLFxyXG4gICAgICAgICAgbWFycXVlOiBtYWNoaW5lLm1hcnF1ZSxcclxuICAgICAgICAgIHR5cGU6IG1hY2hpbmUudHlwZSxcclxuICAgICAgICAgIHNlcmlhbE51bWJlcjogbWFjaGluZS5zZXJpYWxfbnVtYmVyIHx8IFwiXCIsXHJcbiAgICAgICAgICByZWdpc3RyYXRpb25OdW1iZXI6IG1hY2hpbmUucmVnaXN0cmF0aW9uX251bWJlciB8fCBcIlwiLFxyXG4gICAgICAgICAgc2VydmljZUhvdXJzOiBtYWNoaW5lLnNlcnZpY2VfaG91cnMsXHJcbiAgICAgICAgICBhc3NpZ25lZEZpbHRlcnM6IG1hY2hpbmUuYXNzaWduZWRfZmlsdGVycyB8fCBbXSxcclxuICAgICAgICB9KVxyXG4gICAgICApO1xyXG5cclxuICAgICAgY29uc3QgdHJhbnNmb3JtZWRGaWx0ZXJHcm91cHMgPSAoZmlsdGVyR3JvdXBzUmVzLmRhdGEgfHwgW10pLm1hcChcclxuICAgICAgICAoZ3JvdXA6IGFueSkgPT4gKHtcclxuICAgICAgICAgIGlkOiBncm91cC5pZCxcclxuICAgICAgICAgIG5hbWU6IGdyb3VwLm5hbWUsXHJcbiAgICAgICAgICBmaWx0ZXJUeXBlOiBncm91cC5maWx0ZXJfdHlwZSB8fCBcIlwiLFxyXG4gICAgICAgICAgb3JpZ2luYWxSZWZlcmVuY2VJZDogZ3JvdXAub3JpZ2luYWxfcmVmZXJlbmNlX2lkLFxyXG4gICAgICAgICAgcmVmZXJlbmNlczogZ3JvdXBbXCJyZWZlcmVuY2VzXCJdIHx8IFtdLFxyXG4gICAgICAgIH0pXHJcbiAgICAgICk7XHJcblxyXG4gICAgICBjb25zdCB0cmFuc2Zvcm1lZE1haW50ZW5hbmNlUmVjb3JkcyA9IChcclxuICAgICAgICBtYWludGVuYW5jZVJlY29yZHNSZXMuZGF0YSB8fCBbXVxyXG4gICAgICApLm1hcCgocmVjb3JkOiBhbnkpID0+ICh7XHJcbiAgICAgICAgaWQ6IHJlY29yZC5pZCxcclxuICAgICAgICBtYWNoaW5lSWQ6IHJlY29yZC5tYWNoaW5lX2lkLFxyXG4gICAgICAgIG1haW50ZW5hbmNlUmFuZ2U6IHJlY29yZC5tYWludGVuYW5jZV9yYW5nZSxcclxuICAgICAgICBzZXJ2aWNlSG91cnM6IHJlY29yZC5zZXJ2aWNlX2hvdXJzLFxyXG4gICAgICAgIGRhdGU6IHJlY29yZC5kYXRlLFxyXG4gICAgICAgIGZpbHRlcnNVc2VkOiByZWNvcmQuZmlsdGVyc191c2VkIHx8IFtdLFxyXG4gICAgICB9KSk7XHJcblxyXG4gICAgICBzZXRNYWNoaW5lcyh0cmFuc2Zvcm1lZE1hY2hpbmVzKTtcclxuICAgICAgc2V0RmlsdGVyR3JvdXBzKHRyYW5zZm9ybWVkRmlsdGVyR3JvdXBzKTtcclxuICAgICAgc2V0RmlsdGVyVHlwZXMoZmlsdGVyVHlwZXNSZXMuZGF0YSB8fCBbXSk7XHJcbiAgICAgIHNldE1haW50ZW5hbmNlUmVjb3Jkcyh0cmFuc2Zvcm1lZE1haW50ZW5hbmNlUmVjb3Jkcyk7XHJcbiAgICB9IGNhdGNoIChlcnJvcjogYW55KSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJGYWlsZWQgdG8gZmV0Y2ggZGF0YSBmcm9tIFN1cGFiYXNlOlwiLCBlcnJvcik7XHJcbiAgICAgIGFkZFRvYXN0KHtcclxuICAgICAgICB0eXBlOiBcImVycm9yXCIsXHJcbiAgICAgICAgdGl0bGU6IFwiRXJyZXVyIGRlIGNoYXJnZW1lbnRcIixcclxuICAgICAgICBkZXNjcmlwdGlvbjogZXJyb3IubWVzc2FnZSxcclxuICAgICAgfSk7XHJcbiAgICB9IGZpbmFsbHkge1xyXG4gICAgICBzZXRJc0xvYWRpbmcoZmFsc2UpO1xyXG4gICAgfVxyXG4gIH0sIFthZGRUb2FzdF0pO1xyXG5cclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgZmV0Y2hEYXRhKCk7XHJcbiAgfSwgW2ZldGNoRGF0YV0pO1xyXG5cclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgJiYgdHlwZW9mIGxvY2FsU3RvcmFnZSAhPT0gXCJ1bmRlZmluZWRcIikge1xyXG4gICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcImdlc3RpZmlsdHJlcy10aGVtZVwiLCBKU09OLnN0cmluZ2lmeSh0aGVtZSkpO1xyXG4gICAgfVxyXG4gIH0sIFt0aGVtZV0pO1xyXG5cclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgJiYgdHlwZW9mIGxvY2FsU3RvcmFnZSAhPT0gXCJ1bmRlZmluZWRcIikge1xyXG4gICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcclxuICAgICAgICBcImdlc3RpZmlsdHJlcy1jdXN0b21Db2xvcnNcIixcclxuICAgICAgICBKU09OLnN0cmluZ2lmeShjdXN0b21Db2xvcnMpXHJcbiAgICAgICk7XHJcbiAgICB9XHJcbiAgfSwgW2N1c3RvbUNvbG9yc10pO1xyXG5cclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgJiYgdHlwZW9mIGxvY2FsU3RvcmFnZSAhPT0gXCJ1bmRlZmluZWRcIikge1xyXG4gICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcclxuICAgICAgICBcImdlc3RpZmlsdHJlcy1zYXZlZFRoZW1lc1wiLFxyXG4gICAgICAgIEpTT04uc3RyaW5naWZ5KHNhdmVkVGhlbWVzKVxyXG4gICAgICApO1xyXG4gICAgfVxyXG4gIH0sIFtzYXZlZFRoZW1lc10pO1xyXG5cclxuICBjb25zdCByZW1vdmVUb2FzdCA9IChpZDogc3RyaW5nKSA9PiB7XHJcbiAgICBzZXRUb2FzdHMoKHByZXYpID0+IHByZXYuZmlsdGVyKCh0KSA9PiB0LmlkICE9PSBpZCkpO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IG5hdmlnYXRlVG9GaWx0ZXJHcm91cCA9IChncm91cElkOiBzdHJpbmcpID0+IHtcclxuICAgIHNldElzQUlBc3Npc3RhbnRPcGVuKGZhbHNlKTtcclxuICAgIHNldEN1cnJlbnRWaWV3KFZpZXcuRklMVEVSX01BTkFHRU1FTlQpO1xyXG4gICAgc2V0SGlnaGxpZ2h0ZWRGaWx0ZXJHcm91cElkKGdyb3VwSWQpO1xyXG4gIH07XHJcblxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCk7XHJcbiAgICBjb25zdCBjdXJyZW50VmFsaWRBbGVydHM6IE9taXQ8Tm90aWZpY2F0aW9uLCBcInJlYWRcIiB8IFwiY3JlYXRlZEF0XCI+W10gPSBbXTtcclxuXHJcbiAgICBjb25zdCBoaXN0b3J5QnlNYWNoaW5lID0gbmV3IE1hcDxzdHJpbmcsIE1haW50ZW5hbmNlUmVjb3JkW10+KCk7XHJcbiAgICBtYWludGVuYW5jZVJlY29yZHMuZm9yRWFjaCgocmVjKSA9PiB7XHJcbiAgICAgIGlmICghaGlzdG9yeUJ5TWFjaGluZS5oYXMocmVjLm1hY2hpbmVJZCkpXHJcbiAgICAgICAgaGlzdG9yeUJ5TWFjaGluZS5zZXQocmVjLm1hY2hpbmVJZCwgW10pO1xyXG4gICAgICBoaXN0b3J5QnlNYWNoaW5lLmdldChyZWMubWFjaGluZUlkKSEucHVzaChyZWMpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgbWFjaGluZXMuZm9yRWFjaCgobWFjaGluZSkgPT4ge1xyXG4gICAgICBjb25zdCBoaXN0b3J5ID0gaGlzdG9yeUJ5TWFjaGluZS5nZXQobWFjaGluZS5pZCkgfHwgW107XHJcbiAgICAgIGNvbnN0IG5leHRNYWludCA9IGNhbGN1bGF0ZU5leHRNYWludGVuYW5jZShtYWNoaW5lLCBoaXN0b3J5KTtcclxuICAgICAgaWYgKG5leHRNYWludCAmJiBuZXh0TWFpbnQuZHVlSW4gPD0gNTApIHtcclxuICAgICAgICBjdXJyZW50VmFsaWRBbGVydHMucHVzaCh7XHJcbiAgICAgICAgICBpZDogYG1haW50LWFsZXJ0LSR7bWFjaGluZS5pZH0tJHtuZXh0TWFpbnQuaG91cnN9YCxcclxuICAgICAgICAgIHR5cGU6IFwibWFpbnRlbmFuY2VcIixcclxuICAgICAgICAgIG1lc3NhZ2U6IGBMJ2VuZ2luICR7bWFjaGluZS5kZXNpZ25hdGlvbn0gKCR7bWFjaGluZS5jb2RlfSkgbsOpY2Vzc2l0ZSB1bmUgbWFpbnRlbmFuY2UgKEdhbW1lICR7bmV4dE1haW50LmdhbW1lfSkgZGFucyAke25leHRNYWludC5kdWVJbn1oLmAsXHJcbiAgICAgICAgICBlbnRpdHlJZDogbWFjaGluZS5pZCxcclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgZmlsdGVyR3JvdXBzLmZvckVhY2goKGdyb3VwKSA9PiB7XHJcbiAgICAgIGdyb3VwLnJlZmVyZW5jZXMuZm9yRWFjaCgocmVmKSA9PiB7XHJcbiAgICAgICAgaWYgKHJlZi5zdG9jayA+IDAgJiYgcmVmLnN0b2NrIDw9IDUpIHtcclxuICAgICAgICAgIGN1cnJlbnRWYWxpZEFsZXJ0cy5wdXNoKHtcclxuICAgICAgICAgICAgaWQ6IGBzdG9jay1hbGVydC0ke3JlZi5pZH1gLFxyXG4gICAgICAgICAgICB0eXBlOiBcInN0b2NrXCIsXHJcbiAgICAgICAgICAgIG1lc3NhZ2U6IGBMZSBzdG9jayBwb3VyIGxlIGZpbHRyZSAke3JlZi5yZWZlcmVuY2V9ICgke3JlZi5tYW51ZmFjdHVyZXJ9KSBlc3QgZmFpYmxlICgke3JlZi5zdG9ja30gdW5pdMOpcykuYCxcclxuICAgICAgICAgICAgZW50aXR5SWQ6IGdyb3VwLmlkLFxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG5cclxuICAgIHNldE5vdGlmaWNhdGlvbnMoKHByZXZOb3RpZmljYXRpb25zKSA9PiB7XHJcbiAgICAgIGNvbnN0IHByZXZNYXAgPSBuZXcgTWFwKHByZXZOb3RpZmljYXRpb25zLm1hcCgobikgPT4gW24uaWQsIG5dKSk7XHJcblxyXG4gICAgICBjb25zdCBuZXh0Tm90aWZpY2F0aW9ucyA9IGN1cnJlbnRWYWxpZEFsZXJ0cy5tYXAoKGFsZXJ0KSA9PiB7XHJcbiAgICAgICAgY29uc3QgcHJldiA9IHByZXZNYXAuZ2V0KGFsZXJ0LmlkKTtcclxuICAgICAgICBpZiAocHJldikge1xyXG4gICAgICAgICAgcmV0dXJuIHsgLi4ucHJldiwgbWVzc2FnZTogYWxlcnQubWVzc2FnZSB9O1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4geyAuLi5hbGVydCwgcmVhZDogZmFsc2UsIGNyZWF0ZWRBdDogbm93IH07XHJcbiAgICAgIH0pO1xyXG4gICAgICByZXR1cm4gbmV4dE5vdGlmaWNhdGlvbnM7XHJcbiAgICB9KTtcclxuICB9LCBbbWFjaGluZXMsIGZpbHRlckdyb3VwcywgbWFpbnRlbmFuY2VSZWNvcmRzXSk7XHJcblxyXG4gIGNvbnN0IHRvZ2dsZVNpZGViYXIgPSAoKSA9PiBzZXRJc1NpZGViYXJPcGVuKChwcmV2KSA9PiAhcHJldik7XHJcbiAgY29uc3QgY2xvc2VTaWRlYmFyID0gKCkgPT4gc2V0SXNTaWRlYmFyT3BlbihmYWxzZSk7XHJcblxyXG4gIGNvbnN0IHNlbGVjdE1hY2hpbmUgPSAobWFjaGluZUlkOiBzdHJpbmcpID0+IHtcclxuICAgIGNvbnN0IG1hY2hpbmUgPSBtYWNoaW5lcy5maW5kKChtKSA9PiBtLmlkID09PSBtYWNoaW5lSWQpO1xyXG4gICAgaWYgKG1hY2hpbmUpIHtcclxuICAgICAgc2V0U2VsZWN0ZWRNYWNoaW5lKG1hY2hpbmUpO1xyXG4gICAgICBzZXRDdXJyZW50VmlldyhWaWV3Lk1BQ0hJTkVfREVUQUlMKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICBjb25zdCBhc3NpZ25GaWx0ZXJUb01hY2hpbmUgPSBhc3luYyAoXHJcbiAgICBtYWNoaW5lSWQ6IHN0cmluZyxcclxuICAgIGZpbHRlclR5cGVJZDogc3RyaW5nLFxyXG4gICAgZmlsdGVyR3JvdXBJZDogc3RyaW5nIHwgbnVsbFxyXG4gICkgPT4ge1xyXG4gICAgY29uc3QgbWFjaGluZVRvVXBkYXRlID0gbWFjaGluZXMuZmluZCgobSkgPT4gbS5pZCA9PT0gbWFjaGluZUlkKTtcclxuICAgIGlmICghbWFjaGluZVRvVXBkYXRlKSByZXR1cm47XHJcblxyXG4gICAgY29uc3QgbmV3QXNzaWduZWRGaWx0ZXJzID0gWy4uLm1hY2hpbmVUb1VwZGF0ZS5hc3NpZ25lZEZpbHRlcnNdO1xyXG4gICAgY29uc3QgZXhpc3RpbmdJbmRleCA9IG5ld0Fzc2lnbmVkRmlsdGVycy5maW5kSW5kZXgoXHJcbiAgICAgIChhZikgPT4gYWYuZmlsdGVyVHlwZUlkID09PSBmaWx0ZXJUeXBlSWRcclxuICAgICk7XHJcblxyXG4gICAgaWYgKGV4aXN0aW5nSW5kZXggPiAtMSkge1xyXG4gICAgICBuZXdBc3NpZ25lZEZpbHRlcnNbZXhpc3RpbmdJbmRleF0gPSB7XHJcbiAgICAgICAgLi4ubmV3QXNzaWduZWRGaWx0ZXJzW2V4aXN0aW5nSW5kZXhdLFxyXG4gICAgICAgIGZpbHRlckdyb3VwSWQsXHJcbiAgICAgIH07XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBuZXdBc3NpZ25lZEZpbHRlcnMucHVzaCh7IGZpbHRlclR5cGVJZCwgZmlsdGVyR3JvdXBJZCB9KTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCB7IGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAuZnJvbShcIm1hY2hpbmVzXCIpXHJcbiAgICAgIC51cGRhdGUoeyBhc3NpZ25lZF9maWx0ZXJzOiBuZXdBc3NpZ25lZEZpbHRlcnMgYXMgYW55IH0pXHJcbiAgICAgIC5lcShcImlkXCIsIG1hY2hpbmVJZCk7XHJcbiAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgYWRkVG9hc3QoeyB0eXBlOiBcImVycm9yXCIsIHRpdGxlOiBcIkVycmV1clwiLCBkZXNjcmlwdGlvbjogZXJyb3IubWVzc2FnZSB9KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGZldGNoRGF0YSgpO1xyXG4gICAgICBpZiAoc2VsZWN0ZWRNYWNoaW5lPy5pZCA9PT0gbWFjaGluZUlkKSB7XHJcbiAgICAgICAgY29uc3QgdXBkYXRlZE1hY2hpbmUgPSB7XHJcbiAgICAgICAgICAuLi5tYWNoaW5lVG9VcGRhdGUsXHJcbiAgICAgICAgICBhc3NpZ25lZEZpbHRlcnM6IG5ld0Fzc2lnbmVkRmlsdGVycyxcclxuICAgICAgICB9O1xyXG4gICAgICAgIHNldFNlbGVjdGVkTWFjaGluZSh1cGRhdGVkTWFjaGluZSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9O1xyXG5cclxuICBjb25zdCBhZGRGaWx0ZXJUeXBlVG9NYWNoaW5lID0gYXN5bmMgKFxyXG4gICAgbWFjaGluZUlkOiBzdHJpbmcsXHJcbiAgICBmaWx0ZXJUeXBlSWQ6IHN0cmluZ1xyXG4gICkgPT4ge1xyXG4gICAgY29uc3QgbWFjaGluZVRvVXBkYXRlID0gbWFjaGluZXMuZmluZCgobSkgPT4gbS5pZCA9PT0gbWFjaGluZUlkKTtcclxuICAgIGlmIChcclxuICAgICAgIW1hY2hpbmVUb1VwZGF0ZSB8fFxyXG4gICAgICBtYWNoaW5lVG9VcGRhdGUuYXNzaWduZWRGaWx0ZXJzLnNvbWUoXHJcbiAgICAgICAgKGFmKSA9PiBhZi5maWx0ZXJUeXBlSWQgPT09IGZpbHRlclR5cGVJZFxyXG4gICAgICApXHJcbiAgICApXHJcbiAgICAgIHJldHVybjtcclxuXHJcbiAgICBjb25zdCBuZXdBc3NpZ25lZEZpbHRlcnMgPSBbXHJcbiAgICAgIC4uLm1hY2hpbmVUb1VwZGF0ZS5hc3NpZ25lZEZpbHRlcnMsXHJcbiAgICAgIHsgZmlsdGVyVHlwZUlkLCBmaWx0ZXJHcm91cElkOiBudWxsIH0sXHJcbiAgICBdO1xyXG4gICAgY29uc3QgeyBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgLmZyb20oXCJtYWNoaW5lc1wiKVxyXG4gICAgICAudXBkYXRlKHsgYXNzaWduZWRfZmlsdGVyczogbmV3QXNzaWduZWRGaWx0ZXJzIGFzIGFueSB9KVxyXG4gICAgICAuZXEoXCJpZFwiLCBtYWNoaW5lSWQpO1xyXG5cclxuICAgIGlmIChlcnJvcikge1xyXG4gICAgICBhZGRUb2FzdCh7IHR5cGU6IFwiZXJyb3JcIiwgdGl0bGU6IFwiRXJyZXVyXCIsIGRlc2NyaXB0aW9uOiBlcnJvci5tZXNzYWdlIH0pO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgZmV0Y2hEYXRhKCk7XHJcbiAgICAgIGlmIChzZWxlY3RlZE1hY2hpbmU/LmlkID09PSBtYWNoaW5lSWQpIHtcclxuICAgICAgICBjb25zdCB1cGRhdGVkTWFjaGluZSA9IHtcclxuICAgICAgICAgIC4uLm1hY2hpbmVUb1VwZGF0ZSxcclxuICAgICAgICAgIGFzc2lnbmVkRmlsdGVyczogbmV3QXNzaWduZWRGaWx0ZXJzLFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgc2V0U2VsZWN0ZWRNYWNoaW5lKHVwZGF0ZWRNYWNoaW5lKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIGNvbnN0IHJlbW92ZUZpbHRlclR5cGVGcm9tTWFjaGluZSA9IGFzeW5jIChcclxuICAgIG1hY2hpbmVJZDogc3RyaW5nLFxyXG4gICAgZmlsdGVyVHlwZUlkOiBzdHJpbmdcclxuICApID0+IHtcclxuICAgIGNvbnN0IG1hY2hpbmVUb1VwZGF0ZSA9IG1hY2hpbmVzLmZpbmQoKG0pID0+IG0uaWQgPT09IG1hY2hpbmVJZCk7XHJcbiAgICBpZiAoIW1hY2hpbmVUb1VwZGF0ZSkgcmV0dXJuO1xyXG5cclxuICAgIGNvbnN0IG5ld0Fzc2lnbmVkRmlsdGVycyA9IG1hY2hpbmVUb1VwZGF0ZS5hc3NpZ25lZEZpbHRlcnMuZmlsdGVyKFxyXG4gICAgICAoYWYpID0+IGFmLmZpbHRlclR5cGVJZCAhPT0gZmlsdGVyVHlwZUlkXHJcbiAgICApO1xyXG4gICAgY29uc3QgeyBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgLmZyb20oXCJtYWNoaW5lc1wiKVxyXG4gICAgICAudXBkYXRlKHsgYXNzaWduZWRfZmlsdGVyczogbmV3QXNzaWduZWRGaWx0ZXJzIGFzIGFueSB9KVxyXG4gICAgICAuZXEoXCJpZFwiLCBtYWNoaW5lSWQpO1xyXG5cclxuICAgIGlmIChlcnJvcikge1xyXG4gICAgICBhZGRUb2FzdCh7IHR5cGU6IFwiZXJyb3JcIiwgdGl0bGU6IFwiRXJyZXVyXCIsIGRlc2NyaXB0aW9uOiBlcnJvci5tZXNzYWdlIH0pO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgZmV0Y2hEYXRhKCk7XHJcbiAgICAgIGlmIChzZWxlY3RlZE1hY2hpbmU/LmlkID09PSBtYWNoaW5lSWQpIHtcclxuICAgICAgICBjb25zdCB1cGRhdGVkTWFjaGluZSA9IHtcclxuICAgICAgICAgIC4uLm1hY2hpbmVUb1VwZGF0ZSxcclxuICAgICAgICAgIGFzc2lnbmVkRmlsdGVyczogbmV3QXNzaWduZWRGaWx0ZXJzLFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgc2V0U2VsZWN0ZWRNYWNoaW5lKHVwZGF0ZWRNYWNoaW5lKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIGNvbnN0IG9wZW5Db25maXJtYXRpb25EaWFsb2cgPSAoXHJcbiAgICBjb25maWc6IE9taXQ8Q29uZmlybWF0aW9uRGlhbG9nQ29uZmlnLCBcImlzT3BlblwiIHwgXCJvbkNsb3NlXCI+XHJcbiAgKSA9PiB7XHJcbiAgICBzZXRDb25maXJtYXRpb25EaWFsb2dDb25maWcoeyAuLi5jb25maWcsIGlzT3BlbjogdHJ1ZSB9KTtcclxuICB9O1xyXG5cclxuICBjb25zdCBjbG9zZUNvbmZpcm1hdGlvbkRpYWxvZyA9ICgpID0+IHtcclxuICAgIHNldENvbmZpcm1hdGlvbkRpYWxvZ0NvbmZpZygocHJldikgPT4gKHsgLi4ucHJldiwgaXNPcGVuOiBmYWxzZSB9KSk7XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgaGFuZGxlQ29uZmlybSA9ICgpID0+IHtcclxuICAgIGNvbmZpcm1hdGlvbkRpYWxvZ0NvbmZpZy5vbkNvbmZpcm0oKTtcclxuICAgIGNsb3NlQ29uZmlybWF0aW9uRGlhbG9nKCk7XHJcbiAgfTtcclxuXHJcbiAgY29uc3Qgb3Blbk1hY2hpbmVNb2RhbCA9IChtYWNoaW5lOiBNYWNoaW5lIHwgbnVsbCkgPT4ge1xyXG4gICAgc2V0RWRpdGluZ01hY2hpbmUobWFjaGluZSk7XHJcbiAgICBzZXRJc01hY2hpbmVNb2RhbE9wZW4odHJ1ZSk7XHJcbiAgfTtcclxuICBjb25zdCBjbG9zZU1hY2hpbmVNb2RhbCA9ICgpID0+IHNldElzTWFjaGluZU1vZGFsT3BlbihmYWxzZSk7XHJcblxyXG4gIGNvbnN0IHNhdmVNYWNoaW5lID0gYXN5bmMgKG1hY2hpbmVEYXRhOiB7XHJcbiAgICBjb2RlOiBzdHJpbmc7XHJcbiAgICBkZXNpZ25hdGlvbjogc3RyaW5nO1xyXG4gICAgbWFycXVlOiBzdHJpbmc7XHJcbiAgICB0eXBlOiBzdHJpbmc7XHJcbiAgICBzZXJpYWxOdW1iZXI/OiBzdHJpbmc7XHJcbiAgICByZWdpc3RyYXRpb25OdW1iZXI/OiBzdHJpbmc7XHJcbiAgICBzZXJ2aWNlSG91cnM6IG51bWJlcjtcclxuICB9KSA9PiB7XHJcbiAgICBjb25zdCBtYWNoaW5lVG9TYXZlID0gZWRpdGluZ01hY2hpbmVcclxuICAgICAgPyB7XHJcbiAgICAgICAgICBpZDogZWRpdGluZ01hY2hpbmUuaWQsXHJcbiAgICAgICAgICBjb2RlOiBtYWNoaW5lRGF0YS5jb2RlLFxyXG4gICAgICAgICAgZGVzaWduYXRpb246IG1hY2hpbmVEYXRhLmRlc2lnbmF0aW9uLFxyXG4gICAgICAgICAgbWFycXVlOiBtYWNoaW5lRGF0YS5tYXJxdWUsXHJcbiAgICAgICAgICB0eXBlOiBtYWNoaW5lRGF0YS50eXBlLFxyXG4gICAgICAgICAgc2VyaWFsX251bWJlcjogbWFjaGluZURhdGEuc2VyaWFsTnVtYmVyIHx8IFwiXCIsXHJcbiAgICAgICAgICByZWdpc3RyYXRpb25fbnVtYmVyOiBtYWNoaW5lRGF0YS5yZWdpc3RyYXRpb25OdW1iZXIgfHwgXCJcIixcclxuICAgICAgICAgIHNlcnZpY2VfaG91cnM6IG1hY2hpbmVEYXRhLnNlcnZpY2VIb3VycyxcclxuICAgICAgICAgIGFzc2lnbmVkX2ZpbHRlcnM6IGVkaXRpbmdNYWNoaW5lLmFzc2lnbmVkRmlsdGVycyB8fCBbXSxcclxuICAgICAgICB9XHJcbiAgICAgIDoge1xyXG4gICAgICAgICAgaWQ6IGBtLSR7RGF0ZS5ub3coKX1gLFxyXG4gICAgICAgICAgY29kZTogbWFjaGluZURhdGEuY29kZSxcclxuICAgICAgICAgIGRlc2lnbmF0aW9uOiBtYWNoaW5lRGF0YS5kZXNpZ25hdGlvbixcclxuICAgICAgICAgIG1hcnF1ZTogbWFjaGluZURhdGEubWFycXVlLFxyXG4gICAgICAgICAgdHlwZTogbWFjaGluZURhdGEudHlwZSxcclxuICAgICAgICAgIHNlcmlhbF9udW1iZXI6IG1hY2hpbmVEYXRhLnNlcmlhbE51bWJlciB8fCBcIlwiLFxyXG4gICAgICAgICAgcmVnaXN0cmF0aW9uX251bWJlcjogbWFjaGluZURhdGEucmVnaXN0cmF0aW9uTnVtYmVyIHx8IFwiXCIsXHJcbiAgICAgICAgICBzZXJ2aWNlX2hvdXJzOiBtYWNoaW5lRGF0YS5zZXJ2aWNlSG91cnMsXHJcbiAgICAgICAgICBhc3NpZ25lZF9maWx0ZXJzOiBbXSxcclxuICAgICAgICB9O1xyXG5cclxuICAgIGNvbnN0IHsgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgIC5mcm9tKFwibWFjaGluZXNcIilcclxuICAgICAgLnVwc2VydChtYWNoaW5lVG9TYXZlIGFzIGFueSk7XHJcblxyXG4gICAgaWYgKGVycm9yKSB7XHJcbiAgICAgIGFkZFRvYXN0KHsgdHlwZTogXCJlcnJvclwiLCB0aXRsZTogXCJFcnJldXJcIiwgZGVzY3JpcHRpb246IGVycm9yLm1lc3NhZ2UgfSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBmZXRjaERhdGEoKTtcclxuICAgICAgY29uc3Qgc3VjY2Vzc01lc3NhZ2UgPSBlZGl0aW5nTWFjaGluZVxyXG4gICAgICAgID8gXCJFbmdpbiBNaXMgw6AgSm91clwiXHJcbiAgICAgICAgOiBcIkVuZ2luIEFqb3V0w6lcIjtcclxuICAgICAgYWRkVG9hc3Qoe1xyXG4gICAgICAgIHR5cGU6IFwic3VjY2Vzc1wiLFxyXG4gICAgICAgIHRpdGxlOiBzdWNjZXNzTWVzc2FnZSxcclxuICAgICAgICBkZXNjcmlwdGlvbjogYEwnZW5naW4gJHttYWNoaW5lVG9TYXZlLmRlc2lnbmF0aW9ufSBhIMOpdMOpIHNhdXZlZ2FyZMOpLmAsXHJcbiAgICAgIH0pO1xyXG4gICAgICBpZiAoc2VsZWN0ZWRNYWNoaW5lPy5pZCA9PT0gbWFjaGluZVRvU2F2ZS5pZCkge1xyXG4gICAgICAgIC8vIFRyYW5zZm9ybSBkYXRhYmFzZSBmb3JtYXQgdG8gYXBwbGljYXRpb24gZm9ybWF0IGZvciBzdGF0ZVxyXG4gICAgICAgIGNvbnN0IHRyYW5zZm9ybWVkTWFjaGluZTogTWFjaGluZSA9IHtcclxuICAgICAgICAgIGlkOiBtYWNoaW5lVG9TYXZlLmlkLFxyXG4gICAgICAgICAgY29kZTogbWFjaGluZVRvU2F2ZS5jb2RlLFxyXG4gICAgICAgICAgZGVzaWduYXRpb246IG1hY2hpbmVUb1NhdmUuZGVzaWduYXRpb24sXHJcbiAgICAgICAgICBtYXJxdWU6IG1hY2hpbmVUb1NhdmUubWFycXVlLFxyXG4gICAgICAgICAgdHlwZTogbWFjaGluZVRvU2F2ZS50eXBlLFxyXG4gICAgICAgICAgc2VyaWFsTnVtYmVyOiBtYWNoaW5lVG9TYXZlLnNlcmlhbF9udW1iZXIsXHJcbiAgICAgICAgICByZWdpc3RyYXRpb25OdW1iZXI6IG1hY2hpbmVUb1NhdmUucmVnaXN0cmF0aW9uX251bWJlcixcclxuICAgICAgICAgIHNlcnZpY2VIb3VyczogbWFjaGluZVRvU2F2ZS5zZXJ2aWNlX2hvdXJzLFxyXG4gICAgICAgICAgYXNzaWduZWRGaWx0ZXJzOiBtYWNoaW5lVG9TYXZlLmFzc2lnbmVkX2ZpbHRlcnMsXHJcbiAgICAgICAgfTtcclxuICAgICAgICBzZXRTZWxlY3RlZE1hY2hpbmUodHJhbnNmb3JtZWRNYWNoaW5lKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgY2xvc2VNYWNoaW5lTW9kYWwoKTtcclxuICB9O1xyXG5cclxuICBjb25zdCBkZWxldGVNYWNoaW5lID0gYXN5bmMgKG1hY2hpbmVJZDogc3RyaW5nKSA9PiB7XHJcbiAgICBjb25zdCB7IGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAuZnJvbShcIm1hY2hpbmVzXCIpXHJcbiAgICAgIC5kZWxldGUoKVxyXG4gICAgICAuZXEoXCJpZFwiLCBtYWNoaW5lSWQpO1xyXG4gICAgaWYgKGVycm9yKSB7XHJcbiAgICAgIGFkZFRvYXN0KHsgdHlwZTogXCJlcnJvclwiLCB0aXRsZTogXCJFcnJldXJcIiwgZGVzY3JpcHRpb246IGVycm9yLm1lc3NhZ2UgfSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBmZXRjaERhdGEoKTtcclxuICAgICAgYWRkVG9hc3QoeyB0eXBlOiBcImluZm9cIiwgdGl0bGU6IFwiRW5naW4gU3VwcHJpbcOpXCIgfSk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgY2xvc2VJbXBvcnRNb2RhbCA9ICgpID0+IHNldElzSW1wb3J0TW9kYWxPcGVuKGZhbHNlKTtcclxuXHJcbiAgY29uc3QgaW1wb3J0TWFjaGluZXMgPSBhc3luYyAoXHJcbiAgICBuZXdNYWNoaW5lc0RhdGE6IE9taXQ8TWFjaGluZSwgXCJpZFwiIHwgXCJhc3NpZ25lZEZpbHRlcnNcIj5bXVxyXG4gICkgPT4ge1xyXG4gICAgY29uc3QgbWFjaGluZXNUb0FkZCA9IG5ld01hY2hpbmVzRGF0YS5tYXAoKG5tKSA9PiAoe1xyXG4gICAgICBpZDogYG0tJHtEYXRlLm5vdygpfS0ke01hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cigyLCA5KX1gLFxyXG4gICAgICBjb2RlOiBubS5jb2RlLFxyXG4gICAgICBkZXNpZ25hdGlvbjogbm0uZGVzaWduYXRpb24sXHJcbiAgICAgIG1hcnF1ZTogbm0ubWFycXVlLFxyXG4gICAgICB0eXBlOiBubS50eXBlLFxyXG4gICAgICBzZXJpYWxfbnVtYmVyOiBubS5zZXJpYWxOdW1iZXIgfHwgbnVsbCwgLy8gVXNlIG51bGwgaW5zdGVhZCBvZiBlbXB0eSBzdHJpbmdcclxuICAgICAgcmVnaXN0cmF0aW9uX251bWJlcjogbm0ucmVnaXN0cmF0aW9uTnVtYmVyIHx8IG51bGwsIC8vIFVzZSBudWxsIGluc3RlYWQgb2YgZW1wdHkgc3RyaW5nXHJcbiAgICAgIHNlcnZpY2VfaG91cnM6IG5tLnNlcnZpY2VIb3VycyxcclxuICAgICAgYXNzaWduZWRfZmlsdGVyczogW10sXHJcbiAgICB9KSk7XHJcblxyXG4gICAgLy8gRmlsdGVyIG91dCBhbnkgcmVjb3JkcyB0aGF0IG1pZ2h0IGhhdmUgaW52YWxpZCBkYXRhXHJcbiAgICBjb25zdCB2YWxpZE1hY2hpbmVzVG9BZGQgPSBtYWNoaW5lc1RvQWRkLmZpbHRlcihcclxuICAgICAgKG1hY2hpbmUpID0+XHJcbiAgICAgICAgbWFjaGluZS5jb2RlICYmIG1hY2hpbmUuZGVzaWduYXRpb24gJiYgbWFjaGluZS5tYXJxdWUgJiYgbWFjaGluZS50eXBlXHJcbiAgICApO1xyXG5cclxuICAgIGlmICh2YWxpZE1hY2hpbmVzVG9BZGQubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgIGFkZFRvYXN0KHtcclxuICAgICAgICB0eXBlOiBcIndhcm5pbmdcIixcclxuICAgICAgICB0aXRsZTogXCJJbXBvcnRhdGlvbiBBbm51bMOpZVwiLFxyXG4gICAgICAgIGRlc2NyaXB0aW9uOiBcIkF1Y3VuIGVuZ2luIHZhbGlkZSDDoCBpbXBvcnRlci5cIixcclxuICAgICAgfSk7XHJcbiAgICAgIGNsb3NlSW1wb3J0TW9kYWwoKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHsgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgIC5mcm9tKFwibWFjaGluZXNcIilcclxuICAgICAgLmluc2VydCh2YWxpZE1hY2hpbmVzVG9BZGQgYXMgYW55KTtcclxuXHJcbiAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIGltcG9ydGluZyBtYWNoaW5lczpcIiwgZXJyb3IpO1xyXG4gICAgICBhZGRUb2FzdCh7XHJcbiAgICAgICAgdHlwZTogXCJlcnJvclwiLFxyXG4gICAgICAgIHRpdGxlOiBcIkVycmV1ciBkJ2ltcG9ydGF0aW9uXCIsXHJcbiAgICAgICAgZGVzY3JpcHRpb246IGDDiWNoZWMgZGUgbCdpbXBvcnRhdGlvbiBkZXMgZW5naW5zOiAke2Vycm9yLm1lc3NhZ2V9YCxcclxuICAgICAgfSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBmZXRjaERhdGEoKTtcclxuICAgICAgYWRkVG9hc3Qoe1xyXG4gICAgICAgIHR5cGU6IFwic3VjY2Vzc1wiLFxyXG4gICAgICAgIHRpdGxlOiBcIkltcG9ydGF0aW9uIFLDqXVzc2llXCIsXHJcbiAgICAgICAgZGVzY3JpcHRpb246IGAke3ZhbGlkTWFjaGluZXNUb0FkZC5sZW5ndGh9IGVuZ2lucyBvbnQgw6l0w6kgYWpvdXTDqXMuYCxcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBjbG9zZUltcG9ydE1vZGFsKCk7XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgaW1wb3J0TWFpbnRlbmFuY2VSZWNvcmRzID0gYXN5bmMgKFxyXG4gICAgbmV3TWFpbnRlbmFuY2VEYXRhOiB7XHJcbiAgICAgIGdhbW1lOiBzdHJpbmc7XHJcbiAgICAgIG1haW50ZW5hbmNlUmFuZ2U6IFwiQ1wiIHwgXCJEXCIgfCBcIkVcIiB8IFwiRlwiO1xyXG4gICAgICBzZXJ2aWNlSG91cnM6IG51bWJlcjtcclxuICAgICAgZGF0ZTogc3RyaW5nO1xyXG4gICAgICBtYWNoaW5lRGVzaWduYXRpb24/OiBzdHJpbmc7IC8vIEFkZCBtYWNoaW5lIGRlc2lnbmF0aW9uIHRvIGxpbmsgbWFpbnRlbmFuY2UgdG8gbWFjaGluZVxyXG4gICAgfVtdXHJcbiAgKSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICAvLyBGaXJzdCwgZ2V0IGFsbCBtYWNoaW5lcyB0byBtYXRjaCBkZXNpZ25hdGlvbnNcclxuICAgICAgY29uc3QgeyBkYXRhOiBtYWNoaW5lc0RhdGEsIGVycm9yOiBtYWNoaW5lc0Vycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAgIC5mcm9tKFwibWFjaGluZXNcIilcclxuICAgICAgICAuc2VsZWN0KFwiaWQsIGNvZGUsIGRlc2lnbmF0aW9uXCIpO1xyXG5cclxuICAgICAgaWYgKG1hY2hpbmVzRXJyb3IpIHtcclxuICAgICAgICB0aHJvdyBtYWNoaW5lc0Vycm9yO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBDcmVhdGUgbWFwcyBmb3IgcXVpY2sgbG9va3VwXHJcbiAgICAgIGNvbnN0IG1hY2hpbmVDb2RlVG9JZE1hcCA9IG5ldyBNYXA8c3RyaW5nLCBzdHJpbmc+KCk7XHJcbiAgICAgIGNvbnN0IG1hY2hpbmVEZXNpZ25hdGlvblRvSWRNYXAgPSBuZXcgTWFwPHN0cmluZywgc3RyaW5nPigpO1xyXG5cclxuICAgICAgbWFjaGluZXNEYXRhLmZvckVhY2goKG1hY2hpbmU6IGFueSkgPT4ge1xyXG4gICAgICAgIG1hY2hpbmVDb2RlVG9JZE1hcC5zZXQobWFjaGluZS5jb2RlLCBtYWNoaW5lLmlkKTtcclxuICAgICAgICBtYWNoaW5lRGVzaWduYXRpb25Ub0lkTWFwLnNldChcclxuICAgICAgICAgIG1hY2hpbmUuZGVzaWduYXRpb24udG9Mb3dlckNhc2UoKSxcclxuICAgICAgICAgIG1hY2hpbmUuaWRcclxuICAgICAgICApO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIC8vIFRyYWNrIHJlY29yZHMgdGhhdCBjb3VsZG4ndCBiZSBtYXRjaGVkIGZvciBiZXR0ZXIgZmVlZGJhY2tcclxuICAgICAgbGV0IHVubWF0Y2hlZFJlY29yZHNDb3VudCA9IDA7XHJcbiAgICAgIGNvbnN0IHVubWF0Y2hlZFJlY29yZHM6IHN0cmluZ1tdID0gW107XHJcblxyXG4gICAgICAvLyBDcmVhdGUgbWFpbnRlbmFuY2UgcmVjb3JkcyBmb3IgZWFjaCBpbXBvcnRlZCBpdGVtXHJcbiAgICAgIGNvbnN0IG1haW50ZW5hbmNlUmVjb3Jkc1RvQWRkID0gbmV3TWFpbnRlbmFuY2VEYXRhXHJcbiAgICAgICAgLm1hcCgocmVjb3JkKSA9PiB7XHJcbiAgICAgICAgICAvLyBUcnkgdG8gZmluZCB0aGUgbWFjaGluZSBJRCBieSBkZXNpZ25hdGlvblxyXG4gICAgICAgICAgbGV0IG1hY2hpbmVJZDogc3RyaW5nIHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkOyAvLyBVc2UgdW5kZWZpbmVkIGluc3RlYWQgb2YgbnVsbFxyXG5cclxuICAgICAgICAgIGlmIChyZWNvcmQubWFjaGluZURlc2lnbmF0aW9uKSB7XHJcbiAgICAgICAgICAgIC8vIEZpcnN0IHRyeSBleGFjdCBtYXRjaCB3aXRoIGRlc2lnbmF0aW9uXHJcbiAgICAgICAgICAgIG1hY2hpbmVJZCA9XHJcbiAgICAgICAgICAgICAgbWFjaGluZURlc2lnbmF0aW9uVG9JZE1hcC5nZXQoXHJcbiAgICAgICAgICAgICAgICByZWNvcmQubWFjaGluZURlc2lnbmF0aW9uLnRvTG93ZXJDYXNlKClcclxuICAgICAgICAgICAgICApIHx8IHVuZGVmaW5lZDtcclxuXHJcbiAgICAgICAgICAgIC8vIElmIG5vdCBmb3VuZCwgdHJ5IHBhcnRpYWwgbWF0Y2hcclxuICAgICAgICAgICAgaWYgKCFtYWNoaW5lSWQpIHtcclxuICAgICAgICAgICAgICBmb3IgKGNvbnN0IFtcclxuICAgICAgICAgICAgICAgIGRlc2lnbmF0aW9uLFxyXG4gICAgICAgICAgICAgICAgaWQsXHJcbiAgICAgICAgICAgICAgXSBvZiBtYWNoaW5lRGVzaWduYXRpb25Ub0lkTWFwLmVudHJpZXMoKSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICAgICAgICByZWNvcmQubWFjaGluZURlc2lnbmF0aW9uXHJcbiAgICAgICAgICAgICAgICAgICAgLnRvTG93ZXJDYXNlKClcclxuICAgICAgICAgICAgICAgICAgICAuaW5jbHVkZXMoZGVzaWduYXRpb24pIHx8XHJcbiAgICAgICAgICAgICAgICAgIGRlc2lnbmF0aW9uLmluY2x1ZGVzKHJlY29yZC5tYWNoaW5lRGVzaWduYXRpb24udG9Mb3dlckNhc2UoKSlcclxuICAgICAgICAgICAgICAgICkge1xyXG4gICAgICAgICAgICAgICAgICBtYWNoaW5lSWQgPSBpZDtcclxuICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBJZiBzdGlsbCBub3QgZm91bmQsIHRyeSB0byBtYXRjaCB3aXRoIG1hY2hpbmUgY29kZXNcclxuICAgICAgICAgICAgaWYgKCFtYWNoaW5lSWQpIHtcclxuICAgICAgICAgICAgICBtYWNoaW5lSWQgPVxyXG4gICAgICAgICAgICAgICAgbWFjaGluZUNvZGVUb0lkTWFwLmdldChyZWNvcmQubWFjaGluZURlc2lnbmF0aW9uKSB8fCB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIElmIHN0aWxsIG5vdCBmb3VuZCwgY29sbGVjdCBmb3IgZmVlZGJhY2tcclxuICAgICAgICAgICAgaWYgKCFtYWNoaW5lSWQpIHtcclxuICAgICAgICAgICAgICB1bm1hdGNoZWRSZWNvcmRzQ291bnQrKztcclxuICAgICAgICAgICAgICB1bm1hdGNoZWRSZWNvcmRzLnB1c2gocmVjb3JkLm1hY2hpbmVEZXNpZ25hdGlvbik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIE5vIG1hY2hpbmUgZGVzaWduYXRpb24gcHJvdmlkZWRcclxuICAgICAgICAgICAgdW5tYXRjaGVkUmVjb3Jkc0NvdW50Kys7XHJcbiAgICAgICAgICAgIHVubWF0Y2hlZFJlY29yZHMucHVzaChcIkF1Y3VuZSBkw6lzaWduYXRpb24gZm91cm5pZVwiKTtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAvLyBPbmx5IGluY2x1ZGUgbWFjaGluZV9pZCBpbiB0aGUgcmVjb3JkIGlmIGl0J3Mgbm90IHVuZGVmaW5lZFxyXG4gICAgICAgICAgY29uc3QgYmFzZVJlY29yZCA9IHtcclxuICAgICAgICAgICAgaWQ6IGBtYWludC0ke0RhdGUubm93KCl9LSR7TWF0aC5yYW5kb20oKVxyXG4gICAgICAgICAgICAgIC50b1N0cmluZygzNilcclxuICAgICAgICAgICAgICAuc3Vic3RyKDIsIDkpfWAsXHJcbiAgICAgICAgICAgIGRhdGU6IHJlY29yZC5kYXRlLFxyXG4gICAgICAgICAgICBzZXJ2aWNlX2hvdXJzOiByZWNvcmQuc2VydmljZUhvdXJzLFxyXG4gICAgICAgICAgICBtYWludGVuYW5jZV9yYW5nZTogcmVjb3JkLm1haW50ZW5hbmNlUmFuZ2UsXHJcbiAgICAgICAgICAgIGZpbHRlcnNfdXNlZDogW10sIC8vIEVtcHR5IGZvciBub3dcclxuICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgLy8gQWRkIG1hY2hpbmVfaWQgb25seSBpZiBpdCdzIGRlZmluZWRcclxuICAgICAgICAgIGlmIChtYWNoaW5lSWQgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgIC4uLmJhc2VSZWNvcmQsXHJcbiAgICAgICAgICAgICAgbWFjaGluZV9pZDogbWFjaGluZUlkLFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIGJhc2VSZWNvcmQ7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuZmlsdGVyKChyZWNvcmQpID0+IHJlY29yZC5kYXRlICYmIHJlY29yZC5kYXRlICE9PSBcIkludmFsaWQgRGF0ZVwiKTsgLy8gRmlsdGVyIG91dCByZWNvcmRzIHdpdGggaW52YWxpZCBkYXRlc1xyXG5cclxuICAgICAgLy8gSW5zZXJ0IGFsbCByZWNvcmRzIChpbmNsdWRpbmcgdGhvc2Ugd2l0aG91dCBtYXRjaGVkIG1hY2hpbmVzKVxyXG4gICAgICBpZiAobWFpbnRlbmFuY2VSZWNvcmRzVG9BZGQubGVuZ3RoID4gMCkge1xyXG4gICAgICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgICAgICAuZnJvbShcIm1haW50ZW5hbmNlX3JlY29yZHNcIilcclxuICAgICAgICAgIC5pbnNlcnQobWFpbnRlbmFuY2VSZWNvcmRzVG9BZGQgYXMgYW55KSAvLyBDYXN0IHRvIGFueSB0byBhdm9pZCB0eXBlIGlzc3Vlc1xyXG4gICAgICAgICAgLnNlbGVjdCgpO1xyXG5cclxuICAgICAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgICAgIHRocm93IGVycm9yO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gUmVmcmVzaCBkYXRhIHRvIHNob3cgdGhlIG5ldyByZWNvcmRzXHJcbiAgICAgICAgYXdhaXQgZmV0Y2hEYXRhKCk7XHJcblxyXG4gICAgICAgIC8vIFNob3cgc3VjY2VzcyBtZXNzYWdlIHdpdGggZGV0YWlscyBhYm91dCB1bm1hdGNoZWQgcmVjb3Jkc1xyXG4gICAgICAgIGxldCBkZXNjcmlwdGlvbiA9IGBEb25uw6llcyBkZSBtYWludGVuYW5jZSBpbXBvcnTDqWVzIGF2ZWMgc3VjY8Oocy4gJHttYWludGVuYW5jZVJlY29yZHNUb0FkZC5sZW5ndGh9IGVucmVnaXN0cmVtZW50cyBvbnQgw6l0w6kgYWpvdXTDqXMgw6AgbGEgdGFibGUgZGUgbWFpbnRlbmFuY2UuYDtcclxuXHJcbiAgICAgICAgaWYgKHVubWF0Y2hlZFJlY29yZHNDb3VudCA+IDApIHtcclxuICAgICAgICAgIGRlc2NyaXB0aW9uICs9IGAgJHt1bm1hdGNoZWRSZWNvcmRzQ291bnR9IGVucmVnaXN0cmVtZW50KHMpIG4nb250IHBhcyBwdSDDqnRyZSBhc3NvY2nDqXMgw6AgdW4gZW5naW4gZXhpc3RhbnQgZXQgc2Vyb250IGltcG9ydMOpcyBzYW5zIGFzc29jaWF0aW9uLmA7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBhZGRUb2FzdCh7XHJcbiAgICAgICAgICB0eXBlOiBcInN1Y2Nlc3NcIixcclxuICAgICAgICAgIHRpdGxlOiBcIkltcG9ydGF0aW9uIGRlIE1haW50ZW5hbmNlXCIsXHJcbiAgICAgICAgICBkZXNjcmlwdGlvbixcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgY29uc29sZS5sb2coXCJJbXBvcnRlZCBtYWludGVuYW5jZSByZWNvcmRzOlwiLCBkYXRhKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICAvLyBTaG93IG1lc3NhZ2UgaWYgbm8gcmVjb3JkcyB0byBpbXBvcnRcclxuICAgICAgICBhZGRUb2FzdCh7XHJcbiAgICAgICAgICB0eXBlOiBcImluZm9cIixcclxuICAgICAgICAgIHRpdGxlOiBcIkltcG9ydGF0aW9uIGRlIE1haW50ZW5hbmNlXCIsXHJcbiAgICAgICAgICBkZXNjcmlwdGlvbjogXCJBdWN1biBlbnJlZ2lzdHJlbWVudCBkZSBtYWludGVuYW5jZSDDoCBpbXBvcnRlci5cIixcclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xyXG4gICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgaW1wb3J0aW5nIG1haW50ZW5hbmNlIHJlY29yZHM6XCIsIGVycm9yKTtcclxuICAgICAgYWRkVG9hc3Qoe1xyXG4gICAgICAgIHR5cGU6IFwiZXJyb3JcIixcclxuICAgICAgICB0aXRsZTogXCJFcnJldXIgZCdpbXBvcnRhdGlvblwiLFxyXG4gICAgICAgIGRlc2NyaXB0aW9uOiBgw4ljaGVjIGRlIGwnaW1wb3J0YXRpb24gZGVzIGRvbm7DqWVzIGRlIG1haW50ZW5hbmNlOiAke2Vycm9yLm1lc3NhZ2V9YCxcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gTG9nIHRoZSBkYXRhIGZvciBkZWJ1Z2dpbmdcclxuICAgIGNvbnNvbGUubG9nKFwiTWFpbnRlbmFuY2UgZGF0YSB0byBpbXBvcnQ6XCIsIG5ld01haW50ZW5hbmNlRGF0YSk7XHJcblxyXG4gICAgY2xvc2VJbXBvcnRNb2RhbCgpO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IG9wZW5GaWx0ZXJHcm91cE1vZGFsID0gKGdyb3VwOiBGaWx0ZXJHcm91cCB8IG51bGwpID0+IHtcclxuICAgIHNldEVkaXRpbmdGaWx0ZXJHcm91cChncm91cCk7XHJcbiAgICBzZXRJc0ZpbHRlckdyb3VwTW9kYWxPcGVuKHRydWUpO1xyXG4gIH07XHJcbiAgY29uc3QgY2xvc2VGaWx0ZXJHcm91cE1vZGFsID0gKCkgPT4gc2V0SXNGaWx0ZXJHcm91cE1vZGFsT3BlbihmYWxzZSk7XHJcblxyXG4gIGNvbnN0IHNhdmVGaWx0ZXJHcm91cCA9IGFzeW5jIChcclxuICAgIGdyb3VwRGF0YTogRmlsdGVyR3JvdXAgfCBPbWl0PEZpbHRlckdyb3VwLCBcImlkXCI+XHJcbiAgKSA9PiB7XHJcbiAgICBjb25zdCBncm91cFRvU2F2ZSA9XHJcbiAgICAgIFwiaWRcIiBpbiBncm91cERhdGEgJiYgZ3JvdXBEYXRhLmlkXHJcbiAgICAgICAgPyB7XHJcbiAgICAgICAgICAgIGlkOiBncm91cERhdGEuaWQsXHJcbiAgICAgICAgICAgIG5hbWU6IGdyb3VwRGF0YS5uYW1lLFxyXG4gICAgICAgICAgICBmaWx0ZXJfdHlwZTogZ3JvdXBEYXRhLmZpbHRlclR5cGUsXHJcbiAgICAgICAgICAgIG9yaWdpbmFsX3JlZmVyZW5jZV9pZDogZ3JvdXBEYXRhLm9yaWdpbmFsUmVmZXJlbmNlSWQsXHJcbiAgICAgICAgICAgIHJlZmVyZW5jZXM6IGdyb3VwRGF0YS5yZWZlcmVuY2VzLFxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIDoge1xyXG4gICAgICAgICAgICBpZDogYGZnLSR7RGF0ZS5ub3coKX1gLFxyXG4gICAgICAgICAgICBuYW1lOiBncm91cERhdGEubmFtZSxcclxuICAgICAgICAgICAgZmlsdGVyX3R5cGU6IGdyb3VwRGF0YS5maWx0ZXJUeXBlLFxyXG4gICAgICAgICAgICBvcmlnaW5hbF9yZWZlcmVuY2VfaWQ6IGdyb3VwRGF0YS5vcmlnaW5hbFJlZmVyZW5jZUlkLFxyXG4gICAgICAgICAgICByZWZlcmVuY2VzOiBncm91cERhdGEucmVmZXJlbmNlcyxcclxuICAgICAgICAgIH07XHJcbiAgICBjb25zdCB7IGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAuZnJvbShcImZpbHRlcl9ncm91cHNcIilcclxuICAgICAgLnVwc2VydChncm91cFRvU2F2ZSBhcyBhbnkpO1xyXG4gICAgaWYgKGVycm9yKSB7XHJcbiAgICAgIGFkZFRvYXN0KHsgdHlwZTogXCJlcnJvclwiLCB0aXRsZTogXCJFcnJldXJcIiwgZGVzY3JpcHRpb246IGVycm9yLm1lc3NhZ2UgfSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBmZXRjaERhdGEoKTtcclxuICAgICAgY29uc3Qgc3VjY2Vzc01lc3NhZ2UgPVxyXG4gICAgICAgIFwiaWRcIiBpbiBncm91cERhdGEgJiYgZ3JvdXBEYXRhLmlkID8gXCJHcm91cGUgTWlzIMOgIEpvdXJcIiA6IFwiR3JvdXBlIENyw6nDqVwiO1xyXG4gICAgICBhZGRUb2FzdCh7XHJcbiAgICAgICAgdHlwZTogXCJzdWNjZXNzXCIsXHJcbiAgICAgICAgdGl0bGU6IHN1Y2Nlc3NNZXNzYWdlLFxyXG4gICAgICAgIGRlc2NyaXB0aW9uOiBgTGUgZ3JvdXBlICR7Z3JvdXBUb1NhdmUubmFtZX0gYSDDqXTDqSBzYXV2ZWdhcmTDqS5gLFxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICAgIGNsb3NlRmlsdGVyR3JvdXBNb2RhbCgpO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IGRlbGV0ZUZpbHRlckdyb3VwID0gYXN5bmMgKGdyb3VwSWQ6IHN0cmluZykgPT4ge1xyXG4gICAgY29uc3QgeyBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgLmZyb20oXCJmaWx0ZXJfZ3JvdXBzXCIpXHJcbiAgICAgIC5kZWxldGUoKVxyXG4gICAgICAuZXEoXCJpZFwiLCBncm91cElkKTtcclxuICAgIGlmIChlcnJvcikge1xyXG4gICAgICBhZGRUb2FzdCh7IHR5cGU6IFwiZXJyb3JcIiwgdGl0bGU6IFwiRXJyZXVyXCIsIGRlc2NyaXB0aW9uOiBlcnJvci5tZXNzYWdlIH0pO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgLy8gQWxzbyBuZWVkIHRvIHVuLWFzc2lnbiBmcm9tIG1hY2hpbmVzLiBUaGlzIGlzIGEgbm9uLWF0b21pYyBvcGVyYXRpb24gZm9yIHNpbXBsaWNpdHkuXHJcbiAgICAgIG1hY2hpbmVzLmZvckVhY2goYXN5bmMgKG0pID0+IHtcclxuICAgICAgICBpZiAobS5hc3NpZ25lZEZpbHRlcnMuc29tZSgoYWYpID0+IGFmLmZpbHRlckdyb3VwSWQgPT09IGdyb3VwSWQpKSB7XHJcbiAgICAgICAgICBjb25zdCBuZXdBc3NpZ25lZCA9IG0uYXNzaWduZWRGaWx0ZXJzLm1hcCgoYWYpID0+XHJcbiAgICAgICAgICAgIGFmLmZpbHRlckdyb3VwSWQgPT09IGdyb3VwSWQgPyB7IC4uLmFmLCBmaWx0ZXJHcm91cElkOiBudWxsIH0gOiBhZlxyXG4gICAgICAgICAgKTtcclxuICAgICAgICAgIGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgICAgICAgIC5mcm9tKFwibWFjaGluZXNcIilcclxuICAgICAgICAgICAgLnVwZGF0ZSh7IGFzc2lnbmVkX2ZpbHRlcnM6IG5ld0Fzc2lnbmVkIGFzIGFueSB9KVxyXG4gICAgICAgICAgICAuZXEoXCJpZFwiLCBtLmlkKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgICBmZXRjaERhdGEoKTtcclxuICAgICAgYWRkVG9hc3QoeyB0eXBlOiBcImluZm9cIiwgdGl0bGU6IFwiR3JvdXBlIFN1cHByaW3DqVwiIH0pO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIGNvbnN0IG9wZW5NYWludGVuYW5jZU1vZGFsID0gKFxyXG4gICAgcmVjb3JkOiBQYXJ0aWFsPE1haW50ZW5hbmNlUmVjb3JkPiB8IG51bGwsXHJcbiAgICB2aWV3T25seTogYm9vbGVhbiA9IGZhbHNlXHJcbiAgKSA9PiB7XHJcbiAgICBzZXRFZGl0aW5nTWFpbnRlbmFuY2VSZWNvcmQocmVjb3JkKTtcclxuICAgIHNldElzTWFpbnRlbmFuY2VWaWV3T25seSh2aWV3T25seSk7XHJcbiAgICBzZXRJc01haW50ZW5hbmNlTW9kYWxPcGVuKHRydWUpO1xyXG4gIH07XHJcbiAgY29uc3QgY2xvc2VNYWludGVuYW5jZU1vZGFsID0gKCkgPT4gc2V0SXNNYWludGVuYW5jZU1vZGFsT3BlbihmYWxzZSk7XHJcblxyXG4gIGNvbnN0IHNhdmVNYWludGVuYW5jZVJlY29yZCA9IGFzeW5jIChcclxuICAgIHJlY29yZERhdGE6IE1haW50ZW5hbmNlUmVjb3JkIHwgT21pdDxNYWludGVuYW5jZVJlY29yZCwgXCJpZFwiPlxyXG4gICkgPT4ge1xyXG4gICAgY29uc3QgcmVjb3JkVG9TYXZlID1cclxuICAgICAgXCJpZFwiIGluIHJlY29yZERhdGEgJiYgcmVjb3JkRGF0YS5pZFxyXG4gICAgICAgID8ge1xyXG4gICAgICAgICAgICBpZDogcmVjb3JkRGF0YS5pZCxcclxuICAgICAgICAgICAgbWFjaGluZV9pZDogcmVjb3JkRGF0YS5tYWNoaW5lSWQsXHJcbiAgICAgICAgICAgIGRhdGU6IHJlY29yZERhdGEuZGF0ZSxcclxuICAgICAgICAgICAgc2VydmljZV9ob3VyczogcmVjb3JkRGF0YS5zZXJ2aWNlSG91cnMsXHJcbiAgICAgICAgICAgIG1haW50ZW5hbmNlX3JhbmdlOiByZWNvcmREYXRhLm1haW50ZW5hbmNlUmFuZ2UsXHJcbiAgICAgICAgICAgIGZpbHRlcnNfdXNlZDogcmVjb3JkRGF0YS5maWx0ZXJzVXNlZCxcclxuICAgICAgICAgIH1cclxuICAgICAgICA6IHtcclxuICAgICAgICAgICAgaWQ6IGBtYWludC0ke0RhdGUubm93KCl9YCxcclxuICAgICAgICAgICAgbWFjaGluZV9pZDogcmVjb3JkRGF0YS5tYWNoaW5lSWQsXHJcbiAgICAgICAgICAgIGRhdGU6IHJlY29yZERhdGEuZGF0ZSxcclxuICAgICAgICAgICAgc2VydmljZV9ob3VyczogcmVjb3JkRGF0YS5zZXJ2aWNlSG91cnMsXHJcbiAgICAgICAgICAgIG1haW50ZW5hbmNlX3JhbmdlOiByZWNvcmREYXRhLm1haW50ZW5hbmNlUmFuZ2UsXHJcbiAgICAgICAgICAgIGZpbHRlcnNfdXNlZDogcmVjb3JkRGF0YS5maWx0ZXJzVXNlZCxcclxuICAgICAgICAgIH07XHJcbiAgICBjb25zdCB7IGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAuZnJvbShcIm1haW50ZW5hbmNlX3JlY29yZHNcIilcclxuICAgICAgLnVwc2VydChyZWNvcmRUb1NhdmUgYXMgYW55KTtcclxuXHJcbiAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgYWRkVG9hc3QoeyB0eXBlOiBcImVycm9yXCIsIHRpdGxlOiBcIkVycmV1clwiLCBkZXNjcmlwdGlvbjogZXJyb3IubWVzc2FnZSB9KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGNvbnN0IG1hY2hpbmUgPSBtYWNoaW5lcy5maW5kKChtKSA9PiBtLmlkID09PSByZWNvcmREYXRhLm1hY2hpbmVJZCk7XHJcbiAgICAgIGlmIChtYWNoaW5lICYmIHJlY29yZERhdGEuc2VydmljZUhvdXJzID4gbWFjaGluZS5zZXJ2aWNlSG91cnMpIHtcclxuICAgICAgICBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAgICAgLmZyb20oXCJtYWNoaW5lc1wiKVxyXG4gICAgICAgICAgLnVwZGF0ZSh7IHNlcnZpY2VfaG91cnM6IHJlY29yZERhdGEuc2VydmljZUhvdXJzIH0pXHJcbiAgICAgICAgICAuZXEoXCJpZFwiLCBtYWNoaW5lLmlkKTtcclxuICAgICAgfVxyXG4gICAgICBmZXRjaERhdGEoKTtcclxuICAgICAgY29uc3Qgc3VjY2Vzc01lc3NhZ2UgPVxyXG4gICAgICAgIFwiaWRcIiBpbiByZWNvcmREYXRhICYmIHJlY29yZERhdGEuaWRcclxuICAgICAgICAgID8gXCJNYWludGVuYW5jZSBNaXNlIMOgIEpvdXJcIlxyXG4gICAgICAgICAgOiBcIk1haW50ZW5hbmNlIEVucmVnaXN0csOpZVwiO1xyXG4gICAgICBhZGRUb2FzdCh7IHR5cGU6IFwic3VjY2Vzc1wiLCB0aXRsZTogc3VjY2Vzc01lc3NhZ2UgfSk7XHJcbiAgICB9XHJcbiAgICBjbG9zZU1haW50ZW5hbmNlTW9kYWwoKTtcclxuICB9O1xyXG5cclxuICBjb25zdCBkZWxldGVNYWludGVuYW5jZVJlY29yZCA9IGFzeW5jIChyZWNvcmRJZDogc3RyaW5nKSA9PiB7XHJcbiAgICBjb25zdCB7IGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAuZnJvbShcIm1haW50ZW5hbmNlX3JlY29yZHNcIilcclxuICAgICAgLmRlbGV0ZSgpXHJcbiAgICAgIC5lcShcImlkXCIsIHJlY29yZElkKTtcclxuICAgIGlmIChlcnJvcikge1xyXG4gICAgICBhZGRUb2FzdCh7IHR5cGU6IFwiZXJyb3JcIiwgdGl0bGU6IFwiRXJyZXVyXCIsIGRlc2NyaXB0aW9uOiBlcnJvci5tZXNzYWdlIH0pO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgZmV0Y2hEYXRhKCk7XHJcbiAgICAgIGFkZFRvYXN0KHsgdHlwZTogXCJpbmZvXCIsIHRpdGxlOiBcIkVucmVnaXN0cmVtZW50IFN1cHByaW3DqVwiIH0pO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIGNvbnN0IGhhbmRsZU5vdGlmaWNhdGlvbkNsaWNrID0gKG5vdGlmaWNhdGlvbjogTm90aWZpY2F0aW9uKSA9PiB7XHJcbiAgICBzZXROb3RpZmljYXRpb25zKChwcmV2KSA9PlxyXG4gICAgICBwcmV2Lm1hcCgobikgPT4gKG4uaWQgPT09IG5vdGlmaWNhdGlvbi5pZCA/IHsgLi4ubiwgcmVhZDogdHJ1ZSB9IDogbikpXHJcbiAgICApO1xyXG4gICAgaWYgKG5vdGlmaWNhdGlvbi50eXBlID09PSBcIm1haW50ZW5hbmNlXCIpIHtcclxuICAgICAgc2VsZWN0TWFjaGluZShub3RpZmljYXRpb24uZW50aXR5SWQpO1xyXG4gICAgfSBlbHNlIGlmIChub3RpZmljYXRpb24udHlwZSA9PT0gXCJzdG9ja1wiKSB7XHJcbiAgICAgIG5hdmlnYXRlVG9GaWx0ZXJHcm91cChub3RpZmljYXRpb24uZW50aXR5SWQpO1xyXG4gICAgfVxyXG4gIH07XHJcbiAgY29uc3QgbWFya0FsbE5vdGlmaWNhdGlvbnNBc1JlYWQgPSAoKSA9PiB7XHJcbiAgICBzZXROb3RpZmljYXRpb25zKChwcmV2KSA9PiBwcmV2Lm1hcCgobikgPT4gKHsgLi4ubiwgcmVhZDogdHJ1ZSB9KSkpO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IG9wZW5BZGRTdG9ja01vZGFsID0gKGluZm86IFN0b2NrVXBkYXRlSW5mbykgPT4ge1xyXG4gICAgc2V0U3RvY2tVcGRhdGVJbmZvKGluZm8pO1xyXG4gICAgc2V0SXNBZGRTdG9ja01vZGFsT3Blbih0cnVlKTtcclxuICB9O1xyXG4gIGNvbnN0IGNsb3NlQWRkU3RvY2tNb2RhbCA9ICgpID0+IHNldElzQWRkU3RvY2tNb2RhbE9wZW4oZmFsc2UpO1xyXG5cclxuICBjb25zdCBhZGRTdG9jayA9IGFzeW5jIChxdWFudGl0eTogbnVtYmVyKSA9PiB7XHJcbiAgICBpZiAoIXN0b2NrVXBkYXRlSW5mbykgcmV0dXJuO1xyXG4gICAgY29uc3QgeyBmaWx0ZXJSZWZlcmVuY2UsIGZpbHRlckdyb3VwSWQgfSA9IHN0b2NrVXBkYXRlSW5mbztcclxuXHJcbiAgICBjb25zdCBncm91cFRvVXBkYXRlID0gZmlsdGVyR3JvdXBzLmZpbmQoKGcpID0+IGcuaWQgPT09IGZpbHRlckdyb3VwSWQpO1xyXG4gICAgaWYgKCFncm91cFRvVXBkYXRlKSByZXR1cm47XHJcblxyXG4gICAgY29uc3QgbmV3UmVmZXJlbmNlcyA9IGdyb3VwVG9VcGRhdGUucmVmZXJlbmNlcy5tYXAoKHJlZikgPT5cclxuICAgICAgcmVmLmlkID09PSBmaWx0ZXJSZWZlcmVuY2UuaWRcclxuICAgICAgICA/IHsgLi4ucmVmLCBzdG9jazogcmVmLnN0b2NrICsgcXVhbnRpdHkgfVxyXG4gICAgICAgIDogcmVmXHJcbiAgICApO1xyXG5cclxuICAgIGNvbnN0IHsgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgIC5mcm9tKFwiZmlsdGVyX2dyb3Vwc1wiKVxyXG4gICAgICAudXBkYXRlKHsgcmVmZXJlbmNlczogbmV3UmVmZXJlbmNlcyBhcyBhbnkgfSlcclxuICAgICAgLmVxKFwiaWRcIiwgZmlsdGVyR3JvdXBJZCk7XHJcblxyXG4gICAgaWYgKGVycm9yKSB7XHJcbiAgICAgIGFkZFRvYXN0KHsgdHlwZTogXCJlcnJvclwiLCB0aXRsZTogXCJFcnJldXJcIiwgZGVzY3JpcHRpb246IGVycm9yLm1lc3NhZ2UgfSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBmZXRjaERhdGEoKTtcclxuICAgICAgYWRkVG9hc3Qoe1xyXG4gICAgICAgIHR5cGU6IFwic3VjY2Vzc1wiLFxyXG4gICAgICAgIHRpdGxlOiBcIlN0b2NrIEFqb3V0w6lcIixcclxuICAgICAgICBkZXNjcmlwdGlvbjogYCR7cXVhbnRpdHl9IHVuaXTDqShzKSBham91dMOpZShzKSBwb3VyICR7ZmlsdGVyUmVmZXJlbmNlLnJlZmVyZW5jZX0uYCxcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBjbG9zZUFkZFN0b2NrTW9kYWwoKTtcclxuICB9O1xyXG5cclxuICBjb25zdCBzZXRUaGVtZSA9ICh0aGVtZUlkOiBUaGVtZSkgPT4ge1xyXG4gICAgX3NldFRoZW1lKHRoZW1lSWQpO1xyXG4gICAgaWYgKHRoZW1lSWQuc3RhcnRzV2l0aChcImN1c3RvbS1cIikpIHtcclxuICAgICAgY29uc3Qgc2F2ZWQgPSBzYXZlZFRoZW1lcy5maW5kKCh0KSA9PiB0LmlkID09PSB0aGVtZUlkKTtcclxuICAgICAgaWYgKHNhdmVkKSBzZXRDdXN0b21Db2xvcnMoc2F2ZWQuY29sb3JzKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICBjb25zdCBvcGVuVGhlbWVDdXN0b21pemVyID0gKHRoZW1lVG9FZGl0OiBTYXZlZFRoZW1lIHwgbnVsbCkgPT4ge1xyXG4gICAgc2V0RWRpdGluZ0N1c3RvbVRoZW1lKHRoZW1lVG9FZGl0KTtcclxuICAgIHNldEN1c3RvbUNvbG9ycyh0aGVtZVRvRWRpdCA/IHRoZW1lVG9FZGl0LmNvbG9ycyA6IGRlZmF1bHRDdXN0b21Db2xvcnMpO1xyXG4gICAgc2V0SXNUaGVtZUN1c3RvbWl6ZXJPcGVuKHRydWUpO1xyXG4gIH07XHJcbiAgY29uc3QgY2xvc2VUaGVtZUN1c3RvbWl6ZXIgPSAoKSA9PiB7XHJcbiAgICBzZXRUaGVtZSh0aGVtZSk7XHJcbiAgICBzZXRJc1RoZW1lQ3VzdG9taXplck9wZW4oZmFsc2UpO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IHNhdmVDdXN0b21UaGVtZSA9IChcclxuICAgIHRoZW1lRGF0YTogT21pdDxTYXZlZFRoZW1lLCBcImlkXCI+ICYgeyBpZD86IHN0cmluZyB9XHJcbiAgKSA9PiB7XHJcbiAgICBpZiAodGhlbWVEYXRhLmlkKSB7XHJcbiAgICAgIGNvbnN0IHVwZGF0ZWRUaGVtZXMgPSBzYXZlZFRoZW1lcy5tYXAoKHQpID0+XHJcbiAgICAgICAgdC5pZCA9PT0gdGhlbWVEYXRhLmlkID8geyAuLi50LCAuLi50aGVtZURhdGEgfSA6IHRcclxuICAgICAgKTtcclxuICAgICAgc2V0U2F2ZWRUaGVtZXModXBkYXRlZFRoZW1lcyk7XHJcbiAgICAgIHNldFRoZW1lKHRoZW1lRGF0YS5pZCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjb25zdCBuZXdUaGVtZTogU2F2ZWRUaGVtZSA9IHsgLi4udGhlbWVEYXRhLCBpZDogYGN1c3RvbS0ke0RhdGUubm93KCl9YCB9O1xyXG4gICAgICBzZXRTYXZlZFRoZW1lcyhbLi4uc2F2ZWRUaGVtZXMsIG5ld1RoZW1lXSk7XHJcbiAgICAgIHNldFRoZW1lKG5ld1RoZW1lLmlkKTtcclxuICAgIH1cclxuICAgIGFkZFRvYXN0KHtcclxuICAgICAgdHlwZTogXCJzdWNjZXNzXCIsXHJcbiAgICAgIHRpdGxlOiBcIlRow6htZSBFbnJlZ2lzdHLDqVwiLFxyXG4gICAgICBkZXNjcmlwdGlvbjogYExlIHRow6htZSBcIiR7dGhlbWVEYXRhLm5hbWV9XCIgYSDDqXTDqSBzYXV2ZWdhcmTDqS5gLFxyXG4gICAgfSk7XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgZGVsZXRlQ3VzdG9tVGhlbWUgPSAodGhlbWVJZDogc3RyaW5nKSA9PiB7XHJcbiAgICBzZXRTYXZlZFRoZW1lcyhzYXZlZFRoZW1lcy5maWx0ZXIoKHQpID0+IHQuaWQgIT09IHRoZW1lSWQpKTtcclxuICAgIGlmICh0aGVtZSA9PT0gdGhlbWVJZCkge1xyXG4gICAgICBzZXRUaGVtZShcImRlZmF1bHQtbGlnaHRcIik7XHJcbiAgICB9XHJcbiAgICBhZGRUb2FzdCh7IHR5cGU6IFwiaW5mb1wiLCB0aXRsZTogXCJUaMOobWUgU3VwcHJpbcOpXCIgfSk7XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgYWN0aW9ucyA9IHtcclxuICAgIHNldEN1cnJlbnRWaWV3LFxyXG4gICAgdG9nZ2xlU2lkZWJhcixcclxuICAgIGNsb3NlU2lkZWJhcixcclxuICAgIHNlbGVjdE1hY2hpbmUsXHJcbiAgICBhc3NpZ25GaWx0ZXJUb01hY2hpbmUsXHJcbiAgICBhZGRGaWx0ZXJUeXBlVG9NYWNoaW5lLFxyXG4gICAgcmVtb3ZlRmlsdGVyVHlwZUZyb21NYWNoaW5lLFxyXG4gICAgb3BlbkNvbmZpcm1hdGlvbkRpYWxvZyxcclxuICAgIGNsb3NlQ29uZmlybWF0aW9uRGlhbG9nLFxyXG4gICAgaGFuZGxlQ29uZmlybSxcclxuICAgIG9wZW5NYWNoaW5lTW9kYWwsXHJcbiAgICBjbG9zZU1hY2hpbmVNb2RhbCxcclxuICAgIHNhdmVNYWNoaW5lLFxyXG4gICAgZGVsZXRlTWFjaGluZSxcclxuICAgIG9wZW5GaWx0ZXJHcm91cE1vZGFsLFxyXG4gICAgY2xvc2VGaWx0ZXJHcm91cE1vZGFsLFxyXG4gICAgc2F2ZUZpbHRlckdyb3VwLFxyXG4gICAgZGVsZXRlRmlsdGVyR3JvdXAsXHJcbiAgICBvcGVuTWFpbnRlbmFuY2VNb2RhbCxcclxuICAgIGNsb3NlTWFpbnRlbmFuY2VNb2RhbCxcclxuICAgIHNhdmVNYWludGVuYW5jZVJlY29yZCxcclxuICAgIGRlbGV0ZU1haW50ZW5hbmNlUmVjb3JkLFxyXG4gICAgbmF2aWdhdGVUb0ZpbHRlckdyb3VwLFxyXG4gICAgY2xlYXJIaWdobGlnaHRlZEZpbHRlckdyb3VwOiAoKSA9PiBzZXRIaWdobGlnaHRlZEZpbHRlckdyb3VwSWQobnVsbCksXHJcbiAgICBoYW5kbGVOb3RpZmljYXRpb25DbGljayxcclxuICAgIG1hcmtBbGxOb3RpZmljYXRpb25zQXNSZWFkLFxyXG4gICAgb3BlbkFJQXNzaXN0YW50OiAoKSA9PiBzZXRJc0FJQXNzaXN0YW50T3Blbih0cnVlKSxcclxuICAgIGNsb3NlQUlBc3Npc3RhbnQ6ICgpID0+IHNldElzQUlBc3Npc3RhbnRPcGVuKGZhbHNlKSxcclxuICAgIG9wZW5TY2FubmVyOiAoKSA9PiBzZXRJc1NjYW5uZXJPcGVuKHRydWUpLFxyXG4gICAgY2xvc2VTY2FubmVyOiAoKSA9PiBzZXRJc1NjYW5uZXJPcGVuKGZhbHNlKSxcclxuICAgIGFkZFRvYXN0LFxyXG4gICAgcmVtb3ZlVG9hc3QsXHJcbiAgICBvcGVuQWRkU3RvY2tNb2RhbCxcclxuICAgIGNsb3NlQWRkU3RvY2tNb2RhbCxcclxuICAgIGFkZFN0b2NrLFxyXG4gICAgc2V0VGhlbWUsXHJcbiAgICBvcGVuVGhlbWVDdXN0b21pemVyLFxyXG4gICAgY2xvc2VUaGVtZUN1c3RvbWl6ZXIsXHJcbiAgICBzYXZlQ3VzdG9tVGhlbWUsXHJcbiAgICBkZWxldGVDdXN0b21UaGVtZSxcclxuICAgIG9wZW5JbXBvcnRNb2RhbDogKCkgPT4gc2V0SXNJbXBvcnRNb2RhbE9wZW4odHJ1ZSksXHJcbiAgICBjbG9zZUltcG9ydE1vZGFsLFxyXG4gICAgaW1wb3J0TWFjaGluZXMsXHJcbiAgICBpbXBvcnRNYWludGVuYW5jZVJlY29yZHMsXHJcbiAgfTtcclxuXHJcbiAgY29uc3Qgc3RhdGUgPSB7XHJcbiAgICBpc0xvYWRpbmcsXHJcbiAgICBjdXJyZW50VmlldyxcclxuICAgIG1hY2hpbmVzLFxyXG4gICAgZmlsdGVyR3JvdXBzLFxyXG4gICAgZmlsdGVyVHlwZXMsXHJcbiAgICBzZWxlY3RlZE1hY2hpbmUsXHJcbiAgICBtYWludGVuYW5jZVJlY29yZHMsXHJcbiAgICB0aGVtZSxcclxuICAgIGN1c3RvbUNvbG9ycyxcclxuICAgIHNhdmVkVGhlbWVzLFxyXG4gICAgaGlnaGxpZ2h0ZWRGaWx0ZXJHcm91cElkLFxyXG4gICAgaXNTaWRlYmFyT3BlbixcclxuICAgIG5vdGlmaWNhdGlvbnMsXHJcbiAgICB0b2FzdHMsXHJcbiAgICBpc1NjYW5uZXJPcGVuLFxyXG4gICAgaXNBSUFzc2lzdGFudE9wZW4sXHJcbiAgICBpc01hY2hpbmVNb2RhbE9wZW4sXHJcbiAgICBlZGl0aW5nTWFjaGluZSxcclxuICAgIGlzRmlsdGVyR3JvdXBNb2RhbE9wZW4sXHJcbiAgICBlZGl0aW5nRmlsdGVyR3JvdXAsXHJcbiAgICBpc01haW50ZW5hbmNlTW9kYWxPcGVuLFxyXG4gICAgZWRpdGluZ01haW50ZW5hbmNlUmVjb3JkLFxyXG4gICAgaXNNYWludGVuYW5jZVZpZXdPbmx5LFxyXG4gICAgaXNBZGRTdG9ja01vZGFsT3BlbixcclxuICAgIHN0b2NrVXBkYXRlSW5mbyxcclxuICAgIGlzVGhlbWVDdXN0b21pemVyT3BlbixcclxuICAgIGVkaXRpbmdDdXN0b21UaGVtZSxcclxuICAgIGlzSW1wb3J0TW9kYWxPcGVuLFxyXG4gICAgY29uZmlybWF0aW9uRGlhbG9nQ29uZmlnLFxyXG4gIH07XHJcblxyXG4gIHJldHVybiB7IHN0YXRlLCBhY3Rpb25zIH07XHJcbn07XHJcbiJdLCJuYW1lcyI6WyJ1c2VTdGF0ZSIsInVzZUVmZmVjdCIsInVzZUNhbGxiYWNrIiwiVmlldyIsImNhbGN1bGF0ZU5leHRNYWludGVuYW5jZSIsInN1cGFiYXNlIiwibG9hZEZyb21TdG9yYWdlIiwia2V5IiwiZGVmYXVsdFZhbHVlIiwibG9jYWxTdG9yYWdlIiwic3RvcmVkVmFsdWUiLCJnZXRJdGVtIiwiSlNPTiIsInBhcnNlIiwiZSIsInN0YXJ0c1dpdGgiLCJjb25zb2xlIiwid2FybiIsImVycm9yIiwiZGVmYXVsdEN1c3RvbUNvbG9ycyIsImJhY2tncm91bmQiLCJmb3JlZ3JvdW5kIiwiZm9yZWdyb3VuZFNlY29uZGFyeSIsImNhcmQiLCJjYXJkRm9yZWdyb3VuZCIsInByaW1hcnkiLCJwcmltYXJ5Rm9yZWdyb3VuZCIsImFjY2VudCIsImRlc3RydWN0aXZlIiwiZGVzdHJ1Y3RpdmVGb3JlZ3JvdW5kIiwiYm9yZGVyIiwiaW5wdXQiLCJyaW5nIiwiY2FyZEJvcmRlcnMiLCJ1c2VBcHBMb2dpYyIsImlzTG9hZGluZyIsInNldElzTG9hZGluZyIsImN1cnJlbnRWaWV3Iiwic2V0Q3VycmVudFZpZXciLCJEQVNIQk9BUkQiLCJtYWNoaW5lcyIsInNldE1hY2hpbmVzIiwiZmlsdGVyR3JvdXBzIiwic2V0RmlsdGVyR3JvdXBzIiwiZmlsdGVyVHlwZXMiLCJzZXRGaWx0ZXJUeXBlcyIsInNlbGVjdGVkTWFjaGluZSIsInNldFNlbGVjdGVkTWFjaGluZSIsIm1haW50ZW5hbmNlUmVjb3JkcyIsInNldE1haW50ZW5hbmNlUmVjb3JkcyIsInRoZW1lIiwiX3NldFRoZW1lIiwic2F2ZWRUaGVtZXMiLCJzZXRTYXZlZFRoZW1lcyIsImN1c3RvbUNvbG9ycyIsInNldEN1c3RvbUNvbG9ycyIsInNhdmVkIiwiaGlnaGxpZ2h0ZWRGaWx0ZXJHcm91cElkIiwic2V0SGlnaGxpZ2h0ZWRGaWx0ZXJHcm91cElkIiwiaXNTaWRlYmFyT3BlbiIsInNldElzU2lkZWJhck9wZW4iLCJub3RpZmljYXRpb25zIiwic2V0Tm90aWZpY2F0aW9ucyIsInRvYXN0cyIsInNldFRvYXN0cyIsImlzU2Nhbm5lck9wZW4iLCJzZXRJc1NjYW5uZXJPcGVuIiwiaXNBSUFzc2lzdGFudE9wZW4iLCJzZXRJc0FJQXNzaXN0YW50T3BlbiIsImlzTWFjaGluZU1vZGFsT3BlbiIsInNldElzTWFjaGluZU1vZGFsT3BlbiIsImVkaXRpbmdNYWNoaW5lIiwic2V0RWRpdGluZ01hY2hpbmUiLCJpc0ZpbHRlckdyb3VwTW9kYWxPcGVuIiwic2V0SXNGaWx0ZXJHcm91cE1vZGFsT3BlbiIsImVkaXRpbmdGaWx0ZXJHcm91cCIsInNldEVkaXRpbmdGaWx0ZXJHcm91cCIsImlzTWFpbnRlbmFuY2VNb2RhbE9wZW4iLCJzZXRJc01haW50ZW5hbmNlTW9kYWxPcGVuIiwiZWRpdGluZ01haW50ZW5hbmNlUmVjb3JkIiwic2V0RWRpdGluZ01haW50ZW5hbmNlUmVjb3JkIiwiaXNNYWludGVuYW5jZVZpZXdPbmx5Iiwic2V0SXNNYWludGVuYW5jZVZpZXdPbmx5IiwiaXNBZGRTdG9ja01vZGFsT3BlbiIsInNldElzQWRkU3RvY2tNb2RhbE9wZW4iLCJzdG9ja1VwZGF0ZUluZm8iLCJzZXRTdG9ja1VwZGF0ZUluZm8iLCJpc1RoZW1lQ3VzdG9taXplck9wZW4iLCJzZXRJc1RoZW1lQ3VzdG9taXplck9wZW4iLCJlZGl0aW5nQ3VzdG9tVGhlbWUiLCJzZXRFZGl0aW5nQ3VzdG9tVGhlbWUiLCJpc0ltcG9ydE1vZGFsT3BlbiIsInNldElzSW1wb3J0TW9kYWxPcGVuIiwiY29uZmlybWF0aW9uRGlhbG9nQ29uZmlnIiwic2V0Q29uZmlybWF0aW9uRGlhbG9nQ29uZmlnIiwiaXNPcGVuIiwidGl0bGUiLCJkZXNjcmlwdGlvbiIsIm9uQ29uZmlybSIsImFkZFRvYXN0IiwidG9hc3QiLCJpZCIsIkRhdGUiLCJub3ciLCJwcmV2IiwiZmV0Y2hEYXRhIiwibWFjaGluZXNSZXMiLCJmaWx0ZXJHcm91cHNSZXMiLCJmaWx0ZXJUeXBlc1JlcyIsIm1haW50ZW5hbmNlUmVjb3Jkc1JlcyIsIlByb21pc2UiLCJhbGwiLCJmcm9tIiwic2VsZWN0IiwidHJhbnNmb3JtZWRNYWNoaW5lcyIsImRhdGEiLCJtYXAiLCJtYWNoaW5lIiwiY29kZSIsImRlc2lnbmF0aW9uIiwibWFycXVlIiwidHlwZSIsInNlcmlhbE51bWJlciIsInNlcmlhbF9udW1iZXIiLCJyZWdpc3RyYXRpb25OdW1iZXIiLCJyZWdpc3RyYXRpb25fbnVtYmVyIiwic2VydmljZUhvdXJzIiwic2VydmljZV9ob3VycyIsImFzc2lnbmVkRmlsdGVycyIsImFzc2lnbmVkX2ZpbHRlcnMiLCJ0cmFuc2Zvcm1lZEZpbHRlckdyb3VwcyIsImdyb3VwIiwibmFtZSIsImZpbHRlclR5cGUiLCJmaWx0ZXJfdHlwZSIsIm9yaWdpbmFsUmVmZXJlbmNlSWQiLCJvcmlnaW5hbF9yZWZlcmVuY2VfaWQiLCJyZWZlcmVuY2VzIiwidHJhbnNmb3JtZWRNYWludGVuYW5jZVJlY29yZHMiLCJyZWNvcmQiLCJtYWNoaW5lSWQiLCJtYWNoaW5lX2lkIiwibWFpbnRlbmFuY2VSYW5nZSIsIm1haW50ZW5hbmNlX3JhbmdlIiwiZGF0ZSIsImZpbHRlcnNVc2VkIiwiZmlsdGVyc191c2VkIiwibWVzc2FnZSIsInNldEl0ZW0iLCJzdHJpbmdpZnkiLCJyZW1vdmVUb2FzdCIsImZpbHRlciIsInQiLCJuYXZpZ2F0ZVRvRmlsdGVyR3JvdXAiLCJncm91cElkIiwiRklMVEVSX01BTkFHRU1FTlQiLCJ0b0lTT1N0cmluZyIsImN1cnJlbnRWYWxpZEFsZXJ0cyIsImhpc3RvcnlCeU1hY2hpbmUiLCJNYXAiLCJmb3JFYWNoIiwicmVjIiwiaGFzIiwic2V0IiwiZ2V0IiwicHVzaCIsImhpc3RvcnkiLCJuZXh0TWFpbnQiLCJkdWVJbiIsImhvdXJzIiwiZ2FtbWUiLCJlbnRpdHlJZCIsInJlZiIsInN0b2NrIiwicmVmZXJlbmNlIiwibWFudWZhY3R1cmVyIiwicHJldk5vdGlmaWNhdGlvbnMiLCJwcmV2TWFwIiwibiIsIm5leHROb3RpZmljYXRpb25zIiwiYWxlcnQiLCJyZWFkIiwiY3JlYXRlZEF0IiwidG9nZ2xlU2lkZWJhciIsImNsb3NlU2lkZWJhciIsInNlbGVjdE1hY2hpbmUiLCJmaW5kIiwibSIsIk1BQ0hJTkVfREVUQUlMIiwiYXNzaWduRmlsdGVyVG9NYWNoaW5lIiwiZmlsdGVyVHlwZUlkIiwiZmlsdGVyR3JvdXBJZCIsIm1hY2hpbmVUb1VwZGF0ZSIsIm5ld0Fzc2lnbmVkRmlsdGVycyIsImV4aXN0aW5nSW5kZXgiLCJmaW5kSW5kZXgiLCJhZiIsInVwZGF0ZSIsImVxIiwidXBkYXRlZE1hY2hpbmUiLCJhZGRGaWx0ZXJUeXBlVG9NYWNoaW5lIiwic29tZSIsInJlbW92ZUZpbHRlclR5cGVGcm9tTWFjaGluZSIsIm9wZW5Db25maXJtYXRpb25EaWFsb2ciLCJjb25maWciLCJjbG9zZUNvbmZpcm1hdGlvbkRpYWxvZyIsImhhbmRsZUNvbmZpcm0iLCJvcGVuTWFjaGluZU1vZGFsIiwiY2xvc2VNYWNoaW5lTW9kYWwiLCJzYXZlTWFjaGluZSIsIm1hY2hpbmVEYXRhIiwibWFjaGluZVRvU2F2ZSIsInVwc2VydCIsInN1Y2Nlc3NNZXNzYWdlIiwidHJhbnNmb3JtZWRNYWNoaW5lIiwiZGVsZXRlTWFjaGluZSIsImRlbGV0ZSIsImNsb3NlSW1wb3J0TW9kYWwiLCJpbXBvcnRNYWNoaW5lcyIsIm5ld01hY2hpbmVzRGF0YSIsIm1hY2hpbmVzVG9BZGQiLCJubSIsIk1hdGgiLCJyYW5kb20iLCJ0b1N0cmluZyIsInN1YnN0ciIsInZhbGlkTWFjaGluZXNUb0FkZCIsImxlbmd0aCIsImluc2VydCIsImltcG9ydE1haW50ZW5hbmNlUmVjb3JkcyIsIm5ld01haW50ZW5hbmNlRGF0YSIsIm1hY2hpbmVzRGF0YSIsIm1hY2hpbmVzRXJyb3IiLCJtYWNoaW5lQ29kZVRvSWRNYXAiLCJtYWNoaW5lRGVzaWduYXRpb25Ub0lkTWFwIiwidG9Mb3dlckNhc2UiLCJ1bm1hdGNoZWRSZWNvcmRzQ291bnQiLCJ1bm1hdGNoZWRSZWNvcmRzIiwibWFpbnRlbmFuY2VSZWNvcmRzVG9BZGQiLCJ1bmRlZmluZWQiLCJtYWNoaW5lRGVzaWduYXRpb24iLCJlbnRyaWVzIiwiaW5jbHVkZXMiLCJiYXNlUmVjb3JkIiwibG9nIiwib3BlbkZpbHRlckdyb3VwTW9kYWwiLCJjbG9zZUZpbHRlckdyb3VwTW9kYWwiLCJzYXZlRmlsdGVyR3JvdXAiLCJncm91cERhdGEiLCJncm91cFRvU2F2ZSIsImRlbGV0ZUZpbHRlckdyb3VwIiwibmV3QXNzaWduZWQiLCJvcGVuTWFpbnRlbmFuY2VNb2RhbCIsInZpZXdPbmx5IiwiY2xvc2VNYWludGVuYW5jZU1vZGFsIiwic2F2ZU1haW50ZW5hbmNlUmVjb3JkIiwicmVjb3JkRGF0YSIsInJlY29yZFRvU2F2ZSIsImRlbGV0ZU1haW50ZW5hbmNlUmVjb3JkIiwicmVjb3JkSWQiLCJoYW5kbGVOb3RpZmljYXRpb25DbGljayIsIm5vdGlmaWNhdGlvbiIsIm1hcmtBbGxOb3RpZmljYXRpb25zQXNSZWFkIiwib3BlbkFkZFN0b2NrTW9kYWwiLCJpbmZvIiwiY2xvc2VBZGRTdG9ja01vZGFsIiwiYWRkU3RvY2siLCJxdWFudGl0eSIsImZpbHRlclJlZmVyZW5jZSIsImdyb3VwVG9VcGRhdGUiLCJnIiwibmV3UmVmZXJlbmNlcyIsInNldFRoZW1lIiwidGhlbWVJZCIsImNvbG9ycyIsIm9wZW5UaGVtZUN1c3RvbWl6ZXIiLCJ0aGVtZVRvRWRpdCIsImNsb3NlVGhlbWVDdXN0b21pemVyIiwic2F2ZUN1c3RvbVRoZW1lIiwidGhlbWVEYXRhIiwidXBkYXRlZFRoZW1lcyIsIm5ld1RoZW1lIiwiZGVsZXRlQ3VzdG9tVGhlbWUiLCJhY3Rpb25zIiwiY2xlYXJIaWdobGlnaHRlZEZpbHRlckdyb3VwIiwib3BlbkFJQXNzaXN0YW50IiwiY2xvc2VBSUFzc2lzdGFudCIsIm9wZW5TY2FubmVyIiwiY2xvc2VTY2FubmVyIiwib3BlbkltcG9ydE1vZGFsIiwic3RhdGUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./hooks/useAppLogic.ts\n"));

/***/ })

});